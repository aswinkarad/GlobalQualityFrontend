(function(){var e={6700:function(e,t,a){var i={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=s,e.exports=l,l.id=6700},7959:function(e,t,a){"use strict";var i=a(9242),l=a(3396),s=a(7718),n=a(3140);function o(e,t,a,i,o,r){const d=(0,l.up)("router-view");return(0,l.wg)(),(0,l.j4)(s.q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n.O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d)])),_:1})])),_:1})}var r={name:"App",data:()=>({})},d=a(89);const c=(0,d.Z)(r,[["render",o]]);var m=c,u=a(678),h=a(6265),p=a.n(h);function _(e,t,a,i,s,n){const o=(0,l.up)("navigationDrawer");return(0,l.wg)(),(0,l.j4)(o)}var g=a(7139),f=a(870),w=a(9234),E=a(3369),y=a(8694),b=a(8319),T=a(8874),v=a(917),S=a(7033);function C(e,t,i,s,n,o){const r=(0,l.up)("deleteWarnVue"),d=(0,l.up)("router-view");return(0,l.wg)(),(0,l.iD)("div",null,[e.isSidebarOpen?((0,l.wg)(),(0,l.j4)(S.V,{key:0,permanent:"",theme:"light",class:"modern-sidebar"},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,{height:"60",class:"sidebar-header"},{default:(0,l.w5)((()=>[(0,l.Wm)(y.f,{src:a(9428),height:"40",width:"150",contain:"",class:"logo"},null,8,["src"]),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{variant:"text",icon:"mdi-menu",onClick:o.toggleSidebar,class:"toggle-btn"},null,8,["onClick"])])),_:1}),(0,l.Wm)(T.i,{density:"default",nav:"",class:"sidebar-list"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.menuItems,(t=>((0,l.wg)(),(0,l.j4)(b.l,{key:t.title,to:t.to,"prepend-icon":t.icon,title:t.title,value:t.value,class:(0,g.C_)(["sidebar-item",{"active-item":e.$route.name===t.to.name}])},null,8,["to","prepend-icon","title","value","class"])))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.visibleMenuGroups,(e=>((0,l.wg)(),(0,l.j4)(v.N,{key:e.title,class:"sidebar-group"},{activator:(0,l.w5)((({props:t})=>[(0,l.Wm)(b.l,(0,l.dG)(t,{"prepend-icon":e.icon,title:e.title,value:e.value,class:"sidebar-group-header"}),null,16,["prepend-icon","title","value"])])),default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(e=>((0,l.wg)(),(0,l.j4)(b.l,{key:e.title,to:e.to,title:e.title,value:e.value,class:"sidebar-subitem"},null,8,["to","title","value"])))),128))])),_:2},1024)))),128)),(0,l.Wm)(b.l,{"prepend-icon":"mdi-logout",title:"Log Out",value:"logout",onClick:o.logoutWarn,class:"logout-item"},null,8,["onClick"])])),_:1})])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(E.K,{fluid:"",class:"pa-0"},{default:(0,l.w5)((()=>[e.isSidebarOpen?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f.T,{key:0,icon:"mdi-menu",onClick:o.toggleSidebar,class:"floating-toggle-btn"},null,8,["onClick"])),(0,l.Wm)(r,{visible:e.log_dialog,onClose:t[0]||(t[0]=t=>e.log_dialog=!1),item:e.deleteValue,onDelete:o.logOut,log:!0},null,8,["visible","item","onDelete"]),(0,l.Wm)(d)])),_:1})])}var I=a(3336),D=a(6572),k=a(1334),A=a(3601);const L={class:"text-center"},W=(0,l.Uk)("Are You Sure?"),V=(0,l.Uk)(" No item selected for deletion. "),N=(0,l.Uk)(" Do you want to clear the log? "),q=(0,l.Uk)(" Cancel "),U=(0,l.Uk)(" Yes ");function x(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",L,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.show=e),transition:"dialog-top-transition","max-width":"400"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[W])),_:1}),!a.log&&a.item?((0,l.wg)(),(0,l.j4)(D.E,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)(" Do you want to delete "+(0,g.zw)(a.item.categoryName)+"? ",1)])),_:1})):a.log||a.item?((0,l.wg)(),(0,l.j4)(D.E,{key:2},{default:(0,l.w5)((()=>[N])),_:1})):((0,l.wg)(),(0,l.j4)(D.E,{key:1},{default:(0,l.w5)((()=>[V])),_:1})),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4, 43, 76)"},onClick:t[0]||(t[0]=e=>n.show=!1)},{default:(0,l.w5)((()=>[q])),_:1}),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4, 43, 76)"},disabled:!a.item&&!a.log,onClick:n.deletethis},{default:(0,l.w5)((()=>[U])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var R={name:"DeleteWarn",props:{visible:{type:Boolean,required:!0},item:{type:Object,default:null},equipment:{type:Boolean,default:!1},log:{type:Boolean,default:!1}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{deletethis(){(this.item||this.log)&&(this.$emit("delete",this.item),this.show=!1)}}};const P=(0,d.Z)(R,[["render",x],["__scopeId","data-v-9f4eb5f0"]]);var M=P,z={name:"Sidebar",components:{deleteWarnVue:M},data:()=>({isSidebarOpen:!0,log_dialog:!1,menuItems:[{title:"Dashboard",icon:"mdi-view-dashboard-outline",to:{name:"dash"},value:"dashboard"},{title:"Category",icon:"mdi-view-list-outline",to:{name:"category"},value:"category"},{title:"Clients",icon:"mdi-account-outline",to:{name:"client"},value:"clients"},{title:"Equipment",icon:"mdi-vector-difference",to:{name:"equipment"},value:"equipment"},{title:"Services",icon:"mdi-hammer-wrench",to:{name:"serviceRequest"},value:"services"}],menuGroups:[{title:"Reminders",icon:"mdi-alarm",value:"reminders",items:[{title:"Preventive Reminders",to:{name:"preventiveReminders"},value:"preventiveReminders"}]},{title:"Reports",icon:"mdi-file-chart-outline",value:"reports",items:[{title:"Client Report",to:{name:"clientReport"},value:"clientReport"},{title:"Equipment Report",to:{name:"equipmentReport"},value:"equipmentReport"},{title:"Service Report",to:{name:"servicetReport"},value:"servicetReport"},{title:"Technician Report",to:{name:"technicianReport"},value:"technicianReport"}]},{title:"Users",icon:"mdi-account-group-outline",value:"users",items:[{title:"Admin",to:{name:"admin"},value:"admin"},{title:"Sub Admin",to:{name:"subAdmin"},value:"subAdmin"},{title:"Technician",to:{name:"technician"},value:"technician"}],visible:()=>"admin"===JSON.parse(localStorage.getItem("user"))?.role[0]},{title:"Settings",icon:"mdi-cog-outline",value:"settings",items:[{title:"City",to:{name:"cityPage"},value:"city"},{title:"Care Of",to:{name:"careOfPage"},value:"careOff"}],visible:()=>"Engineer"!==JSON.parse(localStorage.getItem("user"))?.role[0]}]}),computed:{visibleMenuGroups(){return this.menuGroups.filter((e=>!e.visible||e.visible()))}},methods:{toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},logoutWarn(){this.log_dialog=!0},async logOut(){const e=JSON.parse(localStorage.getItem("user"));await p().get("http://147.93.20.187/api/auth/log_out",{headers:{Authorization:"Bearer "+e.access_token}}).then((()=>{localStorage.clear(),this.$router.push({name:"signIn"})}))}}};const G=(0,d.Z)(z,[["render",C],["__scopeId","data-v-77d55214"]]);var O=G,$=a(65),j=(0,l.aZ)({name:"HomeView",computed:{...(0,$.rn)("user",["userData"])},components:{navigationDrawer:O},beforeMount(){const e=JSON.parse(localStorage.getItem("user"));e||this.$router.push({name:"signIn"})}});const B=(0,d.Z)(j,[["render",_]]);var Y=B,F=a(1314),H=a(4140),Q=a(1888),K=a(7103),Z=a(6824),J=a(8521),X=a(3289),ee=a(4413);const te=e=>((0,l.dD)("data-v-010deed6"),e=e(),(0,l.Cn)(),e),ae=(0,l.Uk)("mdi-chevron-right"),ie=te((()=>(0,l._)("br",null,null,-1))),le=te((()=>(0,l._)("br",null,null,-1))),se={class:"welcome-header"},ne=te((()=>(0,l._)("div",{class:"overlay"},null,-1))),oe={class:"animated-text"},re=te((()=>(0,l._)("br",null,null,-1))),de=te((()=>(0,l._)("br",null,null,-1))),ce={class:"dashboard-cards"},me={class:"services-section"},ue=te((()=>(0,l._)("div",{class:"text-h6 my-4 title-gradient"}," SERVICE REQUESTS ",-1))),he={key:0},pe=te((()=>(0,l._)("br",null,null,-1))),_e=(0,l.Uk)(),ge=te((()=>(0,l._)("br",null,null,-1)));function fe(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(E.K,{fluid:"",class:"hmmsdashboard"},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:s.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[ae])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),ie,le,(0,l._)("div",se,[ne,(0,l._)("h1",oe,"Welcome, "+(0,g.zw)(s.userName),1)]),re,de,(0,l._)("div",ce,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.dashValue,(e=>((0,l.wg)(),(0,l.j4)(J.D,{key:e.id,cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dashboard-card-item",elevation:"5",onClick:t=>n.navigateTo(e.title),style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"card-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.title),1)])),_:2},1024),(0,l.Wm)(Q.Z,{class:"card-data"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.data),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})]),(0,l._)("div",me,[ue,(0,l.Wm)(ee.Y,{class:"modern-table rounded-lg mt-4"},{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.headers,(e=>((0,l.wg)(),(0,l.iD)("th",{key:e,class:"text-left"},(0,g.zw)(e),1)))),128))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.serviceList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.name),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.city.city),1),(0,l._)("td",null,(0,g.zw)(e.call_handle.callHandle),1),(0,l._)("td",null,(0,g.zw)(e.workingcondition.workingCondition),1),(0,l._)("td",null,(0,g.zw)(e.sale.serialNo),1),(0,l._)("td",null,(0,g.zw)(e.callRegisterDate.split("T")[0]),1),(0,l._)("td",null,(0,g.zw)(e.priority.priority),1),(0,l._)("td",null,[e.user?((0,l.wg)(),(0,l.iD)("span",he,(0,g.zw)(e.user.username),1)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(K.v,{color:n.getStatusColor(e.working_status.workingStatus),class:"status-chip"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.working_status.workingStatus),1)])),_:2},1032,["color"])])])))),128))])])),_:1})])])),_:1}),pe,_e,ge],64)}var we=a(7783);const Ee={class:"card_text text-h3",style:{color:"#00284a"}},ye={class:"card_text_sub text-h6 pt-2",style:{color:"#00284a"}};function be(e,t,a,i,s,n){return(0,l.wg)(),(0,l.j4)(Z.o,{class:""},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.dash,(e=>((0,l.wg)(),(0,l.j4)(J.D,{cols:"12",md:"3",sm:"6",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"mx-auto",rounded:"lg",height:"150"},{default:(0,l.w5)((()=>[(0,l.Wm)(we.k,{class:"justify-center flex-column",style:{height:"100%"}},{default:(0,l.w5)((()=>[(0,l._)("div",Ee,(0,g.zw)(e.data),1),(0,l._)("div",ye,(0,g.zw)(e.title),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}var Te={name:"dashCard",props:{dash:{type:Array}},data:()=>({items:[{id:1,title:"Clients",data:1024},{id:2,title:"Equipments",data:987},{id:3,title:"Categories",data:56},{id:4,title:"Calibrations",data:453},{id:5,title:"Breakdown Maintenance",data:678},{id:6,title:"Premitive Maintenance",data:89},{id:7,title:"Premitive Reminders",data:15},{id:8,title:"Calibrations Reminder",data:45}]})};const ve=(0,d.Z)(Te,[["render",be],["__scopeId","data-v-435420b3"]]);var Se=ve,Ce={name:"dashboard",data(){return{userName:"",dashValue:[],breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Dashboard",disabled:!0,href:"/dashboard"}],headers:["#","Equipment Name","Client","City","Call Handle","Working Status","Serial Number","Registration Date","Priority","Assigned To","Status"]}},components:{dashboardCard:Se},computed:{...(0,$.rn)("service",["serviceList"]),...(0,$.rn)("dashboard",["dashboardValue"]),...(0,$.rn)("clients",["clientList"]),...(0,$.rn)("equipments",["allEquipments"])},methods:{...(0,$.nv)("service",["ADD_SERVICE","GET_SERVICE_LIST","CHENGE_SERVICE_STATUS","GET_SERVICE_WITH_ID","UPDATE_SERVICE"]),...(0,$.nv)("dashboard",["GET_DASHBOARD"]),...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("equipments",["GET_ALL_EQUIPMENT"]),async getDashValue(){await this.GET_DASHBOARD().then((()=>{this.dashValue=[{id:1,title:"Clients",data:this.dashboardValue.clientcount},{id:2,title:"Machines",data:this.dashboardValue.equipmentcount},{id:3,title:"Equipments",data:this.dashboardValue.salescount},{id:4,title:"Service",data:this.dashboardValue.servicecount}]}))},getStatusColor(e){const t={Open:"#FF5733",InProgress:"#FF8E53",Completed:"#00CC99",Verified:"#32CD32"};return t[e]||"#808080"},navigateTo(e){switch(e){case"Clients":this.$router.push({name:"client"});break;case"Machines":this.$router.push({name:"equipment"});break;case"Equipments":this.$router.push({name:"equipment"});break;case"Service":this.$router.push({name:"serviceRequest"});break;default:console.log("No route defined for this card")}}},mounted(){this.getDashValue(),this.GET_SERVICE_LIST(),this.GET_CLIENT_LIST(),this.GET_ALL_EQUIPMENT(),this.userName=JSON.parse(localStorage.getItem("user"))?.username||""}};const Ie=(0,d.Z)(Ce,[["render",fe],["__scopeId","data-v-010deed6"]]);var De=Ie;const ke=e=>((0,l.dD)("data-v-64dc2cb7"),e=e(),(0,l.Cn)(),e),Ae=ke((()=>(0,l._)("div",{class:"text-h6 mb-2 category-title",style:{"font-family":"'Montserrat', sans-serif !important"}}," CATEGORIES ",-1))),Le=(0,l.Uk)("mdi-chevron-right"),We={class:"mt-8 category-cards"};function Ve(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar"),r=(0,l.up)("addCat"),d=(0,l.up)("categorycard"),c=(0,l.up)("snackbarVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-4 hmmsdashboard",fluid:"",style:{"min-height":"100vh",background:"linear-gradient(135deg, #F5F7FA, #E8ECEF)"}},{default:(0,l.w5)((()=>[Ae,(0,l.Wm)(F.c,{items:s.bread,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"#FF5733"},{default:(0,l.w5)((()=>[Le])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text.toUpperCase()),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),(0,l.Wm)(o,{btn_text:s.cl_text,"show-button":s.showToolbar,onBtn_action:t[0]||(t[0]=e=>s.dialog=!0),class:"toolbar"},null,8,["btn_text","show-button"]),(0,l.Wm)(r,{visible:s.dialog,onClose:t[1]||(t[1]=e=>s.dialog=!1),onSave:n.addCategory,title:s.dialog_title,class:"dialog-animation"},null,8,["visible","onSave","title"]),(0,l._)("div",We,[(0,l.Wm)(d,{onClickOnCard:n.toSubCat,cat:e.categoryList,onDelteItem:n.deleteCat,onEditItem:n.editCat},null,8,["onClickOnCard","cat","onDelteItem","onEditItem"])]),(0,l.Wm)(c,{visible:s.snackbar,text:s.mssg,button:!1,color:s.snackColor,onClose:t[2]||(t[2]=e=>s.snackbar=!1),class:"snackbar-animation"},null,8,["visible","text","color"])])),_:1})}var Ne=a(2127),qe=a(4193);const Ue=(0,l.Uk)("mdi-dots-vertical"),xe=(0,l.Uk)("mdi-pencil-outline"),Re=(0,l.Uk)(" Edit "),Pe=(0,l.Uk)("mdi-trash-can-outline"),Me=(0,l.Uk)(" Delete "),ze={class:"image-container"},Ge={class:"card_text_sub text-h6",style:{color:"#00284a"}};function Oe(e,t,a,i,s,n){const o=(0,l.up)("editCategoryVue"),r=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(Z.o,{class:"justify-center",style:{"max-width":"2571px",margin:"auto"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.cat,(e=>((0,l.wg)(),(0,l.j4)(J.D,{cols:"12",md:"3",sm:"6",key:e.id},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"text-center card-container",rounded:"lg",height:"300",elevation:"2","max-width":"600",onClick:t=>n.toSubcat(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"px-2 admin-controls",style:{"font-size":"1rem"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),n.isAdmin()?((0,l.wg)(),(0,l.j4)(f.T,{key:0,flat:"",size:"150"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[Ue])),_:1}),(0,l.Wm)(qe.T,{activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{class:"pa-0"},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{onClick:t=>n.openEditDailog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"20"},{default:(0,l.w5)((()=>[xe])),_:1}),Re])),_:2},1032,["onClick"])])),_:2},1024),(0,l.Wm)(b.l,{onClick:t=>n.deleteItem(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"20"},{default:(0,l.w5)((()=>[Pe])),_:1}),Me])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1024),(0,l._)("div",ze,[(0,l.Wm)(y.f,{src:e.categoryImage||e.subcategoryImage,class:"card-image",cover:"",height:"100%",width:"100%"},null,8,["src"])]),(0,l.Wm)(we.k,{class:"justify-center flex-column card-footer"},{default:(0,l.w5)((()=>[(0,l._)("div",Ge,(0,g.zw)(e.categoryName||e.subcategoryName),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(o,{visible:e.edit_dialog,onClose:t[0]||(t[0]=t=>e.edit_dialog=!1),item:e.cat_name,onUpdate:n.upadateCategory},null,8,["visible","item","onUpdate"]),(0,l.Wm)(r,{visible:e.delete_dialog,onClose:t[1]||(t[1]=t=>e.delete_dialog=!1),item:e.deleteValue,onDelete:n.deleteCat},null,8,["visible","item","onDelete"])],64)}var $e=a(3121),je=a(2902);const Be={class:"text-center"},Ye={class:"text-h6",style:{"font-family":"Montserrat, sans-serif !important"}},Fe=(0,l.Uk)(" cancel "),He=(0,l.Uk)(" save ");function Qe(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Be,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[7]||(t[7]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{width:"400"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[(0,l._)("div",Ye,(0,g.zw)(a.title),1)])),_:1}),a.equipment?((0,l.wg)(),(0,l.j4)(Q.Z,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),"hide-details":"",label:"Equipment Name",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.modelNo,"onUpdate:modelValue":t[1]||(t[1]=e=>s.modelNo=e),"hide-details":"",label:"Model Number",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{accept:"image/png, image/jpeg, image/bmp",modelValue:s.image,"onUpdate:modelValue":t[2]||(t[2]=e=>s.image=e),"prepend-icon":"mdi-image-outline",label:"Image","hide-details":"",density:"comfortable",variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(Q.Z,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:a.item,"onUpdate:modelValue":t[3]||(t[3]=e=>a.item=e),"hide-details":"",label:"Category",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{accept:"image/png, image/jpeg, image/bmp",modelValue:s.image,"onUpdate:modelValue":t[4]||(t[4]=e=>s.image=e),"prepend-icon":"mdi-image-outline",label:"Image","hide-details":"",density:"comfortable",variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[5]||(t[5]=e=>n.show=!1)},{default:(0,l.w5)((()=>[Fe])),_:1}),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[6]||(t[6]=e=>n.addCat())},{default:(0,l.w5)((()=>[He])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var Ke={name:"EditCategory",data(){return{dialog:!1,name:"",image:"",modelNo:""}},props:{visible:{type:Boolean},title:{type:String,default:"Edit Category"},equipment:{type:Boolean,default:!1},item:{type:String}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{addCat(){const e={name:this.item,image:this.image};this.equipment&&(e.modelNo=this.modelNo),this.$emit("update",e),this.name="",this.image=""}},created(){this.name="",this.image="",this.modelNo=""}};const Ze=(0,d.Z)(Ke,[["render",Qe],["__scopeId","data-v-7f98cd8a"]]);var Je=Ze,Xe={name:"catCard",components:{editCategoryVue:Je,deleteWarnVue:M},props:{cat:{type:Array}},data:()=>({edit_dialog:!1,delete_dialog:!1,deleteValue:{},cat_name:"",cat_id:"",items:[{title:"Delete"},{title:""}]}),methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));return!!e&&"admin"===e.role[0]},toSubcat(e){this.$emit("clickOnCard",e)},deleteItem(e){this.deleteValue=e,this.delete_dialog=!0},deleteCat(e){this.$emit("delteItem",e),this.delete_dialog=!1},openEditDailog(e){this.cat_name=e.categoryName||e.subcategoryName,this.cat_id=e.id,this.edit_dialog=!0},upadateCategory(e){this.$emit("editItem",{item:e,id:this.cat_id}),this.edit_dialog=!1}}};const et=(0,d.Z)(Xe,[["render",Oe],["__scopeId","data-v-8b35139c"]]);var tt=et,at=a(240);const it={class:"text-center"},lt={class:"text-h6 dialog-title",style:{"font-family":"Montserrat, sans-serif !important"}},st={key:0,class:"error-text"},nt={key:0,class:"error-text"},ot={key:0,class:"error-text"},rt={key:0,class:"error-text"},dt={key:0,class:"error-text"},ct={key:0,class:"error-text"},mt=(0,l.Uk)(" Cancel "),ut=(0,l.Uk)(" Save ");function ht(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",it,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[8]||(t[8]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[(0,l._)("div",lt,(0,g.zw)(a.title),1)])),_:1}),a.equipment?((0,l.wg)(),(0,l.j4)(Q.Z,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),"hide-details":"",label:"Equipment Name",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"]),s.v$.name.$error?((0,l.wg)(),(0,l.iD)("span",st,(0,g.zw)(s.v$.name.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.model,"onUpdate:modelValue":t[1]||(t[1]=e=>s.model=e),"hide-details":"",label:"Model Number",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"]),s.v$.model.$error?((0,l.wg)(),(0,l.iD)("span",nt,(0,g.zw)(s.v$.model.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(at.r,{modelValue:s.warrantyStatus,"onUpdate:modelValue":t[2]||(t[2]=e=>s.warrantyStatus=e),items:n.warrantyStatusOptions,label:"Warranty Status",variant:"underlined",density:"comfortable","hide-details":""},null,8,["modelValue","items"]),s.v$.warrantyStatus.$error?((0,l.wg)(),(0,l.iD)("span",ot,(0,g.zw)(s.v$.warrantyStatus.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{accept:"image/png, image/jpeg, image/bmp",modelValue:s.image,"onUpdate:modelValue":t[3]||(t[3]=e=>s.image=e),"prepend-icon":"mdi-image-outline",label:"Image","hide-details":"",density:"comfortable",variant:"outlined"},null,8,["modelValue"]),s.v$.image.$error?((0,l.wg)(),(0,l.iD)("span",rt," Image is required ")):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1})):((0,l.wg)(),(0,l.j4)(Q.Z,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.name,"onUpdate:modelValue":t[4]||(t[4]=e=>s.name=e),"hide-details":"",label:"Category",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"]),s.v$.name.$error?((0,l.wg)(),(0,l.iD)("span",dt,(0,g.zw)(s.v$.name.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{accept:"image/png, image/jpeg, image/bmp",modelValue:s.image,"onUpdate:modelValue":t[5]||(t[5]=e=>s.image=e),"prepend-icon":"mdi-image-outline",label:"Image","hide-details":"",density:"comfortable",variant:"outlined"},null,8,["modelValue"]),s.v$.image.$error?((0,l.wg)(),(0,l.iD)("span",ct,(0,g.zw)(s.v$.image.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1})),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[6]||(t[6]=e=>n.show=!1)},{default:(0,l.w5)((()=>[mt])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[7]||(t[7]=e=>n.addCat())},{default:(0,l.w5)((()=>[ut])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var pt=a(3053),_t=a(9117),gt={data(){return{v$:(0,pt.ZP)(),dialog:!1,name:"",image:"",model:"",warrantyStatus:""}},validations(){return{name:{required:_t.C1},image:{required:_t.C1},model:{required:_t.C1},warrantyStatus:this.equipment?{required:_t.C1}:{}}},props:{visible:{type:Boolean},title:{type:String},equipment:{type:Boolean,default:!1},warrantyStatuses:{type:Array,default:()=>[]}},computed:{...(0,$.rn)("equipments",["statusList"]),warrantyStatusOptions(){return this.statusList.map((e=>({title:e.status,value:e.id})))},show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{...(0,$.nv)("equipments",["GET_STATUS_LIST"]),addCat(){this.v$.name.$validate(),this.v$.image.$validate();const e={name:this.name,image:this.image};this.equipment&&(this.v$.model.$validate(),e.model=this.model,e.warrantyStatus=this.warrantyStatus),0===this.v$.$errors.length&&(this.$emit("save",e),this.v$.$reset(),this.name="",this.image="",this.model="",this.warrantyStatus="")}},created(){this.name="",this.image="",this.model="",this.GET_STATUS_LIST()}};const ft=(0,d.Z)(gt,[["render",ht],["__scopeId","data-v-32837f48"]]);var wt=ft,Et=a(1328);const yt={style:{"text-transform":"none","font-family":"'Montserrat', sans-serif !important"}},bt=(0,l.Uk)("mdi-plus"),Tt=(0,l.Uk)("mdi-filter-outline"),vt={style:{"text-transform":"none","font-family":"'Montserrat', sans-serif !important"}},St=(0,l.Uk)(" Search "),Ct=(0,l.Uk)("mdi-magnify");function It(e,t,a,s,n,o){return(0,l.wg)(),(0,l.j4)(Et.iv,{height:"40",class:"px-0",style:{border:"1px solid #767373"},rounded:"lg"},{default:(0,l.w5)((()=>[a.btn_text&&a.showButton?((0,l.wg)(),(0,l.j4)(f.T,{key:0,style:{background:"#042b4c"},rounded:"0",color:"white",height:"inherit",onClick:o.addActoin},{default:(0,l.w5)((()=>[(0,l._)("span",yt,[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[bt])),_:1}),(0,l.Uk)(" "+(0,g.zw)(a.btn_text),1)])])),_:1},8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(je.h,{"bg-color":"#f6fbfe",clearable:"",modelValue:n.text,"onUpdate:modelValue":t[0]||(t[0]=e=>n.text=e),density:"compact",placeholder:a.placeholder,onKeyup:t[1]||(t[1]=(0,i.D2)((e=>o.search()),["enter"])),lass:"","hide-details":"",variant:"plain","single-line":""},null,8,["modelValue","placeholder"]),(0,l.Wm)(f.T,{style:{background:"#fefefe"},rounded:"0",color:"white",height:"inherit",onClick:o.filterBtn},{default:(0,l.w5)((()=>[(0,l._)("span",null,[(0,l.Wm)(X.t,{size:"large",color:"#042b4c"},{default:(0,l.w5)((()=>[Tt])),_:1})])])),_:1},8,["onClick"]),(0,l.Wm)(f.T,{style:{background:"#042b4c"},rounded:"0",color:"white",height:"inherit",onClick:t[2]||(t[2]=e=>o.search())},{default:(0,l.w5)((()=>[(0,l._)("span",vt,[St,(0,l.Wm)(X.t,{size:"large"},{default:(0,l.w5)((()=>[Ct])),_:1})])])),_:1})])),_:1})}var Dt={name:"searchFilteToolbar",data(){return{text:"",items:["foo","bar","fizz","buzz"]}},props:{btn_text:{type:String},placeholder:{type:String},auto:{type:Boolean,default:!1},showButton:{type:Boolean,default:!0}},watch:{text(e,t){this.auto&&this.$emit("fiterWithName",e)}},methods:{addActoin(){this.$emit("btn_action")},filterBtn(){this.$emit("filterBtn")},search(){this.$emit("search",this.text)}}};const kt=(0,d.Z)(Dt,[["render",It]]);var At=kt,Lt=a(3444);const Wt={class:"text-center"},Vt=(0,l.Uk)(" Close ");function Nt(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Wt,[(0,l.Wm)(Lt.v,{modelValue:n.show,"onUpdate:modelValue":t[1]||(t[1]=e=>n.show=e),type:"error",color:a.color,timeout:e.timeout},(0,l.Nv)({default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.text)+" ",1)])),_:2},[a.button?{name:"actions",fn:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",variant:"text",onClick:t[0]||(t[0]=e=>n.show=!1)},{default:(0,l.w5)((()=>[Vt])),_:1})]))}:void 0]),1032,["modelValue","color","timeout"])])}var qt={name:"warnSnackbar",data:()=>({snackbar:!1,timeout:2e3}),props:{visible:{type:Boolean},text:{type:String,default:"You must login first"},button:{type:Boolean,default:!0},color:{type:String}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}}};const Ut=(0,d.Z)(qt,[["render",Nt]]);var xt=Ut,Rt={name:"category",data(){return{cl_text:"Add Category",dialog_title:"Add Category",dialog:!1,snackbar:!1,mssg:"",snackColor:"",cat_text:null,showToolbar:!1,bread:[{text:"Categories",disabled:!1},{text:"Sub category",disabled:!0},{text:"Equipments",disabled:!0}]}},components:{searchAndFilterToolbar:At,categorycard:tt,addCat:wt,snackbarVue:xt},computed:{...(0,$.rn)("category",["categoryList","result"]),...(0,$.rn)("subCategory",["subCategoryList"])},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];"admin"===t?(this.cat_text="Add Category",this.showToolbar=!0):"Engineer"===t?(this.cat_text=null,this.showToolbar=!1):(this.cat_text=null,this.showToolbar=!0)}},...(0,$.nv)("category",["GET_ALL_CATEGORY","ADD_CATEGORY","UPDATE_CATEGORY","DELETE_CATEGORY"]),...(0,$.nv)("subCategory",["GET_SUB_CATEGORY"]),toSubCat(e){this.$router.push({name:"subCat",params:{cat_name:e.categoryName}})},async addCategory(e){await this.ADD_CATEGORY(e).then((()=>{"Validation error"===this.result.message?(this.snackColor="error",this.mssg=`${e.name} is Already Exist`,this.snackbar=!0):(this.snackColor="success",this.mssg="Category Added Successfully",this.snackbar=!0,this.GET_ALL_CATEGORY(),this.dialog=!1)}))},async deleteCat(e){this.GET_SUB_CATEGORY({cat_name:e.categoryName}).then((()=>{0==this.subCategoryList.length?this.DELETE_CATEGORY(e).then((()=>{this.snackColor="success",this.mssg="Category deleted Successfully",this.snackbar=!0,this.dialog=!1,this.GET_ALL_CATEGORY()})):(this.snackColor="error",this.mssg="Please delete all sub-categories before deleting category.",this.snackbar=!0,this.dialog=!1)}))},async editCat(e){await this.UPDATE_CATEGORY(e),await this.GET_ALL_CATEGORY()}},mounted(){this.isAdmin(),this.GET_ALL_CATEGORY()}};const Pt=(0,d.Z)(Rt,[["render",Ve],["__scopeId","data-v-64dc2cb7"]]);var Mt=Pt;const zt=e=>((0,l.dD)("data-v-1ff62d2c"),e=e(),(0,l.Cn)(),e),Gt=zt((()=>(0,l._)("div",{class:"text-h6 mb-2 category-title",style:{"font-family":"'Montserrat', sans-serif !important"}}," SUB CATEGORIES ",-1))),Ot=(0,l.Uk)("mdi-chevron-right"),$t={class:"mt-8 category-cards"};function jt(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar"),r=(0,l.up)("categoryCard"),d=(0,l.up)("addCat"),c=(0,l.up)("snackbarVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-4 hmmsdashboard",fluid:"",style:{"min-height":"100vh",background:"linear-gradient(135deg, #F5F7FA, #E8ECEF)"}},{default:(0,l.w5)((()=>[Gt,(0,l.Wm)(F.c,{items:s.bread,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"#FF5733"},{default:(0,l.w5)((()=>[Ot])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{to:e.to,disabled:e.disabled,exact:"",class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text.toUpperCase()),1)])),_:2},1032,["to","disabled"])])),_:1},8,["items"]),(0,l.Wm)(o,{btn_text:s.cl_text,"show-button":s.showToolbar,"show-filter-icon":!1,onBtn_action:t[0]||(t[0]=e=>s.dialog=!0),class:"toolbar"},null,8,["btn_text","show-button"]),(0,l._)("div",$t,[(0,l.Wm)(r,{onClickOnCard:n.toEquipment,cat:e.subCategoryList,onDelteItem:n.deleteSubCat,onEditItem:n.editSubCat},null,8,["onClickOnCard","cat","onDelteItem","onEditItem"])]),(0,l.Wm)(d,{visible:s.dialog,onClose:t[1]||(t[1]=e=>s.dialog=!1),onSave:n.addSubCategory,title:s.dialog_title,class:"dialog-animation"},null,8,["visible","onSave","title"]),(0,l.Wm)(c,{visible:s.snackbar,text:s.mssg,button:!1,color:s.snackColor,onClose:t[2]||(t[2]=e=>s.snackbar=!1),class:"snackbar-animation"},null,8,["visible","text","color"])])),_:1})}var Bt={name:"subCategory",components:{searchAndFilterToolbar:At,categoryCard:tt,addCat:wt,snackbarVue:xt},data(){return{cl_text:"Add Sub Category",dialog_title:"Add Sub Category",dialog:!1,snackbar:!1,mssg:"",snackColor:"",showToolbar:!1,sub_text:"Add Sub Category",bread:[{text:"Categories",disabled:!1,exact:!0,to:{name:"category"}},{text:"Sub category",disabled:!1},{text:"Equipments",disabled:!0}]}},computed:{...(0,$.rn)("subCategory",["subCategoryList"])},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];"admin"===t?(this.sub_text="Add Sub Category",this.showToolbar=!0):"Engineer"===t?(this.sub_text=null,this.showToolbar=!1):(this.sub_text=null,this.showToolbar=!0)}},...(0,$.nv)("subCategory",["GET_SUB_CATEGORY","ADD_SUB_CATEGORY","DELETE_SUBCATEGORY","UPDATE_SUBCATEGORY"]),toEquipment(e){this.$router.push({name:"subEquipment",params:{sub_name:e.subcategoryName,id:e.id}})},async addSubCategory(e){await this.ADD_SUB_CATEGORY(e).then((()=>{this.snackColor="success",this.mssg="Sub Category Added Successfully",this.snackbar=!0,this.GET_SUB_CATEGORY(this.$route.params),this.dialog=!1}))},async deleteSubCat(e){await this.DELETE_SUBCATEGORY(e).then((()=>{this.snackColor="success",this.mssg="Sub Category deleted Successfully",this.snackbar=!0,this.GET_SUB_CATEGORY(this.$route.params)}))},async editSubCat(e){await this.UPDATE_SUBCATEGORY(e).then((()=>{this.snackColor="success",this.mssg="Sub Category updated Successfully",this.snackbar=!0,this.GET_SUB_CATEGORY(this.$route.params)}))}},mounted(){this.isAdmin(),this.GET_SUB_CATEGORY(this.$route.params)}};const Yt=(0,d.Z)(Bt,[["render",jt],["__scopeId","data-v-1ff62d2c"]]);var Ft=Yt,Ht=a(652),Qt=a(7584);const Kt=e=>((0,l.dD)("data-v-7cd575c4"),e=e(),(0,l.Cn)(),e),Zt=Kt((()=>(0,l._)("div",{class:"text-h6 mb-2 category-title",style:{"font-family":"'Montserrat', sans-serif !important"}}," EQUIPMENTS ",-1))),Jt=(0,l.Uk)("mdi-chevron-right"),Xt=Kt((()=>(0,l._)("th",{class:"text-left"},"#",-1))),ea=Kt((()=>(0,l._)("th",{class:"text-left"},"Name",-1))),ta=Kt((()=>(0,l._)("th",{class:"text-left"},"Model Number",-1))),aa=Kt((()=>(0,l._)("th",{class:"text-left"},"Image",-1))),ia=Kt((()=>(0,l._)("th",{class:"text-left"},"Warranty Status",-1))),la={key:0,class:"text-left"},sa={class:"d-flex"},na=["src"],oa={key:0};function ra(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar"),r=(0,l.up)("paginationVue"),d=(0,l.up)("snackbarVue"),c=(0,l.up)("deleteWarnVue"),m=(0,l.up)("addCat"),u=(0,l.up)("editEquipment");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-4 hmmsdashboard",fluid:"",style:{"min-height":"100vh",background:"linear-gradient(135deg, #F5F7FA, #E8ECEF)"}},{default:(0,l.w5)((()=>[Zt,(0,l.Wm)(F.c,{items:s.bread,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"#FF5733"},{default:(0,l.w5)((()=>[Jt])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{to:e.to,disabled:e.disabled,exact:"",class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text.toUpperCase()),1)])),_:2},1032,["to","disabled"])])),_:1},8,["items"]),(0,l.Wm)(o,{btn_text:s.cl_text,"show-button":s.showToolbar,"show-filter-icon":!1,onBtn_action:t[0]||(t[0]=e=>s.dialog=!0),class:"toolbar"},null,8,["btn_text","show-button"]),(0,l.Wm)(ee.Y,{class:"modern-table rounded-lg mt-8"},{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[Xt,ea,ta,aa,ia,s.showToolbar?((0,l.wg)(),(0,l.iD)("th",la,"Actions")):(0,l.kq)("",!0)])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.equipmentListAll,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.name,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.model),1),(0,l._)("td",null,[(0,l._)("div",sa,[(0,l._)("img",{height:"80",width:"110",src:e.equipmentImage,alt:"",class:"equipment-image"},null,8,na)])]),(0,l._)("td",{style:(0,g.j5)({color:"Yes"===e.warranty_status.status?"green":"red"})},(0,g.zw)(e.warranty_status.status),5),s.showToolbar?((0,l.wg)(),(0,l.iD)("td",oa,[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openEditDialog(e),color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openDeleteDialog(e),color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024)])):(0,l.kq)("",!0)])))),128))])])),_:1}),(0,l.Wm)(r,{length:e.equipmentTotalPage,onChanegePage:n.chanegePage,class:"pagination"},null,8,["length","onChanegePage"]),(0,l.Wm)(d,{visible:s.snackbar,text:s.mssg,button:!1,color:s.snackColor,onClose:t[1]||(t[1]=e=>s.snackbar=!1),class:"snackbar-animation"},null,8,["visible","text","color"]),(0,l.Wm)(c,{visible:s.delete_dialog,onClose:t[2]||(t[2]=e=>s.delete_dialog=!1),item:s.deleteValue,onDelete:n.deleteEquipment},null,8,["visible","item","onDelete"]),(0,l.Wm)(m,{visible:s.dialog,onClose:t[3]||(t[3]=e=>s.dialog=!1),onSave:n.addEquipment,title:s.dialog_title,equipment:!0,class:"dialog-animation"},null,8,["visible","onSave","title"]),(0,l.Wm)(u,{visible:s.edit_dialog,onClose:t[4]||(t[4]=e=>s.edit_dialog=!1),equipment:!0,item:s.edit_value,onUpdate:n.update_equipment,class:"dialog-animation"},null,8,["visible","item","onUpdate"])])),_:1})}const da={class:"text-center"},ca={class:"text-h6",style:{"font-family":"Montserrat, sans-serif !important"}},ma=(0,l.Uk)(" cancel "),ua=(0,l.Uk)(" save ");function ha(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",da,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[6]||(t[6]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{width:"400"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[(0,l._)("div",ca,(0,g.zw)(a.title),1)])),_:1}),a.equipment?((0,l.wg)(),(0,l.j4)(Q.Z,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.equipmentName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.equipmentName=e),"hide-details":"",label:"Equipment Name",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.model,"onUpdate:modelValue":t[1]||(t[1]=e=>s.model=e),"hide-details":"",label:"Model Number",placeholder:"",variant:"underlined",density:"comfortable"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(at.r,{modelValue:s.warrantyStatus,"onUpdate:modelValue":t[2]||(t[2]=e=>s.warrantyStatus=e),items:n.warrantyStatusOptions,label:"Warranty Status",variant:"underlined",density:"comfortable","hide-details":""},null,8,["modelValue","items"])])),_:1})])),_:1}),(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[s.existingImage&&!s.image?((0,l.wg)(),(0,l.j4)(y.f,{key:0,src:s.existingImage,"max-height":"100","max-width":"100",class:"mb-2"},null,8,["src"])):(0,l.kq)("",!0),(0,l.Wm)($e.Z,{accept:"image/png, image/jpeg, image/bmp",modelValue:s.image,"onUpdate:modelValue":t[3]||(t[3]=e=>s.image=e),"prepend-icon":"mdi-image-outline",label:"Image","hide-details":"",density:"comfortable",variant:"outlined"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[4]||(t[4]=e=>n.show=!1)},{default:(0,l.w5)((()=>[ma])),_:1}),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[5]||(t[5]=e=>n.addCat())},{default:(0,l.w5)((()=>[ua])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var pa={name:"EditEquipment",data(){return{dialog:!1,equipmentName:"",model:"",image:[],existingImage:"",warrantyStatus:""}},props:{visible:{type:Boolean},title:{type:String,default:"Edit Equipment"},equipment:{type:Boolean,default:!1},item:{type:Object,default:()=>({})},warrantyStatuses:{type:Array,default:()=>[]}},computed:{...(0,$.rn)("equipments",["statusList"]),warrantyStatusOptions(){return this.statusList.map((e=>({title:e.status,value:e.id})))},show:{get(){return this.visible},set(e){e||this.$emit("close")}}},watch:{item:{immediate:!0,handler(e){this.equipmentName=e.equipmentName||"",this.model=e.model||"",this.warrantyStatus=e.warrantyStatusId||null,this.existingImage=e.equipmentImage||"",this.image=[]}}},methods:{...(0,$.nv)("equipments",["GET_STATUS_LIST"]),addCat(){const e={name:this.equipmentName,model:this.model,warrantyStatusId:this.warrantyStatus,image:this.image.length?this.image:this.existingImage};console.log("Payload being sent:",e),this.$emit("update",e)}},created(){this.name="",this.image="",this.modelNo="",this.GET_STATUS_LIST(),this.image=[],this.existingImage=""}};const _a=(0,d.Z)(pa,[["render",ha],["__scopeId","data-v-47526815"]]);var ga=_a,fa=a(6556);const wa={class:"text-center"};function Ea(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",wa,[(0,l.Wm)(Z.o,{justify:"center",class:"mt-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"8"},{default:(0,l.w5)((()=>[(0,l.Wm)(fa.k,{rounded:"circle",modelValue:s.page,"onUpdate:modelValue":t[0]||(t[0]=e=>s.page=e),class:"",length:a.length,"total-visible":4},null,8,["modelValue","length"])])),_:1})])),_:1})])}var ya={name:"pagination",data(){return{page:1}},watch:{page(e){this.test(e)}},props:{length:{type:Number}},methods:{test(e){this.$emit("chanegePage",e)}}};const ba=(0,d.Z)(ya,[["render",Ea]]);var Ta=ba,va={name:"equipmentPage",components:{searchAndFilterToolbar:At,addCat:wt,deleteWarnVue:M,editEquipment:ga,paginationVue:Ta,snackbarVue:xt},data(){return{cl_text:"Add Equipment",dialog:!1,snackbar:!1,mssg:"",snackColor:"",dialog_title:"Add Equipment",delete_dialog:!1,edit_dialog:!1,edit_id:"",edit_value:{},deleteValue:{},showToolbar:!1,bread:[{text:"Categories",disabled:!1,exact:!0,to:{name:"category"}},{text:"Sub category",disabled:!1,to:{name:"subCat"}},{text:"Equipments",disabled:!1}]}},computed:{...(0,$.rn)("equipments",["equipmentListAll","editValue","equipmentTotalPage"])},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];this.showToolbar="Engineer"!==t}},...(0,$.nv)("equipments",["ADD_EQUIPMENT","GET_EQUIPMENT","DELETE_EQUIPMENT","GET_EQUIPMENT_BY_ID","UPDATE_EQUIPMENT"]),async addEquipment(e){e.id=this.$route.params.id,await this.ADD_EQUIPMENT(e).then((()=>{this.snackColor="success",this.mssg="Equipment added Successfully",this.snackbar=!0,this.getEquipment(),this.dialog=!1}))},getEquipment(){this.GET_EQUIPMENT(this.$route.params)},openDeleteDialog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteEquipment(e){await this.DELETE_EQUIPMENT(e).then((()=>{this.snackColor="success",this.mssg="Equipment deleted Successfully",this.snackbar=!0,this.GET_EQUIPMENT(this.$route.params).then((()=>{this.delete_dialog=!1}))}))},openEditDialog(e){this.edit_id=e.id,this.edit_value={...e},this.$nextTick((()=>{this.edit_dialog=!0}))},async update_equipment(e){e.id=this.edit_id,await this.UPDATE_EQUIPMENT(e).then((()=>{this.snackColor="success",this.mssg="Equipment updated Successfully",this.snackbar=!0,this.GET_EQUIPMENT(this.$route.params).then((()=>{this.edit_dialog=!1}))})).catch((e=>{this.snackColor="error",this.mssg="Failed to update equipment",this.snackbar=!0,console.error(e)}))},chanegePage(e){const t=this.$route.params,a={params:t,query:{page:e,size:15}};this.GET_EQUIPMENT(a)}},mounted(){this.GET_EQUIPMENT(this.$route.params),this.isAdmin()}};const Sa=(0,d.Z)(va,[["render",ra],["__scopeId","data-v-7cd575c4"]]);var Ca=Sa,Ia=a(988);const Da=e=>((0,l.dD)("data-v-96eb6632"),e=e(),(0,l.Cn)(),e),ka=(0,l.Uk)("mdi-chevron-right"),Aa=Da((()=>(0,l._)("br",null,null,-1))),La=Da((()=>(0,l._)("br",null,null,-1))),Wa=Da((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," EQUIPMENTS ",-1))),Va={key:0,class:"mt-4 mb-2"},Na=Da((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),qa=Da((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"Serial No"),(0,l._)("th",{class:"text-left"},"Equipment name"),(0,l._)("th",{class:"text-left"},"Client"),(0,l._)("th",{class:"text-left"},"Model"),(0,l._)("th",{class:"text-left"},"Categories"),(0,l._)("th",{class:"text-left"},"Installation Date"),(0,l._)("th",{class:"text-left"},"Warranty Date"),(0,l._)("th",{class:"text-left"},"Actions")])],-1))),Ua={key:0},xa={key:1},Ra=(0,l.Uk)("mdi-dots-vertical"),Pa=(0,l.Uk)("mdi-eye-outline"),Ma=(0,l.Uk)(" View "),za=(0,l.Uk)("mdi-pencil-outline"),Ga=(0,l.Uk)(" Edit "),Oa=(0,l.Uk)("mdi-trash-can-outline"),$a=(0,l.Uk)(" Delete "),ja=(0,l.Uk)("mdi-av-timer"),Ba=(0,l.Uk)(" Edit Maintenance ");function Ya(e,t,a,s,n,o){const r=(0,l.up)("searchAndFilterToolbar"),d=(0,l.up)("paginationVue"),c=(0,l.up)("editSaleEquipment"),m=(0,l.up)("editMaintCaldaysVue"),u=(0,l.up)("addEquipment"),h=(0,l.up)("deleteWarnVue"),p=(0,l.up)("loadingDailogVue"),_=(0,l.up)("snackbarVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[ka])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),Aa,La,Wa,(0,l.Wm)(r,{btn_text:n.Eq_text,"show-button":n.showToolbar,onBtn_action:t[0]||(t[0]=e=>n.dialog=!0),placeholder:"Search with Serial No, Equipment Name and Client",auto:!0,onFilterBtn:o.displayFilter,onFiterWithName:o.filterEqu_clName},null,8,["btn_text","show-button","onFilterBtn","onFiterWithName"]),(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[n.filterDisplay?((0,l.wg)(),(0,l.iD)("div",Va,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.city,"onUpdate:modelValue":t[1]||(t[1]=e=>n.city=e),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:e.cityList,"item-title":"city","item-value":"id",label:"City"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:t[2]||(t[2]=e=>o.filterEquipment())},{default:(0,l.w5)((()=>[Na])),_:1})])),_:1})])),_:1})])):(0,l.kq)("",!0)])),_:1}),(0,l._)("div",null,[(0,l.Wm)(ee.Y,{class:"mt-8"},{default:(0,l.w5)((()=>[qa,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.saleEquipmentList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,g.zw)(e.serialNo),1),(0,l._)("td",null,(0,g.zw)(e.equipment?.equipmentName||"N/A"),1),e.client?.arabicname?((0,l.wg)(),(0,l.iD)("td",Ua,(0,g.zw)(e.client.name+" "+e.client.arabicname),1)):((0,l.wg)(),(0,l.iD)("td",xa,(0,g.zw)(e.client?.name||"N/A"),1)),(0,l._)("td",null,(0,g.zw)(e.equipment?.model||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.equipment?.subcategory?.category?.categoryName||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.installationDate?.split("T")[0]||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.warrantyDate?.split("T")[0]||"N/A"),1),(0,l._)("td",null,[(0,l.Wm)(qe.T,{transition:"scale-transition"},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)({icon:""},e),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[Ra])),_:1})])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,{onClick:t=>o.toInnerPage(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[Pa])),_:1}),Ma])),_:1})])),_:2},1032,["onClick"]),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:0,onClick:t=>o.openEditdialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[za])),_:1}),Ga])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:1,onClick:t=>o.openDeletedialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[Oa])),_:1}),$a])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:2,onClick:t=>o.openEditdialog2(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[ja])),_:1}),Ba])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])])))),128))])])),_:1})]),(0,l.Wm)(d,{length:e.saleTotalPage,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"]),(0,l.Wm)(c,{visible:n.edit_dialog,onClose:t[3]||(t[3]=e=>n.edit_dialog=!1),onSave:o.editSale,items:n.tempEditValue},null,8,["visible","onSave","items"]),(0,l.Wm)(m,{visible:n.daysEdit_dialog,onClose:t[4]||(t[4]=e=>n.daysEdit_dialog=!1),onSave:o.editSale,items:n.tempEditValue},null,8,["visible","onSave","items"]),(0,l.Wm)(u,{visible:n.dialog,onClose:t[5]||(t[5]=e=>n.dialog=!1),onSave:o.addSale,title:n.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(h,{visible:n.delete_dialog,onClose:t[6]||(t[6]=e=>n.delete_dialog=!1),item:n.deleteValue,onDelete:o.deleteSale},null,8,["visible","item","onDelete"]),(0,l.Wm)(p,{visible:n.loading,onClose:t[7]||(t[7]=e=>n.loading=!1)},null,8,["visible"]),(0,l.Wm)(_,{visible:n.snackbar,text:n.mssg,button:!1,color:n.snackColor,onClose:t[8]||(t[8]=e=>n.snackbar=!1)},null,8,["visible","text","color"])])),_:1})}const Fa={class:"text-center"},Ha=(0,l.Uk)("mdi-close"),Qa={key:0,class:"error-text"},Ka={key:0,class:"error-text"},Za={key:0,class:"error-text"},Ja={key:0,class:"error-text"},Xa={key:0,class:"error-text"},ei={key:0,class:"error-text"},ti={key:0,class:"error-text"},ai={key:0,class:"error-text"},ii={key:0,class:"error-text"},li={key:0,class:"error-text"},si=(0,l.Uk)(" Cancel "),ni=(0,l.Uk)(" Save ");function oi(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Fa,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[18]||(t[18]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":n.isMobile?"100%":"900",fullscreen:n.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[Ha])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",search:s.search,"onUpdate:search":t[1]||(t[1]=e=>s.search=e),modelValue:s.selcetdClient,"onUpdate:modelValue":t[2]||(t[2]=e=>s.selcetdClient=e),clearable:"",items:e.clientList,"item-title":"name","item-value":"id",label:"Client",class:"custom-field","prepend-inner-icon":"mdi-account"},null,8,["search","modelValue","items"]),s.v$.selcetdClient.$error?((0,l.wg)(),(0,l.iD)("span",Qa," Client is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.selcetdCategory,"onUpdate:modelValue":t[3]||(t[3]=e=>s.selcetdCategory=e),clearable:"",items:e.categoryList,"item-title":"categoryName","item-value":"id",label:"Category",class:"custom-field","prepend-inner-icon":"mdi-shape"},null,8,["modelValue","items"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.selcetdSubCategory,"onUpdate:modelValue":t[4]||(t[4]=e=>s.selcetdSubCategory=e),clearable:"",items:s.availSubCatList,"item-title":"subcategoryName","item-value":"id",label:"Sub Category",class:"custom-field","prepend-inner-icon":"mdi-shape-outline",onClick:n.getSubcatList},null,8,["modelValue","items","onClick"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.selcetedEquipment,"onUpdate:modelValue":t[5]||(t[5]=e=>s.selcetedEquipment=e),clearable:"",items:s.availableEquilist,"item-title":"equipmentName","item-value":"id",label:"Equipment",class:"custom-field","prepend-inner-icon":"mdi-tools",onClick:n.getEquiList},null,8,["modelValue","items","onClick"]),s.v$.selcetedEquipment.$error?((0,l.wg)(),(0,l.iD)("span",Ka," Equipment is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Maintenance Period",density:"compact",modelValue:s.MaintenancePeriod,"onUpdate:modelValue":t[6]||(t[6]=e=>s.MaintenancePeriod=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-clock"},null,8,["modelValue"]),s.v$.MaintenancePeriod.$error?((0,l.wg)(),(0,l.iD)("span",Za,(0,g.zw)(s.v$.MaintenancePeriod.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Serial No",density:"compact",modelValue:s.serialNo,"onUpdate:modelValue":t[7]||(t[7]=e=>s.serialNo=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-barcode"},null,8,["modelValue"]),s.v$.serialNo.$error?((0,l.wg)(),(0,l.iD)("span",Ja," Serial No is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Installation Date",type:"date",density:"compact",modelValue:s.InstallationDate,"onUpdate:modelValue":t[8]||(t[8]=e=>s.InstallationDate=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-start"},null,8,["modelValue"]),s.v$.InstallationDate.$error?((0,l.wg)(),(0,l.iD)("span",Xa," Installation Date is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Last Maintenance Date",type:"date",density:"compact",modelValue:s.lastMainDate,"onUpdate:modelValue":t[9]||(t[9]=e=>s.lastMainDate=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-check"},null,8,["modelValue"]),s.v$.lastMainDate.$error?((0,l.wg)(),(0,l.iD)("span",ei," Last Maintenance Date is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Warranty Expiry Date",type:"date",density:"compact",modelValue:s.WarrantyDate,"onUpdate:modelValue":t[10]||(t[10]=e=>s.WarrantyDate=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-end"},null,8,["modelValue"]),s.v$.WarrantyDate.$error?((0,l.wg)(),(0,l.iD)("span",ti," Warranty Expiry Date is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.invoice,"onUpdate:modelValue":t[11]||(t[11]=e=>s.invoice=e),"show-size":"",label:"Invoice",class:"custom-field",multiple:"false"},null,8,["modelValue"]),s.v$.invoice.$error?((0,l.wg)(),(0,l.iD)("span",ai," Invoice is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.amc,"onUpdate:modelValue":t[12]||(t[12]=e=>s.amc=e),"show-size":"",label:"AMC Document",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.installationReport,"onUpdate:modelValue":t[13]||(t[13]=e=>s.installationReport=e),"show-size":"",label:"Installation Report",class:"custom-field",multiple:"false"},null,8,["modelValue"]),s.v$.installationReport.$error?((0,l.wg)(),(0,l.iD)("span",ii," Installation Report is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.warranty,"onUpdate:modelValue":t[14]||(t[14]=e=>s.warranty=e),"show-size":"",label:"Warranty Document",class:"custom-field",multiple:"false"},null,8,["modelValue"]),s.v$.warranty.$error?((0,l.wg)(),(0,l.iD)("span",li," Warranty Document is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.maintenance,"onUpdate:modelValue":t[15]||(t[15]=e=>s.maintenance=e),"show-size":"",label:"Maintenance Contract",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[16]||(t[16]=e=>n.show=!1)},{default:(0,l.w5)((()=>[si])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[17]||(t[17]=e=>n.addSale())},{default:(0,l.w5)((()=>[ni])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var ri={name:"addEquipment",data(){return{v$:(0,pt.ZP)(),dialog:!1,serialNo:"",MaintenancePeriod:"",selcetdClient:"",selcetdCategory:"",selcetdSubCategory:"",selcetedEquipment:"",invoice:"",amc:"",installationReport:"",warranty:"",maintenance:"",InstallationDate:"",WarrantyDate:"",availSubCatList:[],availableEquilist:[],search:"",lastMainDate:""}},watch:{search(e){this.GET_CLIENT_LIST({name:e})},InstallationDate(e){this.lastMainDate=e}},validations(){return{selcetdClient:{required:_t.C1},selcetedEquipment:{required:_t.C1},MaintenancePeriod:{required:_t.C1,numeric:_t.uR},serialNo:{required:_t.C1},InstallationDate:{required:_t.C1},WarrantyDate:{required:_t.C1},invoice:{required:_t.C1},installationReport:{required:_t.C1},warranty:{required:_t.C1},lastMainDate:{required:_t.C1}}},props:{visible:{type:Boolean},title:{type:String}},computed:{...(0,$.rn)("clients",["clientList"]),...(0,$.rn)("category",["categoryList"]),...(0,$.rn)("subCategory",["subcatList"]),...(0,$.rn)("equipments",["allEquipments"]),isMobile(){return this.$vuetify.display.smAndDown},show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{...(0,$.nv)("clients",["GET_CLIENT_LIST","ADD_CLIENT","DELETE_CLIENT","GET_CLIENT_BY_ID","UPDATE_CLIENT"]),...(0,$.nv)("category",["GET_ALL_CATEGORY","ADD_CATEGORY","UPDATE_CATEGORY","DELETE_CATEGORY"]),...(0,$.nv)("subCategory",["GET_SUB_CATEGORY","GET_ALL_SUBCATEGORY"]),...(0,$.nv)("equipments",["GET_EQUIPMENT","GET_ALL_EQUIPMENT"]),addCat(){const e={name:this.name,image:this.image};this.$emit("save",e),this.name="",this.image=""},getSubcatList(){if(this.availSubCatList=[],this.selcetdCategory){const e=this.$store.getters["subCategory/get_all_sub_cat_with_cat_id"](this.selcetdCategory);this.availSubCatList=e}else this.availSubCatList=this.subcatList},getEquiList(){if(this.availableEquilist=[],this.selcetdSubCategory){const e=this.$store.getters["equipments/get_all_equipment_with_sub_catId"](this.selcetdSubCategory);this.availableEquilist=e}else this.availableEquilist=this.allEquipments},addSale(){if(this.v$.$validate(),!this.v$.$error){const e={serialNo:this.serialNo,equipmentId:this.selcetedEquipment,clientId:this.selcetdClient,maintenancePeriod:this.MaintenancePeriod,installationDate:this.InstallationDate,warrantyDate:this.WarrantyDate,invoice:this.invoice,installationReport:this.installationReport,warrantyDocument:this.warranty,maintenanceContract:this.maintenance,annualMaintenanceContract:this.amc,LastMaintenanceDate:this.lastMainDate};this.$emit("save",e),this.serialNo="",this.selcetedEquipment="",this.selcetdClient="",this.MaintenancePeriod="",this.InstallationDate="",this.WarrantyDate="",this.invoice="",this.installationReport="",this.warranty="",this.maintenance="",this.amc="",this.lastMainDate="",this.v$.$reset()}}},created(){this.name="",this.image="",this.modelNo="";const e={size:150};this.GET_CLIENT_LIST(e),this.GET_ALL_CATEGORY(e),this.GET_ALL_SUBCATEGORY(e),this.GET_ALL_EQUIPMENT()}};const di=(0,d.Z)(ri,[["render",oi],["__scopeId","data-v-162d87a6"]]);var ci=di;const mi={class:"text-center"},ui=(0,l.Uk)(" Edit Equipment "),hi=(0,l.Uk)("mdi-close"),pi={key:0,class:"error-text"},_i={key:0,class:"error-text"},gi={key:0,class:"error-text"},fi={key:0,class:"error-text"},wi={key:0,class:"error-text"},Ei={key:0,class:"error-text"},yi={key:0,class:"error-text"},bi=(0,l.Uk)(" View File "),Ti=(0,l.Uk)(" View File "),vi=(0,l.Uk)(" View File "),Si=(0,l.Uk)(" View File "),Ci=(0,l.Uk)(" View File "),Ii=(0,l.Uk)(" Cancel "),Di=(0,l.Uk)(" Save ");function ki(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",mi,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[17]||(t[17]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":n.isMobile?"100%":"900",fullscreen:n.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[ui,(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[hi])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.items.clientId,"onUpdate:modelValue":t[1]||(t[1]=e=>a.items.clientId=e),clearable:"",items:e.clientList,"item-title":"name","item-value":"id",label:"Client",class:"custom-field","prepend-inner-icon":"mdi-account"},null,8,["modelValue","items"]),s.v$.selcetdClient.$error?((0,l.wg)(),(0,l.iD)("span",pi," Client is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.items.equipment.subcategory.category.id,"onUpdate:modelValue":t[2]||(t[2]=e=>a.items.equipment.subcategory.category.id=e),clearable:"",items:e.categoryList,"item-title":"categoryName","item-value":"id",label:"Category",class:"custom-field","prepend-inner-icon":"mdi-shape"},null,8,["modelValue","items"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.items.equipment.subcategory.id,"onUpdate:modelValue":t[3]||(t[3]=e=>a.items.equipment.subcategory.id=e),clearable:"",items:s.availSubCatList,"item-title":"subcategoryName","item-value":"id",label:"Sub Category",class:"custom-field","prepend-inner-icon":"mdi-shape-outline",onClick:n.getSubcatList},null,8,["modelValue","items","onClick"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.items.equipment.id,"onUpdate:modelValue":t[4]||(t[4]=e=>a.items.equipment.id=e),clearable:"",items:s.availableEquilist,"item-title":"equipmentName","item-value":"id",label:"Equipment",class:"custom-field","prepend-inner-icon":"mdi-tools",onClick:n.getEquiList},null,8,["modelValue","items","onClick"]),s.v$.selcetedEquipment.$error?((0,l.wg)(),(0,l.iD)("span",_i," Equipment is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Maintenance Period",density:"compact",modelValue:a.items.prevdays,"onUpdate:modelValue":t[5]||(t[5]=e=>a.items.prevdays=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-clock",disabled:""},null,8,["modelValue"]),s.v$.MaintenancePeriod.$error?((0,l.wg)(),(0,l.iD)("span",gi,(0,g.zw)(s.v$.MaintenancePeriod.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Serial No",density:"compact",modelValue:a.items.serialNo,"onUpdate:modelValue":t[6]||(t[6]=e=>a.items.serialNo=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-barcode"},null,8,["modelValue"]),s.v$.serialNo.$error?((0,l.wg)(),(0,l.iD)("span",fi," Serial No is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Installation Date",type:"date",density:"compact",modelValue:a.items.installationDate,"onUpdate:modelValue":t[7]||(t[7]=e=>a.items.installationDate=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-start"},null,8,["modelValue"]),s.v$.InstallationDate.$error?((0,l.wg)(),(0,l.iD)("span",wi," Installation Date is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Last Maintenance Date",type:"date",density:"compact",modelValue:a.items.LastMaintenanceDate,"onUpdate:modelValue":t[8]||(t[8]=e=>a.items.LastMaintenanceDate=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-check"},null,8,["modelValue"]),s.v$.lastMainDate.$error?((0,l.wg)(),(0,l.iD)("span",Ei," Last Maintenance Date is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Warranty Expiry Date",type:"date",density:"compact",modelValue:a.items.warrantyDate,"onUpdate:modelValue":t[9]||(t[9]=e=>a.items.warrantyDate=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-calendar-end"},null,8,["modelValue"]),s.v$.WarrantyDate.$error?((0,l.wg)(),(0,l.iD)("span",yi," Warranty Expiry Date is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",class:"view-file-btn",href:a.items.invoice,target:"_blank"},{default:(0,l.w5)((()=>[bi])),_:1},8,["href"]),(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.invoice,"onUpdate:modelValue":t[10]||(t[10]=e=>s.invoice=e),"show-size":"",label:"Invoice",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",class:"view-file-btn",href:a.items.annualMaintenanceContract,target:"_blank"},{default:(0,l.w5)((()=>[Ti])),_:1},8,["href"]),(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.amc,"onUpdate:modelValue":t[11]||(t[11]=e=>s.amc=e),"show-size":"",label:"AMC Document",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",class:"view-file-btn",href:a.items.installationReport,target:"_blank"},{default:(0,l.w5)((()=>[vi])),_:1},8,["href"]),(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.installationReport,"onUpdate:modelValue":t[12]||(t[12]=e=>s.installationReport=e),"show-size":"",label:"Installation Report",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",class:"view-file-btn",href:a.items.warrantyDocument,target:"_blank"},{default:(0,l.w5)((()=>[Si])),_:1},8,["href"]),(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.warranty,"onUpdate:modelValue":t[13]||(t[13]=e=>s.warranty=e),"show-size":"",label:"Warranty Document",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",class:"view-file-btn",href:a.items.maintenanceContract,target:"_blank"},{default:(0,l.w5)((()=>[Ci])),_:1},8,["href"]),(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.maintenance,"onUpdate:modelValue":t[14]||(t[14]=e=>s.maintenance=e),"show-size":"",label:"Maintenance Contract",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[15]||(t[15]=e=>n.show=!1)},{default:(0,l.w5)((()=>[Ii])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[16]||(t[16]=e=>n.addSale())},{default:(0,l.w5)((()=>[Di])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var Ai={name:"editEquipment",data(){return{v$:(0,pt.ZP)(),dialog:!1,serialNo:"",MaintenancePeriod:"",selcetdClient:"",selcetdCategory:"",selcetdSubCategory:"",selcetedEquipment:"",invoice:"",amc:"",installationReport:"",warranty:"",maintenance:"",InstallationDate:"",WarrantyDate:"",availSubCatList:[],availableEquilist:[],lastMainDate:""}},validations(){return{selcetdClient:{required:_t.C1},selcetedEquipment:{required:_t.C1},MaintenancePeriod:{required:_t.C1,numeric:_t.uR},serialNo:{required:_t.C1},InstallationDate:{required:_t.C1},WarrantyDate:{required:_t.C1},lastMainDate:{required:_t.C1}}},props:{visible:{type:Boolean},title:{type:String},items:{type:Array}},computed:{...(0,$.rn)("clients",["clientList"]),...(0,$.rn)("category",["categoryList"]),...(0,$.rn)("subCategory",["subcatList"]),...(0,$.rn)("equipments",["allEquipments"]),show:{get(){return this.visible},set(e){e||this.$emit("close")}},isMobile(){return this.$vuetify.display.smAndDown}},methods:{...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("category",["GET_ALL_CATEGORY"]),...(0,$.nv)("subCategory",["GET_ALL_SUBCATEGORY"]),...(0,$.nv)("equipments",["GET_EQUIPMENT","GET_ALL_EQUIPMENT"]),addCat(){const e={name:this.name,image:this.image};this.$emit("save",e),this.name="",this.image=""},getSubcatList(){if(this.availSubCatList=[],this.selcetdCategory){const e=this.$store.getters["subCategory/get_all_sub_cat_with_cat_id"](this.selcetdCategory);this.availSubCatList=e}else this.availSubCatList=this.subcatList},getEquiList(){if(this.availableEquilist=[],this.selcetdSubCategory){const e=this.$store.getters["equipments/get_all_equipment_with_sub_catId"](this.selcetdSubCategory);this.availableEquilist=e}else this.availableEquilist=this.allEquipments},addSale(){if(this.selcetdClient=this.items.clientId,this.selcetedEquipment=this.items.equipment.id,this.MaintenancePeriod=this.items.prevdays,this.InstallationDate=this.items.installationDate,this.WarrantyDate=this.items.warrantyDate,this.serialNo=this.items.serialNo,this.lastMainDate=this.items.LastMaintenanceDate,this.v$.$validate(),!this.v$.$error){const e={serialNo:this.serialNo,equipmentId:this.selcetedEquipment,clientId:this.selcetdClient,installationDate:this.InstallationDate,warrantyDate:this.WarrantyDate,invoice:this.invoice,installationReport:this.installationReport,warrantyDocument:this.warranty,maintenanceContract:this.maintenance,annualMaintenanceContract:this.amc,LastMaintenanceDate:this.lastMainDate};this.$emit("save",e),this.dialog=!1,this.$emit("close")}},async initail(){await this.GET_CLIENT_LIST(),await this.GET_ALL_CATEGORY(),await this.GET_ALL_SUBCATEGORY().then((()=>{this.getSubcatList()})),await this.GET_ALL_EQUIPMENT().then((()=>{this.getEquiList()}))}},created(){this.initail()}};const Li=(0,d.Z)(Ai,[["render",ki],["__scopeId","data-v-417d5894"]]);var Wi=Li;const Vi=e=>((0,l.dD)("data-v-38d378de"),e=e(),(0,l.Cn)(),e),Ni={class:"text-center"},qi=Vi((()=>(0,l._)("div",{class:"text-h6",style:{"font-family":"Montserrat, sans-serif !important"}},"Edit maintenance",-1))),Ui={key:0,style:{color:"red"}},xi=(0,l.Uk)(" cancel "),Ri=(0,l.Uk)(" save ");function Pi(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Ni,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[3]||(t[3]=e=>n.show=e),transition:"dialog-bottom-transition",activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{width:"584"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[qi])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{label:"Maintenance Period",modelValue:a.items.prevdays,"onUpdate:modelValue":t[0]||(t[0]=e=>a.items.prevdays=e),density:"comfortable",variant:"underlined"},null,8,["modelValue"]),s.v$.MaintenancePeriod.$error?((0,l.wg)(),(0,l.iD)("span",Ui,(0,g.zw)(s.v$.MaintenancePeriod.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[1]||(t[1]=e=>n.show=!1)},{default:(0,l.w5)((()=>[xi])),_:1}),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[2]||(t[2]=e=>n.addSale())},{default:(0,l.w5)((()=>[Ri])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var Mi={name:"editEquipment",data(){return{v$:(0,pt.ZP)(),dialog:!1,serialNo:"",MaintenancePeriod:"",selcetdClient:"",selcetdCategory:"",selcetdSubCategory:"",selcetedEquipment:"",invoice:"",amc:"",installationReport:"",warranty:"",maintenance:"",InstallationDate:"",WarrantyDate:"",orderDate:"",availSubCatList:[],availableEquilist:[]}},validations(){return{MaintenancePeriod:{required:_t.C1,numeric:_t.uR}}},props:{visible:{type:Boolean},title:{type:String},items:{type:Array}},computed:{...(0,$.rn)("clients",["clientList"]),...(0,$.rn)("category",["categoryList"]),...(0,$.rn)("subCategory",["subcatList"]),...(0,$.rn)("equipments",["allEquipments"]),show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("category",["GET_ALL_CATEGORY"]),...(0,$.nv)("subCategory",["GET_ALL_SUBCATEGORY"]),...(0,$.nv)("equipments",["GET_EQUIPMENT","GET_ALL_EQUIPMENT"]),addCat(){const e={name:this.name,image:this.image};this.$emit("save",e),this.name="",this.image=""},getSubcatList(){if(this.availSubCatList=[],this.selcetdCategory){const e=this.$store.getters["subCategory/get_all_sub_cat_with_cat_id"](this.selcetdCategory);this.availSubCatList=e}else this.availSubCatList=this.subcatList},getEquiList(){if(this.availableEquilist=[],this.selcetdSubCategory){const e=this.$store.getters["equipments/get_all_equipment_with_sub_catId"](this.selcetdSubCategory);this.availableEquilist=e}else this.availableEquilist=this.allEquipments},addSale(){if(this.selcetdClient=this.items.clientId,this.selcetedEquipment=this.items.equipment.id,this.MaintenancePeriod=this.items.prevdays,this.InstallationDate=this.items.installationDate,this.WarrantyDate=this.items.warrantyDate,this.serialNo=this.items.serialNo,this.orderDate=this.items.orderDate,this.v$.$validate(),!this.v$.$error){const e={serialNo:this.serialNo,equipmentId:this.selcetedEquipment,clientId:this.selcetdClient,maintenancePeriod:this.MaintenancePeriod,installationDate:this.InstallationDate,warrantyDate:this.WarrantyDate,invoice:this.invoice,installationReport:this.installationReport,warrantyDocument:this.warranty,maintenanceContract:this.maintenance,annualMaintenanceContract:this.amc,orderDate:this.orderDate};this.$emit("save",e)}},async initail(){await this.GET_CLIENT_LIST(),await this.GET_ALL_CATEGORY(),await this.GET_ALL_SUBCATEGORY().then((()=>{this.getSubcatList()})),await this.GET_ALL_EQUIPMENT().then((()=>{this.getEquiList()}))}},created(){}};const zi=(0,d.Z)(Mi,[["render",Pi],["__scopeId","data-v-38d378de"]]);var Gi=zi;const Oi={class:"text-center"};function $i(e,t,i,s,n,o){return(0,l.wg)(),(0,l.iD)("div",Oi,[(0,l.Wm)(A.B,{modelValue:o.show,"onUpdate:modelValue":t[0]||(t[0]=e=>o.show=e),transition:"dialog-top-transition",persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{width:"400",color:"transparent",elevation:"0"},{default:(0,l.w5)((()=>[(0,l.Wm)(y.f,{height:"150",src:a(9690)},null,8,["src"])])),_:1})])),_:1},8,["modelValue"])])}var ji={name:"deletWarn",data(){return{dialog:!1,name:"",image:"",modelNo:""}},props:{visible:{type:Boolean},item:{type:Array}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{deletethis(){this.$emit("delete",this.item)}},created(){this.name="",this.image="",this.modelNo=""}};const Bi=(0,d.Z)(ji,[["render",$i],["__scopeId","data-v-66ac93b2"]]);var Yi=Bi,Fi={name:"equipment",data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Equipments",disabled:!0,href:"/equipments"}],Eq_text:"Add Equipment",dialog:!1,filterDisplay:!1,dialog_title:"Add Equipment",delete_dialog:!1,edit_dialog:!1,daysEdit_dialog:!1,loading:!1,snackbar:!1,mssg:"",snackColor:"",showToolbar:!1,equipmentSearchVal:"",edit_id:"",deleteValue:{},tempEditValue:{},city:"",care:"",type:"",equiId:"",typeList:[{id:1,title:"GOV"},{id:2,title:"NON-GOV"}]}},components:{searchAndFilterToolbar:At,addEquipment:ci,deleteWarnVue:M,editSaleEquipment:Wi,paginationVue:Ta,loadingDailogVue:Yi,snackbarVue:xt,editMaintCaldaysVue:Gi},computed:{...(0,$.rn)("salesEquipment",["saleEquipmentList","editValue","saleTotalPage"]),...(0,$.rn)("city",["cityList"]),...(0,$.rn)("careof",["careofList"]),...(0,$.rn)("equipments",["allEquipments"])},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];this.showToolbar="Engineer"!==t}},...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("careof",["GET_CAREOF_LIST"]),...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("category",["GET_ALL_CATEGORY"]),...(0,$.nv)("subCategory",["GET_SUB_CATEGORY","GET_ALL_SUBCATEGORY"]),...(0,$.nv)("equipments",["GET_EQUIPMENT","GET_ALL_EQUIPMENT"]),...(0,$.nv)("salesEquipment",["ADD_SALE_EQUIPMENT","GET_ALL_SALE_EQUIPMENT","DELETE_SALE_EQUIPMENT","GET_SALE_EQUIPMENT_BY_ID","UPDATE_SALE_EQUIPMET"]),displayFilter(){this.filterDisplay=!this.filterDisplay},async addSale(e){this.loading=!0;try{await this.ADD_SALE_EQUIPMENT(e),await this.GET_ALL_SALE_EQUIPMENT(),this.dialog=!1,this.mssg="Equipment Added Successfully",this.snackColor="success",this.snackbar=!0}catch(t){this.mssg=t.message||"Error adding equipment",this.snackColor="error",this.snackbar=!0}finally{this.loading=!1}},openDeletedialog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteSale(){try{await this.DELETE_SALE_EQUIPMENT(this.deleteValue.id),await this.GET_ALL_SALE_EQUIPMENT(),this.mssg="Equipment deleted Successfully",this.snackColor="success",this.snackbar=!0,this.delete_dialog=!1,this.deleteValue={}}catch(e){this.mssg=e.message||"Error deleting equipment",this.snackColor="error",this.snackbar=!0}},async openEditdialog(e){this.edit_id=e.id,await this.GET_SALE_EQUIPMENT_BY_ID(e).then((()=>{console.log("editValue:",this.editValue),this.tempEditValue=this.editValue,this.edit_dialog=!0}))},async openEditdialog2(e){try{this.edit_id=e.id,await this.GET_SALE_EQUIPMENT_BY_ID(e.id).then((()=>{this.tempEditValue={...this.editValue},this.daysEdit_dialog=!0}))}catch(t){console.error("Error opening calibration edit dialog:",t)}},async editSale(e){e.id=this.edit_id;try{await this.UPDATE_SALE_EQUIPMET(e),await this.GET_ALL_SALE_EQUIPMENT(),this.edit_dialog=!1,this.daysEdit_dialog=!1,this.mssg="Equipment updated Successfully",this.snackColor="success",this.snackbar=!0}catch(t){this.mssg=t.message||"Error updating equipment",this.snackColor="error",this.snackbar=!0}},toInnerPage(e){this.$router.push({name:"saleEquip",params:{id:e.id}})},filterEqu_clName(e){this.equipmentSearchVal=e||"";const t={search:this.equipmentSearchVal,cityid:this.city||"",size:15,page:1};this.GET_ALL_SALE_EQUIPMENT(t)},filterEquipment(){const e={eid:this.equiId||"",cityid:this.city||"",search:this.equipmentSearchVal||"",size:15,page:1};this.GET_ALL_SALE_EQUIPMENT(e)},chanegePage(e){const t={page:e,size:15,eid:this.equiId||"",cityid:this.city||"",search:this.equipmentSearchVal||""};this.GET_ALL_SALE_EQUIPMENT(t)}},mounted(){const e={size:1e3};Promise.all([this.isAdmin(),this.GET_ALL_SALE_EQUIPMENT({size:15}),this.GET_CITY_LIST(e),this.GET_CAREOF_LIST(e),this.GET_ALL_EQUIPMENT(e)]).catch((e=>{console.error("Error during initialization:",e)}))}};const Hi=(0,d.Z)(Fi,[["render",Ya],["__scopeId","data-v-96eb6632"]]);var Qi=Hi;const Ki=(0,l.Uk)("mdi-arrow-left"),Zi={class:"details mt-3 rounded-lg",style:{"font-family":"'Montserrat', sans-serif"}},Ji=(0,l.Uk)("Serial Number : "),Xi={class:"detval"},el=(0,l.Uk)("Sub-Category : "),tl={key:0,class:"detval"},al=(0,l.Uk)("Maintenance Period : "),il={class:"detval"},ll=(0,l.Uk)("Client Name : "),sl={key:0,class:"detval"},nl=(0,l.Uk)("Equipment Name : "),ol={key:0,class:"detval"},rl=(0,l.Uk)("Installation date : "),dl={key:0,class:"detval"},cl=(0,l.Uk)("Category : "),ml={key:0,class:"detval"},ul=(0,l.Uk)("Warranty date : "),hl={key:0,class:"detval"},pl={class:"mt-10"},_l=["href"],gl=(0,l.Uk)(" Installation Report "),fl=["href"],wl=(0,l.Uk)(" invoice "),El=["href"],yl=(0,l.Uk)(" Anual Maintenance Contract "),bl=["href"],Tl=(0,l.Uk)(" Warranty Document"),vl=["href"],Sl=(0,l.Uk)(" Maintenance Report ");function Cl(e,t,a,i,s,n){return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{onClick:t[0]||(t[0]=t=>e.$router.back())},{default:(0,l.w5)((()=>[Ki])),_:1}),(0,l._)("div",Zi,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("p",null,[Ji,(0,l._)("span",Xi,(0,g.zw)(e.editValue.serialNo),1)]),(0,l._)("p",null,[el,e.editValue.equipment?((0,l.wg)(),(0,l.iD)("span",tl,(0,g.zw)(e.editValue.equipment.subcategory.subcategoryName),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[al,(0,l._)("span",il,(0,g.zw)(e.editValue.prevdays),1)])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("p",null,[ll,e.editValue.client?((0,l.wg)(),(0,l.iD)("span",sl,(0,g.zw)(e.editValue.client.name),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[nl,e.editValue.equipment?((0,l.wg)(),(0,l.iD)("span",ol,(0,g.zw)(e.editValue.equipment.equipmentName),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[rl,e.editValue.installationDate?((0,l.wg)(),(0,l.iD)("span",dl,(0,g.zw)(e.editValue.installationDate.split("T")[0]),1)):(0,l.kq)("",!0)])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("p",null,[cl,e.editValue.equipment?((0,l.wg)(),(0,l.iD)("span",ml,(0,g.zw)(e.editValue.equipment.subcategory.category.categoryName),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[ul,e.editValue.warrantyDate?((0,l.wg)(),(0,l.iD)("span",hl,(0,g.zw)(e.editValue.warrantyDate.split("T")[0]),1)):(0,l.kq)("",!0)])])),_:1})])),_:1})]),(0,l._)("div",pl,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l._)("a",{href:e.editValue.installationReport,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[gl])),_:1})],8,_l),(0,l._)("a",{href:e.editValue.invoice,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[wl])),_:1})],8,fl),e.editValue.annualMaintenanceContract?((0,l.wg)(),(0,l.iD)("a",{key:0,href:e.editValue.annualMaintenanceContract,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[yl])),_:1})],8,El)):(0,l.kq)("",!0),(0,l._)("a",{href:e.editValue.warrantyDocument,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[Tl])),_:1})],8,bl),e.editValue.maintenanceContract?((0,l.wg)(),(0,l.iD)("a",{key:1,href:e.editValue.maintenanceContract,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[Sl])),_:1})],8,vl)):(0,l.kq)("",!0)])),_:1})])])),_:1})}var Il={name:"clientInnerpage",computed:{...(0,$.rn)("salesEquipment",["editValue"])},methods:{...(0,$.nv)("salesEquipment",["GET_SALE_EQUIPMENT_BY_ID"]),async getSaleDetails(){await this.GET_SALE_EQUIPMENT_BY_ID(this.$route.params).then((()=>{}))}},mounted(){this.getSaleDetails()}};const Dl=(0,d.Z)(Il,[["render",Cl],["__scopeId","data-v-7a8b1dba"]]);var kl=Dl;const Al=e=>((0,l.dD)("data-v-02d3fe22"),e=e(),(0,l.Cn)(),e),Ll=(0,l.Uk)("mdi-chevron-right"),Wl=Al((()=>(0,l._)("br",null,null,-1))),Vl=Al((()=>(0,l._)("br",null,null,-1))),Nl=Al((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," CLIENTS ",-1))),ql={key:0,class:"mt-4 mb-2"},Ul=Al((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),xl=Al((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"NAME"),(0,l._)("th",{class:"text-left"},"EMAIL"),(0,l._)("th",{class:"text-left"},"PHONE"),(0,l._)("th",{class:"text-left d-none d-md-table-cell"},"CITY"),(0,l._)("th",{class:"text-left d-none d-md-table-cell"},"CARE OF"),(0,l._)("th",{class:"text-left d-none d-md-table-cell"},"TYPE"),(0,l._)("th",{class:"text-left"},"ACTIONS")])],-1))),Rl={key:0},Pl={key:1},Ml={class:"d-none d-md-table-cell"},zl={class:"d-none d-md-table-cell"},Gl={class:"d-none d-md-table-cell"},Ol=(0,l.Uk)("mdi-dots-vertical"),$l=(0,l.Uk)("mdi-eye-outline"),jl=(0,l.Uk)(" View "),Bl=(0,l.Uk)("mdi-pencil-outline"),Yl=(0,l.Uk)(" Edit "),Fl=(0,l.Uk)("mdi-trash-can-outline"),Hl=(0,l.Uk)(" Delete ");function Ql(e,t,a,s,n,o){const r=(0,l.up)("searchAndFilterToolbar"),d=(0,l.up)("paginationVue"),c=(0,l.up)("deleteWarnVue"),m=(0,l.up)("editClients"),u=(0,l.up)("addClients");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-4 px-md-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[Ll])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),Wl,Vl,Nl,(0,l.Wm)(r,{btn_text:n.cl_text,"show-button":n.showToolbar,placeholder:n.placeholder,onBtn_action:t[0]||(t[0]=e=>n.dialog=!0),onFiterWithName:o.fliterByName,auto:!0,onFilterBtn:o.displayFilter,onSearch:o.fliterByName},null,8,["btn_text","show-button","placeholder","onFiterWithName","onFilterBtn","onSearch"]),(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[n.filterDisplay?((0,l.wg)(),(0,l.iD)("div",ql,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.city,"onUpdate:modelValue":t[1]||(t[1]=e=>n.city=e),"hide-details":"",variant:"outlined",density:"comfortable",items:e.cityList,"item-title":"city",clearable:"","item-value":"id",label:"City"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.care,"onUpdate:modelValue":t[2]||(t[2]=e=>n.care=e),"hide-details":"",variant:"outlined",density:"comfortable",items:e.careofList,"item-title":"careof",clearable:"","item-value":"id",label:"Care of"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.type,"onUpdate:modelValue":t[3]||(t[3]=e=>n.type=e),"hide-details":"",variant:"outlined",density:"comfortable",items:n.typeList,"item-title":"title","item-value":"id",clearable:"",label:"Type"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.startDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.startDate=e),label:"Start Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.endDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.endDate=e),label:"End Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"12",md:"2",class:"d-flex justify-center align-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)",width:"100%","max-width":"150px"},onClick:t[6]||(t[6]=e=>o.filterClient())},{default:(0,l.w5)((()=>[Ul])),_:1})])),_:1})])),_:1})])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-4"},{default:(0,l.w5)((()=>[xl,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.clientList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[e.arabicname?((0,l.wg)(),(0,l.iD)("td",Rl,(0,g.zw)(e.name+" "+e.arabicname),1)):((0,l.wg)(),(0,l.iD)("td",Pl,(0,g.zw)(e.name),1)),(0,l._)("td",null,(0,g.zw)(e.email),1),(0,l._)("td",null,(0,g.zw)(e.contact1),1),(0,l._)("td",Ml,(0,g.zw)(e.city?.city||"N/A"),1),(0,l._)("td",zl,(0,g.zw)(e.careof?.careof||"N/A"),1),(0,l._)("td",Gl,(0,g.zw)(e.clienttype?.client_type||"N/A"),1),(0,l._)("td",null,[(0,l.Wm)(qe.T,{transition:"scale-transition"},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)({icon:""},e),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[Ol])),_:1})])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,{onClick:t=>o.toInnerPage(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[$l])),_:1}),jl])),_:1})])),_:2},1032,["onClick"]),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:0,onClick:t=>o.openEditDialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[Bl])),_:1}),Yl])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:1,onClick:t=>o.openDeleteDialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:"",color:"red"},{default:(0,l.w5)((()=>[Fl])),_:1}),Hl])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])])))),128))])])),_:1}),(0,l.Wm)(d,{length:e.clientTotalPage,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"]),(0,l.Wm)(c,{visible:n.delete_dialog,onClose:t[7]||(t[7]=e=>n.delete_dialog=!1),item:n.deleteValue,onDelete:o.deleteClient},null,8,["visible","item","onDelete"]),(0,l.Wm)(m,{visible:n.edit_dialog,onClose:t[8]||(t[8]=e=>n.edit_dialog=!1),onSave:o.update_client,data:n.editValue,title:n.dialog_title},null,8,["visible","onSave","data","title"]),(0,l.Wm)(u,{visible:n.dialog,onClose:t[9]||(t[9]=e=>n.dialog=!1),onSave:o.add_client,title:n.dialog_title},null,8,["visible","onSave","title"])])),_:1})}var Kl=a(4846),Zl=a(1275);const Jl={class:"text-center"},Xl=(0,l.Uk)("mdi-close"),es={key:0,class:"error-text"},ts={key:0,class:"error-text"},as={key:0,class:"error-text"},is={key:0,class:"error-text"},ls={key:0,class:"error-text"},ss={key:0,class:"error-text"},ns={key:0,class:"error-text"},os={key:0,class:"error-text"},rs={key:0,class:"error-text"},ds={key:0,class:"error-text"},cs=(0,l.Uk)(" Cancel "),ms=(0,l.Uk)(" Save ");function us(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Jl,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[15]||(t[15]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":n.isMobile?"100%":"900",fullscreen:n.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[Xl])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Name",density:"compact",modelValue:s.name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.name=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-account"},null,8,["modelValue"]),i.v$.name.$error?((0,l.wg)(),(0,l.iD)("span",es,(0,g.zw)(i.v$.name.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{style:{direction:"rtl"},color:"#7b1fa2",label:"Name (Arabic)",density:"compact",modelValue:s.ArabicName,"onUpdate:modelValue":t[2]||(t[2]=e=>s.ArabicName=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-account-outline"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Email",density:"compact",modelValue:s.email,"onUpdate:modelValue":t[3]||(t[3]=e=>s.email=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-email"},null,8,["modelValue"]),i.v$.email.$error?((0,l.wg)(),(0,l.iD)("span",ts,(0,g.zw)(i.v$.email.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Address Line 1",density:"compact",modelValue:s.address1,"onUpdate:modelValue":t[4]||(t[4]=e=>s.address1=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-map-marker"},null,8,["modelValue"]),i.v$.address1.$error?((0,l.wg)(),(0,l.iD)("span",as,(0,g.zw)(i.v$.address1.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Address Line 2",density:"compact",modelValue:s.address2,"onUpdate:modelValue":t[5]||(t[5]=e=>s.address2=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-map-marker-outline"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.selcetedCity,"onUpdate:modelValue":t[6]||(t[6]=e=>s.selcetedCity=e),clearable:"",items:e.cityList,"item-title":"city","item-value":"id",label:"City",class:"custom-field","prepend-inner-icon":"mdi-city"},null,8,["modelValue","items"]),i.v$.selcetedCity.$error?((0,l.wg)(),(0,l.iD)("span",is," City is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Landmark",density:"compact",modelValue:s.landmark,"onUpdate:modelValue":t[7]||(t[7]=e=>s.landmark=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-pin"},null,8,["modelValue"]),i.v$.landmark.$error?((0,l.wg)(),(0,l.iD)("span",ls," Landmark is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Zl.r,{modelValue:s.radioGroup,"onUpdate:modelValue":t[8]||(t[8]=e=>s.radioGroup=e),inline:!n.isMobile,class:"mt-0 radio-group"},{default:(0,l.w5)((()=>[(0,l.Wm)(Kl.R,{color:"#7b1fa2",label:"GOVT",value:"1"}),(0,l.Wm)(Kl.R,{color:"#7b1fa2",label:"Non-GOVT",value:"2"})])),_:1},8,["modelValue","inline"]),i.v$.radioGroup.$error?((0,l.wg)(),(0,l.iD)("span",ss," Type is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.selcetedCareOf,"onUpdate:modelValue":t[9]||(t[9]=e=>s.selcetedCareOf=e),clearable:"",items:e.careofList,"item-title":"careof","item-value":"id",label:"Care Of",class:"custom-field","prepend-inner-icon":"mdi-account-supervisor"},null,8,["modelValue","items"]),i.v$.selcetedCareOf.$error?((0,l.wg)(),(0,l.iD)("span",ns," Care of is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Zip Code",density:"compact",modelValue:s.zip,"onUpdate:modelValue":t[10]||(t[10]=e=>s.zip=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-mailbox"},null,8,["modelValue"]),i.v$.zip.$error?((0,l.wg)(),(0,l.iD)("span",os,(0,g.zw)(i.v$.zip.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Contact No 1",density:"compact",modelValue:s.contact1,"onUpdate:modelValue":t[11]||(t[11]=e=>s.contact1=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"]),i.v$.contact1.$error?((0,l.wg)(),(0,l.iD)("span",rs,(0,g.zw)(i.v$.contact1.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Contact No 2",density:"compact",modelValue:s.contact2,"onUpdate:modelValue":t[12]||(t[12]=e=>s.contact2=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-phone-plus"},null,8,["modelValue"]),i.v$.contact2.$error?((0,l.wg)(),(0,l.iD)("span",ds,(0,g.zw)(i.v$.contact2.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[13]||(t[13]=e=>n.show=!1)},{default:(0,l.w5)((()=>[cs])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[14]||(t[14]=e=>n.addClients())},{default:(0,l.w5)((()=>[ms])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var hs={name:"addClients",data(){return{name:"",ArabicName:"",email:"",address1:"",address2:"",selcetedCity:"",landmark:"",radioGroup:"",selcetedCareOf:"",contact1:"",contact2:"",zip:""}},setup(){return{v$:(0,pt.ZP)()}},validations(){return{name:{required:_t.C1},email:{required:_t.C1,email:_t.Do},address1:{required:_t.C1},selcetedCity:{required:_t.C1},landmark:{required:_t.C1},radioGroup:{required:_t.C1},selcetedCareOf:{required:_t.C1},contact1:{required:_t.C1,numeric:_t.uR,maxLength:(0,_t.BS)(12)},contact2:{numeric:_t.uR,maxLength:(0,_t.BS)(12)},zip:{required:_t.C1,maxLength:(0,_t.BS)(8)}}},props:{visible:{type:Boolean},title:{type:String}},computed:{...(0,$.rn)("city",["cityList"]),...(0,$.rn)("careof",["careofList"]),show:{get(){return this.visible},set(e){e||this.$emit("close")}},isMobile(){return this.$vuetify.display.smAndDown}},methods:{...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("careof",["GET_CAREOF_LIST"]),...(0,$.nv)("clients",["ADD_CLIENT"]),async addClients(){if(this.v$.$validate(),!this.v$.$error){if(!this.radioGroup)return void alert("Please select a client type (GOVT or Non-GOVT).");const t={careofId:this.selcetedCareOf,clienttypeId:this.radioGroup,cityId:this.selcetedCity,name:this.name,arabicname:this.ArabicName,email:this.email,address1:this.address1,address2:this.address2,landmark:this.landmark,contact1:this.contact1,contact2:this.contact2,zip:this.zip};try{const e=await this.ADD_CLIENT(t);this.$emit("client-added",e),this.show=!1,this.resetForm(),window.location.reload()}catch(e){console.error("Error adding client:",e),alert(e.response?.data?.message||"Failed to add client. Please try again.")}}},resetForm(){this.v$.$reset(),this.name="",this.ArabicName="",this.email="",this.address1="",this.address2="",this.selcetedCity="",this.landmark="",this.radioGroup="",this.selcetedCareOf="",this.contact1="",this.contact2="",this.zip=""}},created(){const e={size:100};this.GET_CITY_LIST(e),this.GET_CAREOF_LIST()}};const ps=(0,d.Z)(hs,[["render",us],["__scopeId","data-v-3be2b7f6"]]);var _s=ps;const gs={class:"text-center"},fs=(0,l.Uk)("mdi-close"),ws={key:0,class:"error-text"},Es={key:0,class:"error-text"},ys={key:0,class:"error-text"},bs={key:0,class:"error-text"},Ts={key:0,class:"error-text"},vs={key:0,class:"error-text"},Ss={key:0,class:"error-text"},Cs={key:0,class:"error-text"},Is={key:0,class:"error-text"},Ds={key:0,class:"error-text"},ks=(0,l.Uk)(" Cancel "),As=(0,l.Uk)(" Save ");function Ls(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",gs,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[14]||(t[14]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":n.isMobile?"100%":"900",fullscreen:n.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[fs])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Name",density:"compact",modelValue:a.data.name,"onUpdate:modelValue":t[1]||(t[1]=e=>a.data.name=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-account"},null,8,["modelValue"]),i.v$.data.name.$error?((0,l.wg)(),(0,l.iD)("span",ws,(0,g.zw)(i.v$.data.name.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{style:{direction:"rtl"},color:"#7b1fa2",label:"Name (Arabic)",density:"compact",modelValue:a.data.arabicname,"onUpdate:modelValue":t[2]||(t[2]=e=>a.data.arabicname=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-account-outline"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Email",density:"compact",modelValue:a.data.email,"onUpdate:modelValue":t[3]||(t[3]=e=>a.data.email=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-email"},null,8,["modelValue"]),i.v$.data.email.$error?((0,l.wg)(),(0,l.iD)("span",Es,(0,g.zw)(i.v$.data.email.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Address Line 1",density:"compact",modelValue:a.data.address1,"onUpdate:modelValue":t[4]||(t[4]=e=>a.data.address1=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-map-marker"},null,8,["modelValue"]),i.v$.data.address1.$error?((0,l.wg)(),(0,l.iD)("span",ys,(0,g.zw)(i.v$.data.address1.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.data.cityId,"onUpdate:modelValue":t[5]||(t[5]=e=>a.data.cityId=e),clearable:"",items:e.cityList,"item-title":"city","item-value":"id",label:"City",class:"custom-field","prepend-inner-icon":"mdi-city"},null,8,["modelValue","items"]),i.v$.data.cityId.$error?((0,l.wg)(),(0,l.iD)("span",bs," City is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Landmark",density:"compact",modelValue:a.data.landmark,"onUpdate:modelValue":t[6]||(t[6]=e=>a.data.landmark=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-pin"},null,8,["modelValue"]),i.v$.data.landmark.$error?((0,l.wg)(),(0,l.iD)("span",Ts," Landmark is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Zl.r,{modelValue:a.data.clienttypeId,"onUpdate:modelValue":t[7]||(t[7]=e=>a.data.clienttypeId=e),inline:!n.isMobile,class:"mt-0 radio-group"},{default:(0,l.w5)((()=>[(0,l.Wm)(Kl.R,{color:"#7b1fa2",label:"GOVT",value:1}),(0,l.Wm)(Kl.R,{color:"#7b1fa2",label:"Non-GOVT",value:2})])),_:1},8,["modelValue","inline"]),i.v$.data.clienttypeId.$error?((0,l.wg)(),(0,l.iD)("span",vs," Type is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.data.careofId,"onUpdate:modelValue":t[8]||(t[8]=e=>a.data.careofId=e),clearable:"",items:e.careofList,"item-title":"careof","item-value":"id",label:"Care Of",class:"custom-field","prepend-inner-icon":"mdi-account-supervisor"},null,8,["modelValue","items"]),i.v$.data.careofId.$error?((0,l.wg)(),(0,l.iD)("span",Ss," Care of is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Zip Code",density:"compact",modelValue:a.data.zip,"onUpdate:modelValue":t[9]||(t[9]=e=>a.data.zip=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-mailbox"},null,8,["modelValue"]),i.v$.data.zip.$error?((0,l.wg)(),(0,l.iD)("span",Cs," Zip Code is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Contact No 1",density:"compact",modelValue:a.data.contact1,"onUpdate:modelValue":t[10]||(t[10]=e=>a.data.contact1=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"]),i.v$.data.contact1.$error?((0,l.wg)(),(0,l.iD)("span",Is,(0,g.zw)(i.v$.data.contact1.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Contact No 2",density:"compact",modelValue:a.data.contact2,"onUpdate:modelValue":t[11]||(t[11]=e=>a.data.contact2=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-phone-plus"},null,8,["modelValue"]),i.v$.data.contact2.$error?((0,l.wg)(),(0,l.iD)("span",Ds,(0,g.zw)(i.v$.data.contact2.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[12]||(t[12]=e=>n.show=!1)},{default:(0,l.w5)((()=>[ks])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[13]||(t[13]=e=>n.editClients())},{default:(0,l.w5)((()=>[As])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var Ws={name:"editClients",props:{visible:{type:Boolean},title:{type:String},data:{type:Object,default:()=>({name:"",arabicname:"",email:"",address1:"",address2:"",cityId:null,landmark:"",clienttypeId:null,careofId:null,contact1:"",contact2:"",contact3:"",zip:""})}},setup(){return{v$:(0,pt.ZP)()}},validations(){return{data:{name:{required:_t.C1},email:{required:_t.C1,email:_t.Do},address1:{required:_t.C1},cityId:{required:_t.C1},landmark:{required:_t.C1},clienttypeId:{required:_t.C1},careofId:{required:_t.C1},contact1:{required:_t.C1,numeric:_t.uR},contact2:{numeric:_t.uR},zip:{required:_t.C1}}}},computed:{...(0,$.rn)("city",["cityList"]),...(0,$.rn)("careof",["careofList"]),show:{get(){return this.visible},set(e){e||this.$emit("close")}},isMobile(){return this.$vuetify.display.smAndDown}},methods:{...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("careof",["GET_CAREOF_LIST"]),editClients(){if(this.v$.$validate(),!this.v$.$error){const e={id:this.data.id,careofId:this.data.careofId,clienttypeId:this.data.clienttypeId,cityId:this.data.cityId,name:this.data.name,arabicname:this.data.arabicname,email:this.data.email,address1:this.data.address1,address2:this.data.address2,landmark:this.data.landmark,contact1:this.data.contact1,contact2:this.data.contact2,contact3:this.data.contact3,zip:this.data.zip};this.$emit("save",e)}}},created(){this.GET_CITY_LIST(),this.GET_CAREOF_LIST()}};const Vs=(0,d.Z)(Ws,[["render",Ls],["__scopeId","data-v-72d3a3f8"]]);var Ns=Vs,qs={name:"clientsPage",components:{searchAndFilterToolbar:At,addClients:_s,deleteWarnVue:M,editClients:Ns,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Clients",disabled:!0,href:"/clients"}],cl_text:"Add Client",placeholder:"Name",dialog:!1,delete_dialog:!1,edit_dialog:!1,deleteValue:{},editValue:{},filterDisplay:!1,dialog_title:"Add Client",city:"",care:"",showToolbar:!1,type:"",startDate:"",endDate:"",typeList:[{id:1,title:"GOV"},{id:2,title:"NON-GOV"}]}},computed:{...(0,$.rn)("clients",["clientList","editClientValue","clientTotalPage"]),...(0,$.rn)("city",["cityList"]),...(0,$.rn)("careof",["careofList"])},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];this.showToolbar="Engineer"!==t}},...(0,$.nv)("clients",["GET_CLIENT_LIST","ADD_CLIENT","DELETE_CLIENT","GET_CLIENT_BY_ID","UPDATE_CLIENT"]),...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("careof",["GET_CAREOF_LIST"]),displayFilter(){this.filterDisplay=!this.filterDisplay},async add_client(e){try{await this.ADD_CLIENT(e),await this.GET_CLIENT_LIST(),this.dialog=!1}catch(t){console.error("Error adding client:",t)}},openDeleteDialog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteClient(){try{await this.DELETE_CLIENT(this.deleteValue.id),await this.GET_CLIENT_LIST(),this.delete_dialog=!1,this.deleteValue={}}catch(e){console.error("Error deleting client:",e)}},async openEditDialog(e){await this.GET_CLIENT_BY_ID(e).then((()=>{this.editValue=this.editClientValue,this.edit_dialog=!0}))},async update_client(e){try{await this.UPDATE_CLIENT(e),await this.GET_CLIENT_LIST(),this.edit_dialog=!1,this.editValue={}}catch(t){console.error("Error updating client:",t)}},toInnerPage(e){this.$router.push({name:"clientInnerPage",params:{id:e.id}})},filterClient(){const e={cty:this.city||"",typ:this.type||"",creof:this.care||"",startDate:this.startDate||"",endDate:this.endDate||"",size:15,page:1};this.GET_CLIENT_LIST(e)},fliterByName(e){const t={name:e||"",size:15,page:1};this.GET_CLIENT_LIST(t)},chanegePage(e){const t={page:e,size:15,cty:this.city||"",typ:this.type||"",creof:this.care||"",startDate:this.startDate||"",endDate:this.endDate||""};this.GET_CLIENT_LIST(t)}},mounted(){Promise.all([this.isAdmin(),this.GET_CLIENT_LIST({size:15}),this.GET_CITY_LIST({size:1e3}),this.GET_CAREOF_LIST({size:1e3})]).catch((e=>{console.error("Error during initialization:",e)}))}};const Us=(0,d.Z)(qs,[["render",Ql],["__scopeId","data-v-02d3fe22"]]);var xs=Us;const Rs=e=>((0,l.dD)("data-v-58c9301a"),e=e(),(0,l.Cn)(),e),Ps=(0,l.Uk)("mdi-account"),Ms=(0,l.Uk)(" Client Information "),zs={class:"info-item"},Gs=Rs((()=>(0,l._)("span",{class:"info-label"},"Name:",-1))),Os={class:"info-value"},$s={class:"info-item"},js=Rs((()=>(0,l._)("span",{class:"info-label"},"Contact 1:",-1))),Bs={class:"info-value"},Ys={class:"info-item"},Fs=Rs((()=>(0,l._)("span",{class:"info-label"},"Contact 2:",-1))),Hs={class:"info-value"},Qs={class:"info-item"},Ks=Rs((()=>(0,l._)("span",{class:"info-label"},"Email:",-1))),Zs={class:"info-value"},Js={class:"info-item"},Xs=Rs((()=>(0,l._)("span",{class:"info-label"},"Type:",-1))),en={key:0,class:"info-value"},tn={class:"info-item"},an=Rs((()=>(0,l._)("span",{class:"info-label"},"City:",-1))),ln={key:0,class:"info-value"},sn={class:"info-item"},nn=Rs((()=>(0,l._)("span",{class:"info-label"},"Zip:",-1))),on={class:"info-value"},rn={class:"info-item"},dn=Rs((()=>(0,l._)("span",{class:"info-label"},"Landmark:",-1))),cn={class:"info-value"},mn={class:"info-item"},un=Rs((()=>(0,l._)("span",{class:"info-label"},"Address 1:",-1))),hn={class:"info-value"},pn={class:"info-item"},_n=Rs((()=>(0,l._)("span",{class:"info-label"},"Address 2:",-1))),gn={class:"info-value"},fn=(0,l.Uk)("mdi-shopping"),wn=(0,l.Uk)(" Sales History "),En=Rs((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Serial Number"),(0,l._)("th",{class:"text-left"},"Equipment")])],-1))),yn={key:0},bn={key:0},Tn=Rs((()=>(0,l._)("td",{colspan:"5",class:"text-center py-4"},"No sales records found",-1))),vn=[Tn];function Sn(e,t,a,i,s,n){const o=(0,l.up)("breadcrumbs");return(0,l.wg)(),(0,l.j4)(E.K,{class:"client-details-container px-10",fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{items:s.breadcrumbs,class:"breadcrumbs-section"},null,8,["items"]),(0,l.Wm)(I._,{class:"client-details-card elevation-3 mb-6"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"card-header py-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{class:"mr-2"},{default:(0,l.w5)((()=>[Ps])),_:1}),Ms])),_:1}),(0,l.Wm)(Q.Z,{class:"pa-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",zs,[Gs,(0,l._)("span",Os,(0,g.zw)(e.editClientValue.name),1)]),(0,l._)("div",$s,[js,(0,l._)("span",Bs,(0,g.zw)(e.editClientValue.contact1),1)]),(0,l._)("div",Ys,[Fs,(0,l._)("span",Hs,(0,g.zw)(e.editClientValue.contact2),1)]),(0,l._)("div",Qs,[Ks,(0,l._)("span",Zs,(0,g.zw)(e.editClientValue.email),1)])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",Js,[Xs,e.editClientValue.clienttype?((0,l.wg)(),(0,l.iD)("span",en,(0,g.zw)(e.editClientValue.clienttype.client_type),1)):(0,l.kq)("",!0)]),(0,l._)("div",tn,[an,e.editClientValue.city?((0,l.wg)(),(0,l.iD)("span",ln,(0,g.zw)(e.editClientValue.city.city),1)):(0,l.kq)("",!0)]),(0,l._)("div",sn,[nn,(0,l._)("span",on,(0,g.zw)(e.editClientValue.zip),1)]),(0,l._)("div",rn,[dn,(0,l._)("span",cn,(0,g.zw)(e.editClientValue.landmark),1)])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("div",mn,[un,(0,l._)("span",hn,(0,g.zw)(e.editClientValue.address1),1)]),(0,l._)("div",pn,[_n,(0,l._)("span",gn,(0,g.zw)(e.editClientValue.address2),1)])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(I._,{class:"sales-history-card elevation-3"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"card-header py-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{class:"mr-2"},{default:(0,l.w5)((()=>[fn])),_:1}),wn])),_:1}),(0,l.Wm)(Q.Z,{class:"pa-0"},{default:(0,l.w5)((()=>[(0,l.Wm)(ee.Y,{class:"sales-table"},{default:(0,l.w5)((()=>[En,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.editClientValue.sales,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t,class:"table-row"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.serialNo),1),(0,l._)("td",null,[e.equipment?((0,l.wg)(),(0,l.iD)("span",yn,(0,g.zw)(e.equipment.equipmentName),1)):(0,l.kq)("",!0)])])))),128)),e.editClientValue.sales&&0!==e.editClientValue.sales.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("tr",bn,vn))])])),_:1})])),_:1})])),_:1})])),_:1})}const Cn=(0,l.Uk)("mdi-chevron-right");function In(e,t,a,s,n,o){return(0,l.wg)(),(0,l.j4)(F.c,{items:a.items,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[Cn])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item",onClick:(0,i.iM)((t=>o.navigate(e)),["prevent"])},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled","onClick"])])),_:1},8,["items"])}var Dn={name:"Breadcrumbs",props:{items:{type:Array,required:!0,default:()=>[]}},methods:{navigate(e){!e.disabled&&e.href&&this.$router.push(e.href)}}};const kn=(0,d.Z)(Dn,[["render",In],["__scopeId","data-v-914b78ba"]]);var An=kn,Ln={name:"clientInnerpage",components:{Breadcrumbs:An},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Clients",disabled:!1,href:"/client"},{text:"Client Details",disabled:!0,href:""}]}},computed:{...(0,$.rn)("clients",["editClientValue"])},methods:{...(0,$.nv)("clients",["GET_CLIENT_BY_ID"]),async getClientDetails(){await this.GET_CLIENT_BY_ID(this.$route.params).then((()=>{console.log(this.editClientValue)}))},formatDate(e){if(!e)return"N/A";const t=new Date(e);return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},mounted(){this.getClientDetails()}};const Wn=(0,d.Z)(Ln,[["render",Sn],["__scopeId","data-v-58c9301a"]]);var Vn=Wn;const Nn=e=>((0,l.dD)("data-v-6a384fd8"),e=e(),(0,l.Cn)(),e),qn=(0,l.Uk)("mdi-chevron-right"),Un=Nn((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," ADMIN ",-1))),xn={class:"mt-4 mb-2"},Rn={class:"d-flex justify-end"},Pn=Nn((()=>(0,l._)("span",{style:{color:"white"}},"Add Admin",-1))),Mn=Nn((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"NAME"),(0,l._)("th",{class:"text-left"},"EMAIL"),(0,l._)("th",{class:"text-left"},"ACTIONS")])],-1))),zn={class:"truncate"},Gn={class:"truncate"},On={key:0};function $n(e,t,a,s,n,o){const r=(0,l.up)("paginationVue"),d=(0,l.up)("addAdminVue"),c=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[qn])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),Un,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",xn,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"10"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),"hide-details":"",variant:"outlined",density:"comfortable",placeholder:"Search Admins","prepend-inner-icon":"mdi-magnify",onInput:o.filterAdmins},null,8,["modelValue","onInput"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",Rn,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:t[1]||(t[1]=e=>n.dialog=!0)},{default:(0,l.w5)((()=>[Pn])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[Mn,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filteredAdminList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",zn,(0,g.zw)(e.username),1),(0,l._)("td",Gn,(0,g.zw)(e.email),1),(0,l._)("td",null,[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],color:"blue-darken-2",style:{cursor:"pointer"},onClick:t=>o.openEditDialog(e)}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["class","onClick"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],color:"#e9bc10",style:{cursor:"pointer"},onClick:t=>o.openDeleteDialog(e)}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["class","onClick"])])),_:2},1024)])])))),128))])])),_:1}),e.adminTotalPages>0?((0,l.wg)(),(0,l.iD)("div",On,[(0,l.Wm)(r,{length:e.adminTotalPages,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"])])):(0,l.kq)("",!0),(0,l.Wm)(d,{visible:n.dialog,onClose:t[2]||(t[2]=e=>n.dialog=!1),onSave:o.addCategory,title:n.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(d,{visible:n.editDialog,onClose:t[3]||(t[3]=e=>n.editDialog=!1),onSave:o.updateAdmin,title:n.editDialog_title,item:n.selectedAdmin},null,8,["visible","onSave","title","item"]),(0,l.Wm)(c,{visible:n.deleteDialog,onClose:t[4]||(t[4]=e=>n.deleteDialog=!1),onDelete:o.deleteAdmin,item:n.selectedAdmin},null,8,["visible","onDelete","item"])])),_:1})}const jn={class:"text-center"},Bn=(0,l.Uk)("mdi-close"),Yn={key:0,class:"error-text"},Fn={key:0,class:"error-text"},Hn={key:0,class:"error-text"},Qn={key:0,class:"error-text"},Kn={key:0,class:"error-text"},Zn={key:1,class:"error-text"},Jn=(0,l.Uk)(" Cancel "),Xn=(0,l.Uk)(" Save ");function eo(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",jn,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[8]||(t[8]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":e.isMobile?"100%":"900",fullscreen:e.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[Bn])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"User Name",density:"compact",modelValue:s.username,"onUpdate:modelValue":t[1]||(t[1]=e=>s.username=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-account"},null,8,["modelValue"]),s.v$.username.$error?((0,l.wg)(),(0,l.iD)("span",Yn,(0,g.zw)(s.v$.username.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Email",density:"compact",modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=e=>s.email=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-email"},null,8,["modelValue"]),s.v$.email.$error?((0,l.wg)(),(0,l.iD)("span",Fn,(0,g.zw)(s.v$.email.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Mobile",density:"compact",modelValue:s.mobile,"onUpdate:modelValue":t[3]||(t[3]=e=>s.mobile=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"]),s.v$.mobile.$error?((0,l.wg)(),(0,l.iD)("span",Hn,(0,g.zw)(s.v$.mobile.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Password",density:"compact",modelValue:s.password,"onUpdate:modelValue":t[4]||(t[4]=e=>s.password=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-lock"},null,8,["modelValue"]),s.v$.password.$error?((0,l.wg)(),(0,l.iD)("span",Qn,(0,g.zw)(s.v$.password.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Confirm Password",density:"compact",modelValue:s.confirmPass,"onUpdate:modelValue":t[5]||(t[5]=e=>s.confirmPass=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-lock-check"},null,8,["modelValue"]),s.v$.confirmPass.$error?((0,l.wg)(),(0,l.iD)("span",Kn,(0,g.zw)(s.v$.confirmPass.$errors[0].$message),1)):(0,l.kq)("",!0),s.confirmError?((0,l.wg)(),(0,l.iD)("span",Zn,(0,g.zw)(s.confirmError),1)):(0,l.kq)("",!0)])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[6]||(t[6]=e=>n.show=!1)},{default:(0,l.w5)((()=>[Jn])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[7]||(t[7]=e=>n.addCat())},{default:(0,l.w5)((()=>[Xn])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var to={name:"addAdmin",data(){return{v$:(0,pt.ZP)(),dialog:!1,username:"",email:"",mobile:"",password:"",confirmPass:"",confirmError:""}},validations(){return{username:{required:_t.C1},email:{required:_t.C1,email:_t.Do},mobile:{required:_t.C1,numeric:_t.uR},password:{required:"Add Admin"===this.title&&_t.C1},confirmPass:{required:"Add Admin"===this.title&&_t.C1}}},props:{visible:{type:Boolean},title:{type:String},item:{type:Object,default:()=>({})}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},watch:{item:{immediate:!0,handler(e){e&&Object.keys(e).length>0&&(this.username=e.username||"",this.email=e.email||"",this.mobile=e.mobile||"",this.password="",this.confirmPass="")}}},methods:{addCat(){if(this.v$.$validate(),!this.v$.$error)if(this.password==this.confirmPass){const e={username:this.username,email:this.email,mobile:this.mobile,password:this.password};this.confirmError="",this.$emit("save",e)}else this.confirmError="password doesnot match"}},created(){this.name="",this.image="",this.modelNo=""}};const ao=(0,d.Z)(to,[["render",eo],["__scopeId","data-v-14adc7de"]]);var io=ao,lo={name:"userPage",components:{addAdminVue:io,deleteWarnVue:M,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Admin",disabled:!0,href:"/admin"}],dialog:!1,editDialog:!1,deleteDialog:!1,dialog_title:"Add Admin",editDialog_title:"Edit Admin",selectedAdmin:null,searchQuery:"",filteredAdminList:[]}},computed:{...(0,$.rn)("admin",["adminList","adminTotalPages"])},methods:{...(0,$.nv)("admin",["GET_ADMIN_LIST","ADD_ADMIN","UPDATE_ADMIN","DELETE_ADMIN"]),chanegePage(e){const t={page:e,size:15,search:this.searchQuery||""};this.GET_ADMIN_LIST(t).then((()=>{this.filterAdmins()}))},filterAdmins(){this.searchQuery?this.filteredAdminList=this.adminList.filter((e=>e.username.toLowerCase().includes(this.searchQuery.toLowerCase())||e.email.toLowerCase().includes(this.searchQuery.toLowerCase()))):this.filteredAdminList=[...this.adminList]},openEditDialog(e){this.selectedAdmin={...e},this.editDialog=!0},openDeleteDialog(e){this.selectedAdmin={...e},this.deleteDialog=!0},addCategory(e){this.ADD_ADMIN(e).then((()=>{this.dialog=!1,this.GET_ADMIN_LIST({size:15})})).catch((e=>{console.error("Error adding admin:",e)}))},updateAdmin(e){this.UPDATE_ADMIN({id:this.selectedAdmin.id,...e}).then((()=>{this.editDialog=!1,this.selectedAdmin=null,this.GET_ADMIN_LIST({size:15})})).catch((e=>{console.error("Error updating admin:",e)}))},deleteAdmin(){this.DELETE_ADMIN(this.selectedAdmin.id).then((()=>{this.deleteDialog=!1,this.selectedAdmin=null,this.GET_ADMIN_LIST({size:15})})).catch((e=>{console.error("Error deleting admin:",e)}))}},watch:{adminList(e){this.filteredAdminList=[...e],this.filterAdmins()}},mounted(){this.GET_ADMIN_LIST({size:15}).then((()=>{this.filteredAdminList=[...this.adminList]}))}};const so=(0,d.Z)(lo,[["render",$n],["__scopeId","data-v-6a384fd8"]]);var no=so;const oo=e=>((0,l.dD)("data-v-fedecdda"),e=e(),(0,l.Cn)(),e),ro=(0,l.Uk)("mdi-chevron-right"),co=oo((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," SUB ADMIN ",-1))),mo={class:"mt-4 mb-2"},uo={class:"d-flex justify-end"},ho=oo((()=>(0,l._)("span",{style:{color:"white"}},"Add Sub Admin",-1))),po=oo((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"NAME"),(0,l._)("th",{class:"text-left"},"EMAIL"),(0,l._)("th",{class:"text-left"},"ACTIONS")])],-1))),_o={class:"truncate"},go={class:"truncate"},fo={key:0},wo=(0,l.Uk)(" Close ");function Eo(e,t,a,s,n,o){const r=(0,l.up)("paginationVue"),d=(0,l.up)("addAdminVue"),c=(0,l.up)("editUser"),m=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[ro])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),co,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",mo,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"10"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),"hide-details":"",variant:"outlined",density:"comfortable",placeholder:"Search Sub Admins","prepend-inner-icon":"mdi-magnify",onInput:o.filterSubAdmins},null,8,["modelValue","onInput"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",uo,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:t[1]||(t[1]=e=>n.dialog=!0)},{default:(0,l.w5)((()=>[ho])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[po,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filteredSubAdminList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",_o,(0,g.zw)(e.username),1),(0,l._)("td",go,(0,g.zw)(e.email),1),(0,l._)("td",null,[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>o.openEditDialog(e),color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>o.openDeleteWarn(e),color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024)])])))),128))])])),_:1}),e.subAdminTotalPage>0?((0,l.wg)(),(0,l.iD)("div",fo,[(0,l.Wm)(r,{length:e.subAdminTotalPage,onChangePage:o.changePage},null,8,["length","onChangePage"])])):(0,l.kq)("",!0),(0,l.Wm)(d,{visible:n.dialog,onClose:t[2]||(t[2]=e=>n.dialog=!1),onSave:o.addSubAdmin,title:n.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(c,{visible:n.edit_dialog,onClose:t[3]||(t[3]=e=>n.edit_dialog=!1),onSave:o.updateSubAdmin,title:n.edit_dialog_title,item:n.editValue},null,8,["visible","onSave","title","item"]),(0,l.Wm)(m,{visible:n.delete_dialog,onClose:t[4]||(t[4]=e=>n.delete_dialog=!1),item:n.deleteValue,onDelete:o.deleteSubAdmin},null,8,["visible","item","onDelete"]),(0,l.Wm)(Lt.v,{modelValue:n.snackbar.show,"onUpdate:modelValue":t[6]||(t[6]=e=>n.snackbar.show=e),color:n.snackbar.type,timeout:"3000"},{actions:(0,l.w5)((()=>[(0,l.Wm)(f.T,{color:"white",variant:"text",onClick:t[5]||(t[5]=e=>n.snackbar.show=!1)},{default:(0,l.w5)((()=>[wo])),_:1})])),default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(n.snackbar.text)+" ",1)])),_:1},8,["modelValue","color"])])),_:1})}const yo={class:"text-center"},bo=(0,l.Uk)("mdi-close"),To={key:0,class:"error-text"},vo={key:0,class:"error-text"},So={key:0,class:"error-text"},Co={key:0,class:"error-text"},Io=(0,l.Uk)(" Cancel "),Do=(0,l.Uk)(" Save ");function ko(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",yo,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[8]||(t[8]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":e.isMobile?"100%":"900",fullscreen:e.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[bo])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"User Name",density:"compact",modelValue:a.item.username,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.username=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-account"},null,8,["modelValue"]),s.v$.username.$error?((0,l.wg)(),(0,l.iD)("span",To,(0,g.zw)(s.v$.username.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Email",density:"compact",modelValue:a.item.email,"onUpdate:modelValue":t[2]||(t[2]=e=>a.item.email=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-email"},null,8,["modelValue"]),s.v$.email.$error?((0,l.wg)(),(0,l.iD)("span",vo,(0,g.zw)(s.v$.email.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Mobile",density:"compact",modelValue:a.item.mobile,"onUpdate:modelValue":t[3]||(t[3]=e=>a.item.mobile=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-phone"},null,8,["modelValue"]),s.v$.mobile.$error?((0,l.wg)(),(0,l.iD)("span",So,(0,g.zw)(s.v$.mobile.$errors[0].$message),1)):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Password",density:"compact",modelValue:s.password,"onUpdate:modelValue":t[4]||(t[4]=e=>s.password=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-lock"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:e.isMobile?12:6},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#7b1fa2",label:"Confirm Password",density:"compact",modelValue:s.confirmPass,"onUpdate:modelValue":t[5]||(t[5]=e=>s.confirmPass=e),variant:"outlined",class:"custom-field","prepend-inner-icon":"mdi-lock-check"},null,8,["modelValue"]),s.confirmError?((0,l.wg)(),(0,l.iD)("span",Co,(0,g.zw)(s.confirmError),1)):(0,l.kq)("",!0)])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[6]||(t[6]=e=>n.show=!1)},{default:(0,l.w5)((()=>[Io])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[7]||(t[7]=e=>n.addCat())},{default:(0,l.w5)((()=>[Do])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var Ao={name:"editAdmin",data(){return{v$:(0,pt.ZP)(),dialog:!1,username:"",email:"",mobile:"",password:"",confirmPass:"",confirmError:""}},validations(){return{username:{required:_t.C1},email:{required:_t.C1,email:_t.Do},mobile:{required:_t.C1,numeric:_t.uR}}},props:{visible:{type:Boolean},title:{type:String},item:{type:Object,default:()=>({username:"",email:"",mobile:""})}},watch:{item:{handler(e){console.log("Updated item:",e)},deep:!0,immediate:!0}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{addCat(){if(this.username=this.item.username,this.email=this.item.email,this.mobile=this.item.mobile,this.v$.$validate(),!this.v$.$error)if(this.password){if(this.password!=this.confirmPass)return this.confirmError="password doesnot match";const e={username:this.item.username,email:this.item.email,mobile:this.item.mobile,password:this.password};this.confirmError="",this.$emit("save",e)}else{const e={username:this.item.username,email:this.item.email,mobile:this.item.mobile};this.$emit("save",e)}}}};const Lo=(0,d.Z)(Ao,[["render",ko],["__scopeId","data-v-6e077478"]]);var Wo=Lo,Vo=a(4806),No=a.n(Vo),qo={name:"subAdmin",components:{addAdminVue:io,deleteWarnVue:M,editUser:Wo,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Sub Admin",disabled:!0,href:"/sub-admin"}],dialog:!1,dialog_title:"Add Sub Admin",edit_dialog_title:"Edit Sub Admin",edit_dialog:!1,delete_dialog:!1,deleteValue:null,editValue:null,editSubAdminId:null,searchQuery:"",filteredSubAdminList:[],snackbar:{show:!1,text:"",type:"success"}}},computed:{...(0,$.rn)("subAdmin",["subAdminList","editUserValue","subAdminTotalPage"])},methods:{...(0,$.nv)("subAdmin",["GET_SABADMIN_LIST","ADD_SUBADMIN","DELETE_SUBADMIN","GET_USER_WITH_ID","UPDATE_SUBADMIN"]),async addSubAdmin(e){try{await this.ADD_SUBADMIN(e),await this.GET_SABADMIN_LIST({size:15}),this.dialog=!1,this.snackbar={show:!0,text:"Sub-admin added successfully!",type:"success"}}catch(t){console.error("Error adding sub-admin:",t),this.snackbar={show:!0,text:t.message,type:"error"}}},openDeleteWarn(e){e&&e.id?(this.deleteValue=e,this.delete_dialog=!0):this.snackbar={show:!0,text:"Invalid sub-admin selected for deletion.",type:"error"}},async deleteSubAdmin(e){try{await this.DELETE_SUBADMIN({id:e.id}),await this.GET_SABADMIN_LIST({size:15}),this.delete_dialog=!1,this.deleteValue=null,this.snackbar={show:!0,text:"Sub-admin deleted successfully!",type:"success"}}catch(t){console.error("Error deleting sub-admin:",t),this.snackbar={show:!0,text:t.message,type:"error"}}},async openEditDialog(e){try{if(!e||!e.id)throw new Error("Invalid item or ID");this.editSubAdminId=e.id,await this.GET_USER_WITH_ID({id:e.id}),this.editValue={...this.editUserValue},this.edit_dialog=!0}catch(t){console.error("Error opening edit dialog:",t),this.snackbar={show:!0,text:t.message,type:"error"}}},async updateSubAdmin(e){try{const t={id:this.editSubAdminId,...e};await this.UPDATE_SUBADMIN(t),await this.GET_SABADMIN_LIST({size:15}),this.edit_dialog=!1,this.editValue=null,this.editSubAdminId=null,this.snackbar={show:!0,text:"Sub-admin updated successfully!",type:"success"}}catch(t){console.error("Error updating sub-admin:",t),this.snackbar={show:!0,text:t.message,type:"error"}}},changePage(e){const t={page:e,size:15,search:this.searchQuery||""};this.GET_SABADMIN_LIST(t).then((()=>{this.filteredSubAdminList=this.subAdminList.filter((e=>e&&e.id&&e.username&&e.email))})).catch((e=>{this.snackbar={show:!0,text:e.message,type:"error"}}))},filterSubAdmins:No().debounce((function(){const e={page:1,size:15,search:this.searchQuery||""};this.GET_SABADMIN_LIST(e).then((()=>{this.filteredSubAdminList=this.subAdminList.filter((e=>e&&e.id&&e.username&&e.email))})).catch((e=>{this.snackbar={show:!0,text:e.message,type:"error"}}))}),500)},watch:{subAdminList(e){this.filteredSubAdminList=e.filter((e=>e&&e.id&&e.username&&e.email))}},mounted(){this.GET_SABADMIN_LIST({size:15}).then((()=>{this.filteredSubAdminList=this.subAdminList.filter((e=>e&&e.id&&e.username&&e.email))})).catch((e=>{this.snackbar={show:!0,text:e.message,type:"error"}}))}};const Uo=(0,d.Z)(qo,[["render",Eo],["__scopeId","data-v-fedecdda"]]);var xo=Uo;const Ro=e=>((0,l.dD)("data-v-21c25149"),e=e(),(0,l.Cn)(),e),Po=(0,l.Uk)("mdi-chevron-right"),Mo=Ro((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," TECHNICIAN ",-1))),zo={class:"mt-4 mb-2"},Go={class:"d-flex justify-end"},Oo=Ro((()=>(0,l._)("span",{style:{color:"white"}},"Add Technician",-1))),$o=Ro((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"NAME"),(0,l._)("th",{class:"text-left"},"EMAIL"),(0,l._)("th",{class:"text-left"},"MOBILE"),(0,l._)("th",{class:"text-left"},"ACTIONS")])],-1))),jo={class:"truncate"},Bo={class:"truncate"},Yo={class:"truncate"},Fo={key:0};function Ho(e,t,a,s,n,o){const r=(0,l.up)("paginationVue"),d=(0,l.up)("addAdminVue"),c=(0,l.up)("editUser"),m=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[Po])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),Mo,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",zo,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"10"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),"hide-details":"",variant:"outlined",density:"comfortable",placeholder:"Search Technicians","prepend-inner-icon":"mdi-magnify",onInput:o.filterTechnicians},null,8,["modelValue","onInput"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",Go,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:t[1]||(t[1]=e=>n.dialog=!0)},{default:(0,l.w5)((()=>[Oo])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[$o,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filteredTechList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",jo,(0,g.zw)(e.username),1),(0,l._)("td",Bo,(0,g.zw)(e.email),1),(0,l._)("td",Yo,(0,g.zw)(e.mobile),1),(0,l._)("td",null,[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>o.openEditDialog(e),color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>o.openDeleteWarn(e),color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024)])])))),128))])])),_:1}),e.techListTotalPage>0?((0,l.wg)(),(0,l.iD)("div",Fo,[(0,l.Wm)(r,{length:e.techListTotalPage,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"])])):(0,l.kq)("",!0),(0,l.Wm)(d,{visible:n.dialog,onClose:t[2]||(t[2]=e=>n.dialog=!1),onSave:o.addTech,title:n.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(c,{visible:n.edit_dialog,onClose:t[3]||(t[3]=e=>n.edit_dialog=!1),onSave:o.updateTech,title:n.edit_dialog_title,item:n.editValue},null,8,["visible","onSave","title","item"]),(0,l.Wm)(m,{visible:n.delete_dialog,onClose:t[4]||(t[4]=e=>n.delete_dialog=!1),item:n.deleteValue,onDelete:o.deleteTech},null,8,["visible","item","onDelete"])])),_:1})}var Qo={name:"technicianPage",components:{addAdminVue:io,deleteWarnVue:M,editUser:Wo,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Technician",disabled:!0,href:"/technician"}],dialog:!1,dialog_title:"Add Technician",edit_dialog_title:"Edit Technician",edit_dialog:!1,delete_dialog:!1,deleteValue:{},editValue:[],editSubAdminId:"",searchQuery:"",filteredTechList:[]}},computed:{...(0,$.rn)("technician",["techList","techListTotalPage"]),...(0,$.rn)("subAdmin",["editUserValue"])},methods:{...(0,$.nv)("technician",["GET_TECH_LIST","ADD_TECH","DELETE_TECH","UPDATE_TECH"]),...(0,$.nv)("subAdmin",["GET_USER_WITH_ID"]),async addTech(e){try{await this.ADD_TECH(e),await this.GET_TECH_LIST({size:15}),this.dialog=!1}catch(t){console.error("Error adding technician:",t)}},openDeleteWarn(e){this.deleteValue=e,this.delete_dialog=!0},async deleteTech(){try{await this.DELETE_TECH(this.deleteValue.id),await this.GET_TECH_LIST({size:15}),this.delete_dialog=!1,this.deleteValue={}}catch(e){console.error("Error deleting technician:",e)}},async openEditDialog(e){try{if(!e||!e.id)return void console.error("Invalid item or ID:",e);this.editSubAdminId=e.id,await this.GET_USER_WITH_ID({id:e.id}),!this.editUserValue||this.editUserValue.rows&&0===this.editUserValue.rows.length?(console.warn("No valid user data found, using fallback:",e),this.editValue={...e}):this.editValue={...this.editUserValue},this.edit_dialog=!0}catch(t){console.error("Error opening edit dialog:",t)}},async updateTech(e){try{const t={id:this.editSubAdminId,...e};await this.UPDATE_TECH(t),await this.GET_TECH_LIST({size:15}),this.edit_dialog=!1,this.editValue=[],this.editSubAdminId=""}catch(t){console.error("Error updating technician:",t)}},chanegePage(e){const t={page:e,size:15,search:this.searchQuery||""};this.GET_TECH_LIST(t).then((()=>{this.filterTechnicians()}))},filterTechnicians(){this.searchQuery?this.filteredTechList=this.techList.filter((e=>e.username.toLowerCase().includes(this.searchQuery.toLowerCase())||e.email.toLowerCase().includes(this.searchQuery.toLowerCase())||e.mobile.toLowerCase().includes(this.searchQuery.toLowerCase()))):this.filteredTechList=[...this.techList]}},watch:{techList(e){this.filteredTechList=[...e],this.filterTechnicians()}},mounted(){this.GET_TECH_LIST({size:15}).then((()=>{this.filteredTechList=[...this.techList]}))}};const Ko=(0,d.Z)(Qo,[["render",Ho],["__scopeId","data-v-21c25149"]]);var Zo=Ko,Jo=a(4842);const Xo=e=>((0,l.dD)("data-v-7ec06673"),e=e(),(0,l.Cn)(),e),er=(0,l.Uk)("mdi-chevron-right"),tr=Xo((()=>(0,l._)("br",null,null,-1))),ar=Xo((()=>(0,l._)("br",null,null,-1))),ir=Xo((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," SERVICE REQUESTS ",-1))),lr={key:0,class:"mt-4 mb-2"},sr=Xo((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),nr=Xo((()=>(0,l._)("th",{class:"text-left"},"Equipment Name",-1))),or=Xo((()=>(0,l._)("th",{class:"text-left"},"Client",-1))),rr=Xo((()=>(0,l._)("th",{class:"text-left"},"City",-1))),dr=Xo((()=>(0,l._)("th",{class:"text-left"},"Call Handle",-1))),cr=Xo((()=>(0,l._)("th",{class:"text-left"},"Working Status",-1))),mr=Xo((()=>(0,l._)("th",{class:"text-left"},"Serial Number",-1))),ur=Xo((()=>(0,l._)("th",{class:"text-left"},"Call Registration date & time",-1))),hr=Xo((()=>(0,l._)("th",{class:"text-left"},"Priority",-1))),pr=Xo((()=>(0,l._)("th",{class:"text-left"},"Assigned to",-1))),_r=Xo((()=>(0,l._)("th",{class:"text-left"},"Status",-1))),gr={key:0,class:"text-left"},fr=Xo((()=>(0,l._)("th",{class:"text-left"},"Actions",-1))),wr={key:0},Er={key:1},yr={class:""},br={class:"ma-auto"},Tr=(0,l.Uk)("mdi-message-outline"),vr=(0,l.Uk)("mdi-dots-vertical"),Sr=(0,l.Uk)("mdi-eye-outline"),Cr=(0,l.Uk)(" View "),Ir=(0,l.Uk)("mdi-pencil-outline"),Dr=(0,l.Uk)(" Edit "),kr=(0,l.Uk)("mdi-message-outline"),Ar=(0,l.Uk)(" Approvals messages "),Lr=(0,l.Uk)("CEO Approval Message"),Wr=(0,l.Uk)("Cancel"),Vr=(0,l.Uk)("Send");function Nr(e,t,a,s,n,o){const r=(0,l.up)("searchAndFilterToolbar"),d=(0,l.up)("snackbarVue"),c=(0,l.up)("paginationVue"),m=(0,l.up)("addServiceRequest"),u=(0,l.up)("EditServiceRequestVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[er])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),tr,ar,ir,(0,l.Wm)(r,{btn_text:n.serv_text,"show-button":n.showToolbar,auto:!0,onBtn_action:o.openAddService,placeholder:"Search with Client and Equipment Name",onFiterWithName:o.searchSeriveRe,onFilterBtn:t[0]||(t[0]=e=>n.filterDisplay=!n.filterDisplay)},null,8,["btn_text","show-button","onBtn_action","onFiterWithName"]),(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[n.filterDisplay?((0,l.wg)(),(0,l.iD)("div",lr,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.selctedPriority,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selctedPriority=e),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:n.priorityList,"item-title":"name","item-value":"id",label:"Priority"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:e.sel.ectedStatus,"onUpdate:modelValue":t[2]||(t[2]=t=>e.sel.ectedStatus=t),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:n.StatusList,"item-title":"name","item-value":"id",label:"Status"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.selectedCity,"onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedCity=e),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:e.cityList,"item-title":"city","item-value":"id",label:"City"},null,8,["modelValue","items"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:t[4]||(t[4]=e=>o.applyFilters())},{default:(0,l.w5)((()=>[sr])),_:1})])),_:1})])),_:1})])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-4"},{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[nr,or,rr,dr,cr,mr,ur,hr,pr,_r,n.showMessage?((0,l.wg)(),(0,l.iD)("th",gr,"CEO Approval")):(0,l.kq)("",!0),fr])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.filteredServiceList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,g.zw)(e.sale?.equipment?.equipmentName||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.sale?.client?.name||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.sale?.client?.city?.city||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.call_handle?.callHandle||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.workingcondition?.workingCondition||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.sale?.serialNo||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.callRegisterDate?.split("T")[0]||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.priority?.priority||"N/A"),1),(0,l._)("td",null,[e.user?((0,l.wg)(),(0,l.iD)("span",wr,(0,g.zw)(e.user.username),1)):((0,l.wg)(),(0,l.iD)("span",Er,"N/A"))]),(0,l._)("td",yr,[(0,l.Wm)(K.v,{color:o.getStatusColor(e.working_status?.workingStatus),style:{"min-width":"100px",cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l._)("span",br,(0,g.zw)(e.working_status?.workingStatus||"N/A"),1),(0,l.Wm)(qe.T,{activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{class:"pa-0"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.StatusList,(t=>((0,l.wg)(),(0,l.j4)(b.l,{onClick:a=>o.changeStatus(t,e),class:(0,g.C_)(o.getStatusClass(t.name)),key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(t.name),1)])),_:2},1024)])),_:2},1032,["onClick","class"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["color"])]),(0,l._)("td",null,[n.showMessage?((0,l.wg)(),(0,l.j4)(f.T,{key:0,icon:"",small:"",onClick:t=>o.openApprovalDialog(e),class:"ml-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[Tr])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(qe.T,{transition:"scale-transition"},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)({icon:""},e),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[vr])),_:1})])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,{onClick:t=>o.toInnerPage(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[Sr])),_:1}),Cr])),_:1})])),_:2},1032,["onClick"]),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:0,onClick:t=>o.openEditDialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[Ir])),_:1}),Dr])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0),n.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:1,onClick:t=>o.openMessageDialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[kr])),_:1}),Ar])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])])))),128))])])),_:1}),(0,l.Wm)(d,{visible:n.snackbar,text:n.mssg,button:!1,color:n.snackColor,onClose:t[5]||(t[5]=e=>n.snackbar=!1)},null,8,["visible","text","color"]),(0,l.Wm)(c,{length:e.serviceTotalPages,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"]),(0,l.Wm)(m,{visible:n.dialog,onClose:t[6]||(t[6]=e=>n.dialog=!1),onSave:o.addService,title:n.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(u,{visible:n.edtDialog,onClose:t[7]||(t[7]=e=>n.edtDialog=!1),onSave:o.updateService,title:n.editDialog_title,item:n.edit_value},null,8,["visible","onSave","title","item"]),(0,l.Wm)(A.B,{modelValue:n.approvalDialog,"onUpdate:modelValue":t[12]||(t[12]=e=>n.approvalDialog=e),"max-width":"500px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[Lr])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.subject,"onUpdate:modelValue":t[8]||(t[8]=e=>n.subject=e),label:"subject",outlined:""},null,8,["modelValue"]),(0,l.Wm)(je.h,{modelValue:n.requested_type,"onUpdate:modelValue":t[9]||(t[9]=e=>n.requested_type=e),label:"Requested Type",outlined:""},null,8,["modelValue"]),(0,l.Wm)(Jo.z,{modelValue:n.message,"onUpdate:modelValue":t[10]||(t[10]=e=>n.message=e),label:"Message to CEO",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:t[11]||(t[11]=e=>n.approvalDialog=!1)},{default:(0,l.w5)((()=>[Wr])),_:1}),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:o.sendApprovalRequest},{default:(0,l.w5)((()=>[Vr])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const qr={class:"text-center"},Ur=(0,l.Uk)("mdi-close"),xr={key:0,class:"error-text"},Rr={key:0,class:"error-text"},Pr={key:0,class:"error-text"},Mr={key:0,class:"error-text"},zr={key:0,class:"error-text"},Gr={key:0,class:"error-text"},Or={key:0,class:"error-text"},$r={key:0,class:"error-text"},jr=(0,l.Uk)(" Cancel "),Br=(0,l.Uk)(" Save ");function Yr(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",qr,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[14]||(t[14]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":n.isMobile?"100%":"900",fullscreen:n.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[Ur])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",search:s.search,"onUpdate:search":t[1]||(t[1]=e=>s.search=e),modelValue:s.client,"onUpdate:modelValue":t[2]||(t[2]=e=>s.client=e),clearable:"",items:e.clientList,"item-title":"name","item-value":"id",label:"Client",class:"custom-field","prepend-inner-icon":"mdi-account","hide-details":""},null,8,["search","modelValue","items"]),s.v$.client.$error?((0,l.wg)(),(0,l.iD)("span",xr," Client is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.city,"onUpdate:modelValue":t[3]||(t[3]=e=>s.city=e),disabled:"",label:"City",class:"custom-field","prepend-inner-icon":"mdi-city","hide-details":""},null,8,["modelValue"]),s.v$.city.$error?((0,l.wg)(),(0,l.iD)("span",Rr," City is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.equipment,"onUpdate:modelValue":t[4]||(t[4]=e=>s.equipment=e),clearable:"",items:e.editClientValue.equipments,"item-title":"equipmentName","item-value":"id",label:"Machine Name",class:"custom-field","prepend-inner-icon":"mdi-tools","hide-details":""},null,8,["modelValue","items"]),s.v$.equipment.$error?((0,l.wg)(),(0,l.iD)("span",Pr," Equipment is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.sale,"onUpdate:modelValue":t[5]||(t[5]=e=>s.sale=e),clearable:"",items:s.saleList,"item-title":"serialNo","item-value":"id",label:"Serial Number",class:"custom-field","prepend-inner-icon":"mdi-barcode","hide-details":""},null,8,["modelValue","items"]),s.v$.sale.$error?((0,l.wg)(),(0,l.iD)("span",Mr," Serial Number is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.workingCondition,"onUpdate:modelValue":t[6]||(t[6]=e=>s.workingCondition=e),clearable:"",items:e.conditionList,"item-title":"workingCondition","item-value":"id",label:"Working Condition",class:"custom-field","prepend-inner-icon":"mdi-wrench","hide-details":""},null,8,["modelValue","items"]),s.v$.workingCondition.$error?((0,l.wg)(),(0,l.iD)("span",zr," Working Condition is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.priority,"onUpdate:modelValue":t[7]||(t[7]=e=>s.priority=e),clearable:"",items:e.priorityList,"item-title":"priority","item-value":"id",label:"Priority",class:"custom-field","prepend-inner-icon":"mdi-priority-high","hide-details":""},null,8,["modelValue","items"]),s.v$.priority.$error?((0,l.wg)(),(0,l.iD)("span",Gr," Priority is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.technician,"onUpdate:modelValue":t[8]||(t[8]=e=>s.technician=e),clearable:"",items:e.techList,"item-title":"username","item-value":"id",label:"Assigned To",class:"custom-field","prepend-inner-icon":"mdi-account-hard-hat","hide-details":""},null,8,["modelValue","items"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.callHandle,"onUpdate:modelValue":t[9]||(t[9]=e=>s.callHandle=e),clearable:"",items:e.callhandelList,"item-title":"callHandle","item-value":"id",label:"Call Handle",class:"custom-field","prepend-inner-icon":"mdi-phone","hide-details":""},null,8,["modelValue","items"]),s.v$.callHandle.$error?((0,l.wg)(),(0,l.iD)("span",Or," Call Handle is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:s.ServiceRequest,"onUpdate:modelValue":t[10]||(t[10]=e=>s.ServiceRequest=e),clearable:"",items:e.ServiceTypeList,"item-title":"type","item-value":"id",label:"Service Request",class:"custom-field","prepend-inner-icon":"mdi-service-toolbox","hide-details":""},null,8,["modelValue","items"]),s.v$.ServiceRequest.$error?((0,l.wg)(),(0,l.iD)("span",$r," Service Request is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",md:n.isMobile?12:8},{default:(0,l.w5)((()=>[(0,l.Wm)(Jo.z,{color:"#7b1fa2",variant:"outlined",label:"Description",modelValue:s.description,"onUpdate:modelValue":t[11]||(t[11]=e=>s.description=e),"auto-grow":"",rows:"3","row-height":"25",class:"custom-field","prepend-inner-icon":"mdi-text"},null,8,["modelValue"])])),_:1},8,["md"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[12]||(t[12]=e=>n.show=!1)},{default:(0,l.w5)((()=>[jr])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[13]||(t[13]=e=>n.addServiceRequest())},{default:(0,l.w5)((()=>[Br])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var Fr={name:"addServiceRequest",data(){return{v$:(0,pt.ZP)(),dialog:!1,client:"",city:"",equipment:"",sale:"",technician:"",cityLists:[],saleList:[],workingCondition:"",priority:"",description:"",callHandle:"",ServiceRequest:"",search:""}},components:{},props:{visible:{type:Boolean},title:{type:String}},validations(){return{client:{required:_t.C1},city:{required:_t.C1},equipment:{required:_t.C1,numeric:_t.uR},sale:{required:_t.C1,numeric:_t.uR},workingCondition:{required:_t.C1},priority:{required:_t.C1},callHandle:{required:_t.C1},ServiceRequest:{required:_t.C1}}},watch:{workingCondition(e,t){e&&this.toggleItem(e)},client(e,t){this.setCity()},equipment(e,t){this.setSerialNo()},search(e){this.GET_CLIENT_LIST({name:e})},visible(e){0==e&&(this.client="",this.city="",this.equipment="",this.sale="",this.priority="",this.callHandle="",this.ServiceRequest="",this.technician="")}},computed:{...(0,$.rn)("callHandle",["callhandelList"]),...(0,$.rn)("priority",["priorityList"]),...(0,$.rn)("workingCondition",["conditionList"]),...(0,$.rn)("city",["cityList"]),...(0,$.rn)("technician",["techList"]),...(0,$.rn)("clients",["clientList","editClientValue"]),...(0,$.rn)("salesEquipment",["serialList"]),...(0,$.rn)("servicetype",["ServiceTypeList"]),show:{get(){return this.visible},set(e){e||this.$emit("close")}},isMobile(){return this.$vuetify.display.smAndDown}},methods:{...(0,$.nv)("clients",["GET_CLIENT_BY_ID","GET_CLIENT_LIST"]),...(0,$.nv)("salesEquipment",["GET_ALL_SALE_EQUIPMENT","GET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID"]),...(0,$.nv)("callHandle",["GET_CALL_HANDLE_LIST"]),...(0,$.nv)("priority",["GET_PRIORITY_LIST"]),...(0,$.nv)("workingCondition",["GET_CONDITION_LIST"]),...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("technician",["GET_TECH_LIST"]),...(0,$.nv)("servicetype",["GET_SERVICETYPE_LIST"]),async setCity(){if(this.equipment="",this.sale="",this.client){const e=this.$store.getters["clients/getClientById"](this.client);this.city=e.city.city;const t={id:this.client};await this.GET_CLIENT_BY_ID(t),await this.GET_ALL_SALE_EQUIPMENT()}},setSerialNo(){try{if(this.equipment){this.saleList=[];const e={cid:this.client,eid:this.equipment};this.GET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID(e).then((()=>{this.saleList=this.serialList}))}}catch(e){console.log(e)}},setDescription(){this.selctedCondition&&(this.description=this.selctedCondition+" - ")},addServiceRequest(){if(this.v$.$validate(),!this.v$.$error){const e={saleId:this.sale,description:this.description,callHandleId:this.callHandle,serviceTypeId:this.ServiceRequest,workingStatusId:1,workingconditionId:this.workingCondition,priorityId:this.priority,callRegisterDate:(new Date).toISOString().substr(0,10)};this.technician&&(e.staffId=this.technician),console.log(e),this.$emit("save",e),this.sale="",this.description="",this.technician="",this.callHandle="",this.ServiceRequest="",this.workingCondition="",this.priority="",this.v$.$reset()}},toggleItem(e){try{const t=this.$store.getters["workingCondition/getworkingConditoinWithId"](e);t&&t.workingCondition?(this.description=`${t.workingCondition} - `,console.log("Condition Data:",t)):(console.warn("No working condition found for item:",e),this.description="")}catch(t){console.error("Error in toggleItem:",t),this.description=""}}},async created(){this.name="",this.image="",this.modelNo="";try{await this.GET_CALL_HANDLE_LIST(),await this.GET_PRIORITY_LIST(),await this.GET_CONDITION_LIST(),await this.GET_CITY_LIST(),await this.GET_TECH_LIST(),await this.GET_SERVICETYPE_LIST()}catch(e){console.error("Error fetching lists:",e)}}};const Hr=(0,d.Z)(Fr,[["render",Yr],["__scopeId","data-v-c5d14174"]]);var Qr=Hr;const Kr={class:"text-center"},Zr=(0,l.Uk)("mdi-close"),Jr={key:0,class:"error-text"},Xr={key:0,class:"error-text"},ed={key:0,class:"error-text"},td={key:0,class:"error-text"},ad={key:0,class:"error-text"},id={key:0,class:"error-text"},ld={key:0,class:"error-text"},sd={key:0,class:"error-text"},nd={key:0,class:"error-text"},od=(0,l.Uk)(" Cancel "),rd=(0,l.Uk)(" Save ");function dd(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Kr,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[20]||(t[20]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent","max-width":n.isMobile?"100%":"900",fullscreen:n.isMobile,scrollable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"dialog-card elevation-5"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"dialog-title"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(a.title)+" ",1),(0,l.Wm)(w.C),(0,l.Wm)(f.T,{icon:"",small:"",onClick:t[0]||(t[0]=e=>n.show=!1),class:"close-btn"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{style:{color:"black"}},{default:(0,l.w5)((()=>[Zr])),_:1})])),_:1})])),_:1}),(0,l.Wm)(Q.Z,{class:"form-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.sale.clientId,"onUpdate:modelValue":t[1]||(t[1]=e=>a.item.sale.clientId=e),search:s.search,"onUpdate:search":t[2]||(t[2]=e=>s.search=e),disabled:"",clearable:"",items:e.clientList,"item-title":"name","item-value":"id",label:"Client",class:"custom-field","prepend-inner-icon":"mdi-account","hide-details":"",onClick:t[3]||(t[3]=e=>n.getClient())},null,8,["modelValue","search","items"]),s.v$.client.$error?((0,l.wg)(),(0,l.iD)("span",Jr," Client is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.sale.client.city.city,"onUpdate:modelValue":t[4]||(t[4]=e=>a.item.sale.client.city.city=e),disabled:"",clearable:"",label:"City",class:"custom-field","prepend-inner-icon":"mdi-city","hide-details":""},null,8,["modelValue"]),s.v$.city.$error?((0,l.wg)(),(0,l.iD)("span",Xr," City is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.sale.equipmentId,"onUpdate:modelValue":t[5]||(t[5]=e=>a.item.sale.equipmentId=e),disabled:"",clearable:"",items:e.editClientValue?.equipments,"item-title":"equipmentName","item-value":"id",label:"Machine Name",class:"custom-field","prepend-inner-icon":"mdi-tools","hide-details":"",onClick:t[6]||(t[6]=e=>n.getequipment(a.item.sale.clientId))},null,8,["modelValue","items"]),s.v$.equipment.$error?((0,l.wg)(),(0,l.iD)("span",ed," Equipment is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.sale.serialNo,"onUpdate:modelValue":t[7]||(t[7]=e=>a.item.sale.serialNo=e),disabled:"",clearable:"",items:s.saleList,"item-title":"serialNo","item-value":"id",label:"Serial Number",class:"custom-field","prepend-inner-icon":"mdi-barcode","hide-details":"",onClick:t[8]||(t[8]=e=>n.getSerial())},null,8,["modelValue","items"]),s.v$.sale.$error?((0,l.wg)(),(0,l.iD)("span",td," Serial Number is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.workingconditionId,"onUpdate:modelValue":t[9]||(t[9]=e=>a.item.workingconditionId=e),disabled:"",clearable:"",items:e.conditionList,"item-title":"workingCondition","item-value":"id",label:"Working Condition",class:"custom-field","prepend-inner-icon":"mdi-wrench","hide-details":"",onClick:t[10]||(t[10]=e=>n.setWorkingCondition())},null,8,["modelValue","items"]),s.v$.workingCondition.$error?((0,l.wg)(),(0,l.iD)("span",ad," Working Condition is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.priorityId,"onUpdate:modelValue":t[11]||(t[11]=e=>a.item.priorityId=e),disabled:"",clearable:"",items:e.priorityList,"item-title":"priority","item-value":"id",label:"Priority",class:"custom-field","prepend-inner-icon":"mdi-priority-high","hide-details":""},null,8,["modelValue","items"]),s.v$.priority.$error?((0,l.wg)(),(0,l.iD)("span",id," Priority is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.userId,"onUpdate:modelValue":t[12]||(t[12]=e=>a.item.userId=e),disabled:"",clearable:"",items:e.techList,"item-title":"username","item-value":"id",label:"Assigned To",class:"custom-field","prepend-inner-icon":"mdi-account-hard-hat","hide-details":""},null,8,["modelValue","items"]),s.v$.technician.$error?((0,l.wg)(),(0,l.iD)("span",ld," Assigned To is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{color:"#7b1fa2",variant:"outlined",density:"compact",modelValue:a.item.callHandleId,"onUpdate:modelValue":t[13]||(t[13]=e=>a.item.callHandleId=e),disabled:"",clearable:"",items:e.callhandelList,"item-title":"callHandle","item-value":"id",label:"Call Handle",class:"custom-field","prepend-inner-icon":"mdi-phone","hide-details":""},null,8,["modelValue","items"]),s.v$.callHandle.$error?((0,l.wg)(),(0,l.iD)("span",sd," Call Handle is required ")):(0,l.kq)("",!0)])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",md:n.isMobile?12:8},{default:(0,l.w5)((()=>[(0,l.Wm)(Jo.z,{color:"#7b1fa2",variant:"outlined",label:"Description",modelValue:a.item.description,"onUpdate:modelValue":t[14]||(t[14]=e=>a.item.description=e),disabled:"","auto-grow":"",rows:"3","row-height":"25",class:"custom-field","prepend-inner-icon":"mdi-text"},null,8,["modelValue"]),s.v$.description.$error?((0,l.wg)(),(0,l.iD)("span",nd," Description is required ")):(0,l.kq)("",!0)])),_:1},8,["md"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.doc1,"onUpdate:modelValue":t[15]||(t[15]=e=>s.doc1=e),"show-size":"",label:"Document 1",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.doc2,"onUpdate:modelValue":t[16]||(t[16]=e=>s.doc2=e),"show-size":"",label:"Document 2",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"]),(0,l.Wm)(J.D,{cols:"12",sm:n.isMobile?12:4},{default:(0,l.w5)((()=>[(0,l.Wm)($e.Z,{color:"#7b1fa2","prepend-inner-icon":"mdi-file-pdf-box",density:"compact",clearable:"",variant:"outlined",modelValue:s.doc3,"onUpdate:modelValue":t[17]||(t[17]=e=>s.doc3=e),"show-size":"",label:"Document 3",class:"custom-field",multiple:"false"},null,8,["modelValue"])])),_:1},8,["sm"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,{class:"action-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"action-btn cancel-btn",onClick:t[18]||(t[18]=e=>n.show=!1)},{default:(0,l.w5)((()=>[od])),_:1}),(0,l.Wm)(f.T,{class:"action-btn save-btn",onClick:t[19]||(t[19]=e=>n.updateServiceRequest())},{default:(0,l.w5)((()=>[rd])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","fullscreen"])])}var cd={name:"addServiceRequest",data(){return{v$:(0,pt.ZP)(),dialog:!1,sale_flag:!1,client:"",city:"",equipment:"",sale:"",technician:"",cityLists:[],saleList:[],workingCondition:"",priority:"",description:"",callHandle:"",doc1:"",doc2:"",doc3:"",search:null}},props:{visible:{type:Boolean},title:{type:String},item:{type:Array}},validations(){return{client:{required:_t.C1},city:{required:_t.C1},equipment:{required:_t.C1},sale:{required:_t.C1},technician:{required:_t.C1},workingCondition:{required:_t.C1},priority:{required:_t.C1},callHandle:{required:_t.C1},description:{required:_t.C1}}},watch:{search(e){this.GET_CLIENT_LIST({name:e,size:9999999})},visible(e){e?this.GET_ALL_SALE_EQUIPMENT({size:99999}):this.v$.$reset()}},computed:{...(0,$.rn)("callHandle",["callhandelList"]),...(0,$.rn)("priority",["priorityList"]),...(0,$.rn)("workingCondition",["conditionList"]),...(0,$.rn)("city",["cityList"]),...(0,$.rn)("technician",["techList"]),...(0,$.rn)("clients",["clientList","editClientValue"]),...(0,$.rn)("salesEquipment",["serialList","saleEquipmentList"]),show:{get(){return this.visible},set(e){e||this.$emit("close")}},isMobile(){return this.$vuetify.display.smAndDown}},methods:{...(0,$.nv)("clients",["GET_CLIENT_LIST","GET_CLIENT_BY_ID"]),...(0,$.nv)("salesEquipment",["GET_ALL_SALE_EQUIPMENT","GET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID"]),getClient(){this.item.sale.equipmentId="",this.item.sale.serialNo=""},async getequipment(e){const t={id:e};await this.GET_CLIENT_BY_ID(t),this.item.sale.serialNo=""},async getSerial(){this.sale_flag=!0,this.saleList=[];const e={cid:this.item.sale.clientId,eid:this.item.sale.equipmentId};this.GET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID(e).then((()=>{this.saleList=this.serialList}))},async setCity(){if(this.equipment="",this.sale="",this.client){const e=this.$store.getters["clients/getClientById"](this.client);this.city=e.city.city;const t={id:this.client};await this.GET_CLIENT_BY_ID(t),await this.GET_ALL_SALE_EQUIPMENT()}},setSerialNo(){try{if(this.equipment){this.saleList=[];const e=this.$store.getters["salesEquipment/get_all_equipment_with_clientId_and_equiId"](this.client,this.equipment);this.saleList=e}}catch(e){console.log(e)}},setDescription(){this.selctedCondition&&(this.description=this.selctedCondition+" - ")},async updateServiceRequest(){if(this.client=this.item.sale.clientId,this.city=this.item.sale.client.city.city,this.equipment=this.item.sale.equipmentId,this.sale=this.item.sale.serialNo,this.technician=this.item.userId,this.workingCondition=this.item.workingconditionId,this.priority=this.item.priorityId,this.callHandle=this.item.callHandleId,this.description=this.item.description,this.v$.$validate(),!this.v$.$error){const e={id:this.item.id,description:this.description,staffId:this.technician,callHandleId:this.callHandle,workingconditionId:this.workingCondition,priorityId:this.priority,callRegisterDate:(new Date).toISOString().substr(0,10),doc1:this.doc1,doc2:this.doc2,doc3:this.doc3};if(1==this.sale_flag)e.saleId=this.item.sale.serialNo;else{await this.GET_ALL_SALE_EQUIPMENT({search:this.sale});const t=this.saleEquipmentList[0];e.saleId=t.id}console.log(e),this.$emit("save",e),this.sale_flag=!1,this.v$.$reset()}},toggleItem(e){const t=this.$store.getters["workingCondition/getworkingConditoinWithId"](e);this.description=t.workingCondition+" - "},setWorkingCondition(){}},created(){this.name="",this.image="",this.modelNo=""}};const md=(0,d.Z)(cd,[["render",dd],["__scopeId","data-v-7f5d252c"]]);var ud=md,hd={name:"serviceRequest",components:{searchAndFilterToolbar:At,addServiceRequest:Qr,EditServiceRequestVue:ud,deleteWarnVue:M,paginationVue:Ta,snackbarVue:xt},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Service Requests",disabled:!0,href:"/service-requests"}],serv_text:"Add Service Request",dialog:!1,edtDialog:!1,delete_dialog:!1,approvalDialog:!1,snackbar:!1,mssg:"",snackColor:"",filterDisplay:!1,selctedPriority:"",selctedStatus:"",selectedCity:"",showToolbar:!1,showMessage:!1,serviceSearchVal:"",deleteValue:{},dialog_title:"Add Service Request",editDialog_title:"Edit Service Request",edit_value:{},allServiceList:[],message:"",subject:"",requested_type:"",message:"",selectedServiceItem:null,priorityList:[{id:1,name:"Low"},{id:2,name:"Medium"},{id:3,name:"High"}],StatusList:[{id:1,name:"Open"},{id:2,name:"In Progress"},{id:3,name:"Completed"},{id:5,name:"Canceled"}]}},computed:{...(0,$.rn)("service",["serviceList","serviceTotalPages","editServicetValue"]),...(0,$.rn)("status",["statusList"]),...(0,$.rn)("clients",["editClientValue"]),...(0,$.rn)("city",["cityList"]),filteredServiceList(){let e=[...this.allServiceList];if(this.selctedPriority&&(e=e.filter((e=>e.priority?.id===this.selctedPriority))),this.selctedStatus&&(e=e.filter((e=>e.working_status?.id===this.selctedStatus))),this.selectedCity&&(e=e.filter((e=>e.sale?.client?.city?.id===this.selectedCity))),this.serviceSearchVal){const t=this.serviceSearchVal.toLowerCase();e=e.filter((e=>(e.sale?.equipment?.equipmentName?.toLowerCase()||"").includes(t)||(e.sale?.client?.name?.toLowerCase()||"").includes(t)))}return e}},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];this.showToolbar="Engineer"!==t,this.showMessage="admin"!==t}},...(0,$.nv)("clients",["GET_CLIENT_LIST","GET_CLIENT_BY_ID"]),...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("technician",["GET_TECH_LIST"]),...(0,$.nv)("workingCondition",["GET_CONDITION_LIST"]),...(0,$.nv)("priority",["GET_PRIORITY_LIST"]),...(0,$.nv)("callHandle",["GET_CALL_HANDLE_LIST"]),...(0,$.nv)("service",["ADD_SERVICE","GET_SERVICE_LIST","CHENGE_SERVICE_STATUS","GET_SERVICE_WITH_ID","UPDATE_SERVICE","DELETE_SERVICE_REQUEST","SEND_CEO_APPROVAL"]),...(0,$.nv)("status",["GET_STATUS_LIST"]),...(0,$.nv)("message",["ADD_CEOMESSAGE"]),openMessageDialog(e){this.$router.push({name:"MessageList",params:{serviceRequestId:e.id}})},getStatusColor(e){const t={Open:"#1985d0","In Progress":"#20ad8c",Completed:"#fd5e00",Verified:"#1ad539",Canceled:"#1ad539"};return t[e]||"#grey"},getStatusClass(e){return{Open:"Open"===e,Accepted:"In Progress"===e,Completed:"Completed"===e,verified:"Verified"===e||"Canceled"===e}},getApprovalColor(e){const t={Approved:"#1ad539",Pending:"#ff9800",Rejected:"#f44336"};return t[e]||"#ff9800"},async changeStatus(e,t){const a={id:t.id,workingStatusId:e.id,saleId:t.saleId};try{await this.CHENGE_SERVICE_STATUS(a),await this.fetchServiceList(),this.mssg="Status updated successfully",this.snackColor="success",this.snackbar=!0}catch(i){this.mssg=i.message||"Error updating status",this.snackColor="error",this.snackbar=!0}},async openAddService(){const e={size:500};try{await Promise.all([this.GET_CLIENT_LIST(e),this.GET_CITY_LIST(e),this.GET_TECH_LIST(e),this.GET_CONDITION_LIST(),this.GET_PRIORITY_LIST(),this.GET_CALL_HANDLE_LIST()]),this.dialog=!0}catch(t){console.error("Error preparing add service:",t)}},async addService(e){try{await this.ADD_SERVICE(e),this.snackColor="success",this.mssg="Service request added successfully",this.snackbar=!0,this.dialog=!1,await this.fetchServiceList()}catch(t){this.mssg=t.message||"Error adding service request",this.snackColor="error",this.snackbar=!0}},async openEditDialog(e){try{await this.GET_SERVICE_WITH_ID(e.id).then((()=>{this.edit_value={...this.editServicetValue},this.edtDialog=!0}));const t={size:500};await Promise.all([this.GET_CITY_LIST(t),this.GET_TECH_LIST(t),this.GET_CONDITION_LIST(),this.GET_PRIORITY_LIST(),this.GET_CALL_HANDLE_LIST(),this.GET_CLIENT_LIST({name:e.sale?.client?.name||""})])}catch(t){console.error("Error opening edit dialog:",t)}},async updateService(e){try{await this.UPDATE_SERVICE(e),this.edtDialog=!1,await this.fetchServiceList(),this.mssg="Service request updated successfully",this.snackColor="success",this.snackbar=!0}catch(t){this.mssg=t.message||"Error updating service request",this.snackColor="error",this.snackbar=!0}},toInnerPage(e){this.$router.push({name:"serviceInner",params:{id:e.id}})},openDeleteDailog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteService(){try{await this.DELETE_SERVICE_REQUEST(this.deleteValue.id),this.snackColor="success",this.mssg="Service request deleted successfully",this.snackbar=!0,this.delete_dialog=!1,await this.fetchServiceList()}catch(e){this.mssg=e.message||"Error deleting service request",this.snackColor="error",this.snackbar=!0}},async fetchServiceList(){try{await this.GET_SERVICE_LIST({size:500});this.allServiceList=[...this.serviceList]}catch(e){console.error("Error fetching service list:",e)}},applyFilters(){this.$forceUpdate()},chanegePage(e){this.fetchServiceList()},searchSeriveRe(e){this.serviceSearchVal=e||"",this.applyFilters()},openApprovalDialog(e){this.selectedServiceItem=e.id,this.subject="",this.message="",this.approvalDialog=!0},async sendApprovalRequest(){if(!this.message||!this.selectedServiceItem)return this.mssg="Please select a service request and enter a message.",this.snackColor="error",void(this.snackbar=!0);const e={subject:this.subject||"Approval Request",requested_type:this.requested_type||"General",serviceRequestId:this.selectedServiceItem,message:this.message};try{await this.ADD_CEOMESSAGE(e);this.mssg="Approval request sent successfully",this.snackColor="success",this.snackbar=!0,this.approvalDialog=!1}catch(t){console.error("Error sending approval request:",t),this.mssg=t.response?.data?.message||t.message||"Error sending approval request",this.snackColor="error",this.snackbar=!0}}},mounted(){Promise.all([this.isAdmin(),this.fetchServiceList(),this.GET_STATUS_LIST(),this.GET_CITY_LIST({size:500}),this.GET_TECH_LIST({size:500}),this.GET_CONDITION_LIST(),this.GET_PRIORITY_LIST(),this.GET_CALL_HANDLE_LIST()]).catch((e=>{console.error("Error during initialization:",e)}))}};const pd=(0,d.Z)(hd,[["render",Nr],["__scopeId","data-v-7ec06673"]]);var _d=pd;const gd=(0,l.Uk)("mdi-arrow-left"),fd={class:"details mt-3 rounded-lg",style:{"font-family":"'Montserrat', sans-serif"}},wd=(0,l.Uk)("Client name: "),Ed={key:0,class:"detval"},yd=(0,l.Uk)("Serial Number : "),bd={key:0,class:"detval"},Td=(0,l.Uk)(" Assigned to : "),vd={key:0,class:"detval"},Sd=(0,l.Uk)(" Attended On : "),Cd={key:0,class:"detval"},Id=(0,l.Uk)("City : "),Dd={key:0,class:"detval"},kd=(0,l.Uk)("working Condition : "),Ad={key:0,class:"detval"},Ld=(0,l.Uk)("Call Handle : "),Wd={key:0,class:"detval"},Vd=(0,l.Uk)(" Completed On : "),Nd={key:0,class:"detval"},qd=(0,l.Uk)("Mechine name: "),Ud={key:0,class:"detval"},xd=(0,l.Uk)("Priority : "),Rd={key:0,class:"detval"},Pd=(0,l.Uk)(" Call Registration date : "),Md={key:0,class:"detval"},zd={class:"mt-10"},Gd=["href"],Od=(0,l.Uk)(" Document 1 "),$d=["href"],jd=(0,l.Uk)(" Document 2 "),Bd=["href"],Yd=(0,l.Uk)(" Document 3 ");function Fd(e,t,a,i,s,n){return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{onClick:t[0]||(t[0]=t=>e.$router.back())},{default:(0,l.w5)((()=>[gd])),_:1}),(0,l._)("div",fd,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("p",null,[wd,e.editServicetValue.sale?((0,l.wg)(),(0,l.iD)("span",Ed,(0,g.zw)(e.editServicetValue.sale.client.name),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[yd,e.editServicetValue.sale?((0,l.wg)(),(0,l.iD)("span",bd,(0,g.zw)(e.editServicetValue.sale.serialNo),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[Td,e.editServicetValue.user?((0,l.wg)(),(0,l.iD)("span",vd,(0,g.zw)(e.editServicetValue.user.username),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[Sd,e.editServicetValue.attendedOn?((0,l.wg)(),(0,l.iD)("span",Cd,(0,g.zw)(e.editServicetValue.attendedOn.split("T")[0]),1)):(0,l.kq)("",!0)])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("p",null,[Id,e.editServicetValue.sale?((0,l.wg)(),(0,l.iD)("span",Dd,(0,g.zw)(e.editServicetValue.sale.client.city.city),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[kd,e.editServicetValue.working_condition?((0,l.wg)(),(0,l.iD)("span",Ad,(0,g.zw)(e.editServicetValue.working_condition.workingCondition),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[Ld,e.editServicetValue.call_handle?((0,l.wg)(),(0,l.iD)("span",Wd,(0,g.zw)(e.editServicetValue.call_handle.callHandle),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[Vd,e.editServicetValue.completedOn?((0,l.wg)(),(0,l.iD)("span",Nd,(0,g.zw)(e.editServicetValue.completedOn.split("T")[0]),1)):(0,l.kq)("",!0)])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"4"},{default:(0,l.w5)((()=>[(0,l._)("p",null,[qd,e.editServicetValue.sale?((0,l.wg)(),(0,l.iD)("span",Ud,(0,g.zw)(e.editServicetValue.sale.equipment.equipmentName),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[xd,e.editServicetValue.priority?((0,l.wg)(),(0,l.iD)("span",Rd,(0,g.zw)(e.editServicetValue.priority.priority),1)):(0,l.kq)("",!0)]),(0,l._)("p",null,[Pd,e.editServicetValue.callRegisterDate?((0,l.wg)(),(0,l.iD)("span",Md,(0,g.zw)(e.editServicetValue.callRegisterDate.split("T")[0]),1)):(0,l.kq)("",!0)])])),_:1})])),_:1})]),(0,l._)("div",zd,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[e.editServicetValue.document1?((0,l.wg)(),(0,l.iD)("a",{key:0,href:e.editServicetValue.document1,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[Od])),_:1})],8,Gd)):(0,l.kq)("",!0),e.editServicetValue.document2?((0,l.wg)(),(0,l.iD)("a",{key:1,href:e.editServicetValue.document2,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[jd])),_:1})],8,$d)):(0,l.kq)("",!0),e.editServicetValue.document3?((0,l.wg)(),(0,l.iD)("a",{key:2,href:e.editServicetValue.document3,target:"_blank"},[(0,l.Wm)(f.T,{class:"mx-4"},{default:(0,l.w5)((()=>[Yd])),_:1})],8,Bd)):(0,l.kq)("",!0)])),_:1})])])),_:1})}var Hd={name:"serviceInner",computed:{...(0,$.rn)("service",["editServicetValue"])},methods:{...(0,$.nv)("service",["GET_SERVICE_WITH_ID"]),async getServiceDetails(){await this.GET_SERVICE_WITH_ID(this.$route.params).then((()=>{console.log(this.editServicetValue)}))}},mounted(){this.getServiceDetails()}};const Qd=(0,d.Z)(Hd,[["render",Fd],["__scopeId","data-v-6b663e76"]]);var Kd=Qd;const Zd=e=>((0,l.dD)("data-v-0902730f"),e=e(),(0,l.Cn)(),e),Jd=Zd((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," CALIBRATOIN ",-1))),Xd=Zd((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"}," # "),(0,l._)("th",{class:"text-left"}," Equipment Name "),(0,l._)("th",{class:"text-left"}," Client "),(0,l._)("th",{class:"text-left"}," City "),(0,l._)("th",{class:"text-left"}," Working Status "),(0,l._)("th",{class:"text-left"}," Serial Number "),(0,l._)("th",{class:"text-left"}," Priority "),(0,l._)("th",{class:"text-left"}," Assigned to "),(0,l._)("th",{class:"text-left"}," Status "),(0,l._)("th",{class:"text-left"}," Actions ")])],-1))),ec=Zd((()=>(0,l._)("td",null,null,-1))),tc={class:"ma-auto"},ac={class:"ma-auto"},ic={class:"ma-auto"};function lc(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:""}},{default:(0,l.w5)((()=>[Jd,(0,l.Wm)(o,{btn_text:s.serv_text,onBtn_action:t[0]||(t[0]=e=>s.dialog=!0)},null,8,["btn_text"]),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-4"},{default:(0,l.w5)((()=>[Xd,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.desserts,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.name},[ec,(0,l._)("td",null,(0,g.zw)(e.name),1),(0,l._)("td",null,(0,g.zw)(e.user),1),(0,l._)("td",null,(0,g.zw)(e.callhandle),1),(0,l._)("td",null,(0,g.zw)(e.status),1),(0,l._)("td",null,(0,g.zw)(e.reportNumber),1),(0,l._)("td",null,(0,g.zw)(e.regDatTime),1),(0,l._)("td",null,(0,g.zw)(e.attendedBy),1),(0,l._)("td",null,["open"==e.status?((0,l.wg)(),(0,l.j4)(K.v,{key:0,color:"#fd5e00",style:{"min-width":"100px",cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l._)("span",tc,(0,g.zw)(e.status),1),(0,l.Wm)(qe.T,{activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{class:"pa-0"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.items,(t=>((0,l.wg)(),(0,l.j4)(b.l,{onClick:a=>n.changeStatus(t,e.id),style:(0,g.j5)({background:t.bck}),key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{style:{color:"white"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(t.title),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):"Complete"==e.status?((0,l.wg)(),(0,l.j4)(K.v,{key:1,color:"#1985d0",style:{"min-width":"100px",cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l._)("span",ac,(0,g.zw)(e.status),1),(0,l.Wm)(qe.T,{activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{class:"pa-0"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.items,(t=>((0,l.wg)(),(0,l.j4)(b.l,{onClick:a=>n.changeStatus(t,e.id),style:(0,g.j5)({background:t.bck}),key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{style:{color:"white"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(t.title),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):"Assigned"==e.status?((0,l.wg)(),(0,l.j4)(K.v,{key:2,color:"#20ad8c",style:{"min-width":"100px",cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l._)("span",ic,(0,g.zw)(e.status),1),(0,l.Wm)(qe.T,{activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{class:"pa-0"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.items,(t=>((0,l.wg)(),(0,l.j4)(b.l,{onClick:a=>n.changeStatus(t,e.id),style:(0,g.j5)({background:t.bck}),key:t.id},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{style:{color:"white"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(t.title),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)):(0,l.kq)("",!0)]),(0,l._)("td",null,[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:e,props:t})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},t,{class:["mr-1",e?"elevation-12":"elevation-2"],color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["class"])])),_:1}),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:e,props:t})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},t,{class:["mr-1",e?"elevation-12":"elevation-2"],color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["class"])])),_:1})])])))),128))])])),_:1})])),_:1})}var sc={name:"servicecalibration",components:{searchAndFilterToolbar:At},data(){return{serv_text:"",dialog:!1,items:[{title:"Complete",bck:"#1985d0"},{title:"Assigned",bck:"#20ad8c"},{title:"open",bck:"#fd5e00"}],desserts:[{id:1,name:"Mark Otto",user:"super admin",callhandle:"internal",Wstatus:"Not Working",reportNumber:"0034",regDatTime:"2022-02-14 01:30 PM",attendedBy:"-",firstAttende:"-",status:"open"},{id:2,name:"Mark Otto",user:"super admin",callhandle:"internal",Wstatus:"Not Working",reportNumber:"0034",regDatTime:"2022-02-14 01:30 PM",attendedBy:"-",firstAttende:"-",complete:"-",status:"Complete"},{id:3,name:"Mark Otto",user:"super admin",callhandle:"internal",Wstatus:"Not Working",reportNumber:"0034",regDatTime:"2022-02-14 01:30 PM",attendedBy:"-",firstAttende:"-",complete:"-",status:"open"}]}},methods:{changeStatus(e,t){const a=this.desserts.findIndex((e=>e.id==t));this.desserts[a].status=e.title}}};const nc=(0,d.Z)(sc,[["render",lc],["__scopeId","data-v-0902730f"]]);var oc=nc,rc=a(7771);const dc=e=>((0,l.dD)("data-v-2aad5d1a"),e=e(),(0,l.Cn)(),e),cc=(0,l.Uk)("mdi-chevron-right"),mc=dc((()=>(0,l._)("div",{class:"text-h6 mb-2 category-title",style:{"font-family":"'Montserrat', sans-serif !important"}}," PREVENTIVE MAINTENANCE REMINDER ",-1))),uc={key:0,class:"mt-4 mb-2 filter-container"},hc=(0,l.Uk)(" Filter "),pc=(0,l.Uk)(" Clear "),_c=dc((()=>(0,l._)("h3",{class:"section-title"},"0-30 Days",-1))),gc=dc((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Equipment"),(0,l._)("th",{class:"text-left"},"Due Date (days remaining/ago)"),(0,l._)("th",{class:"text-left"},"Client"),(0,l._)("th",{class:"text-left"},"City")])],-1))),fc=(0,l.Uk)("No data"),wc=dc((()=>(0,l._)("h3",{class:"section-title"},"30-60 Days",-1))),Ec=dc((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Equipment"),(0,l._)("th",{class:"text-left"},"Due Date (days remaining)"),(0,l._)("th",{class:"text-left"},"Client"),(0,l._)("th",{class:"text-left"},"City")])],-1))),yc=(0,l.Uk)("No data"),bc=dc((()=>(0,l._)("h3",{class:"section-title"},"60-90 Days",-1))),Tc=dc((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Equipment"),(0,l._)("th",{class:"text-left"},"Due Date (days remaining)"),(0,l._)("th",{class:"text-left"},"Client"),(0,l._)("th",{class:"text-left"},"City")])],-1))),vc=(0,l.Uk)("No data"),Sc=dc((()=>(0,l._)("h3",{class:"section-title"},"90+ Days",-1))),Cc=dc((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Equipment"),(0,l._)("th",{class:"text-left"},"Due Date (days remaining)"),(0,l._)("th",{class:"text-left"},"Client"),(0,l._)("th",{class:"text-left"},"City")])],-1))),Ic=(0,l.Uk)("No data");function Dc(e,t,a,s,n,o){const r=(0,l.up)("searchAndFilterToolbar"),d=(0,l.up)("paginationVue"),c=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-4 hmmsdashboard",fluid:"",style:{"min-height":"100vh",background:"linear-gradient(135deg, #F5F7FA, #E8ECEF)"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"#FF5733"},{default:(0,l.w5)((()=>[cc])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text.toUpperCase()),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),mc,(0,l.Wm)(r,{auto:!0,"show-filter-icon":!1,placeholder:"Search with Client and Equipment Name",onBtn_action:o.openAddService,onFiterWithName:o.searchByName,onFilterBtn:t[0]||(t[0]=e=>n.filterDisplay=!n.filterDisplay),class:"toolbar"},null,8,["onBtn_action","onFiterWithName"]),(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[n.filterDisplay?((0,l.wg)(),(0,l.iD)("div",uc,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.selectedClient,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedClient=e),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:e.clientList,"item-title":"name","item-value":"id",label:"Client",onChange:o.applyFilters},null,8,["modelValue","items","onChange"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.selectedEquipment,"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedEquipment=e),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:e.allEquipments,"item-title":"equipmentName","item-value":"id",label:"Equipment",onChange:o.applyFilters},null,8,["modelValue","items","onChange"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.selectedCity,"onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedCity=e),clearable:"","hide-details":"",variant:"outlined",density:"compact",items:e.cityList,"item-title":"city","item-value":"id",label:"City",onChange:o.applyFilters},null,8,["modelValue","items","onChange"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",sm:"6",md:"3",class:"d-flex align-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(f.T,{class:"filter-btn",style:{background:"linear-gradient(45deg, #FF5733, #2A4066)",color:"white"},onClick:o.applyFilters},{default:(0,l.w5)((()=>[hc])),_:1},8,["onClick"]),(0,l.Wm)(f.T,{class:"ml-2",variant:"text",color:"#FF5733",onClick:o.resetFilters},{default:(0,l.w5)((()=>[pc])),_:1},8,["onClick"])])),_:1})])),_:1})])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(Z.o,{class:"mt-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[_c,o.range0to30.length?((0,l.wg)(),(0,l.j4)(ee.Y,{key:0,class:"modern-table rounded-lg"},{default:(0,l.w5)((()=>[gc,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.range0to30,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.maintenancePeriod.split("T")[0])+" ("+(0,g.zw)(o.getDaysDisplay(e.maintenancePeriod.split("T")[0]))+") ",1),(0,l._)("td",null,(0,g.zw)(e.sale.client.name),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.city.city),1)])))),128))])])),_:1})):((0,l.wg)(),(0,l.j4)(rc.w,{key:1,type:"info",class:"mt-2"},{default:(0,l.w5)((()=>[fc])),_:1}))])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[wc,o.range30to60.length?((0,l.wg)(),(0,l.j4)(ee.Y,{key:0,class:"modern-table rounded-lg"},{default:(0,l.w5)((()=>[Ec,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.range30to60,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.maintenancePeriod.split("T")[0])+" ("+(0,g.zw)(o.getDaysRemaining(e.maintenancePeriod.split("T")[0]))+") ",1),(0,l._)("td",null,(0,g.zw)(e.sale.client.name),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.city.city),1)])))),128))])])),_:1})):((0,l.wg)(),(0,l.j4)(rc.w,{key:1,type:"info",class:"mt-2"},{default:(0,l.w5)((()=>[yc])),_:1}))])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[bc,o.range60to90.length?((0,l.wg)(),(0,l.j4)(ee.Y,{key:0,class:"modern-table rounded-lg"},{default:(0,l.w5)((()=>[Tc,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.range60to90,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.maintenancePeriod.split("T")[0])+" ("+(0,g.zw)(o.getDaysRemaining(e.maintenancePeriod.split("T")[0]))+") ",1),(0,l._)("td",null,(0,g.zw)(e.sale.client.name),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.city.city),1)])))),128))])])),_:1})):((0,l.wg)(),(0,l.j4)(rc.w,{key:1,type:"info",class:"mt-2"},{default:(0,l.w5)((()=>[vc])),_:1}))])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[Sc,o.range90plus.length?((0,l.wg)(),(0,l.j4)(ee.Y,{key:0,class:"modern-table rounded-lg"},{default:(0,l.w5)((()=>[Cc,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.range90plus,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.maintenancePeriod.split("T")[0])+" ("+(0,g.zw)(o.getDaysRemaining(e.maintenancePeriod.split("T")[0]))+") ",1),(0,l._)("td",null,(0,g.zw)(e.sale.client.name),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.city.city),1)])))),128))])])),_:1})):((0,l.wg)(),(0,l.j4)(rc.w,{key:1,type:"info",class:"mt-2"},{default:(0,l.w5)((()=>[Ic])),_:1}))])),_:1})])),_:1}),o.hasData?((0,l.wg)(),(0,l.j4)(d,{key:0,length:e.preventiveTotalPage,onChangePage:o.chanegePage,class:"pagination"},null,8,["length","onChangePage"])):(0,l.kq)("",!0),(0,l.Wm)(c,{visible:n.delete_dialog,onClose:t[4]||(t[4]=e=>n.delete_dialog=!1),item:n.deleteValue,log:!0,onDelete:o.update,class:"dialog-animation"},null,8,["visible","item","onDelete"])])),_:1})}var kc=a(6797),Ac=a.n(kc),Lc={name:"preventiveReminder",components:{searchAndFilterToolbar:At,deleteWarnVue:M,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Preventive Maintenance Reminder",disabled:!0,href:"/preventiveReminders"}],reminder_text:"",delete_dialog:!1,deleteValue:{},filterDisplay:!1,searchQuery:"",selectedClient:null,selectedEquipment:null,selectedCity:null}},computed:{...(0,$.rn)("PreventiveReminders",["preventiveList","preventiveTotalPage"]),...(0,$.rn)("city",["cityList"]),...(0,$.rn)("equipments",["allEquipments"]),...(0,$.rn)("clients",["clientList"]),hasData(){return Array.isArray(this.preventiveList)&&this.preventiveList.length>0},filteredList(){return Array.isArray(this.preventiveList)?this.preventiveList.filter((e=>{if(!e||!e.sale||!e.sale.client||!e.sale.equipment)return!1;const t=!this.searchQuery||(e.sale.client.name||"").toLowerCase().includes(this.searchQuery.toLowerCase())||(e.sale.equipment.equipmentName||"").toLowerCase().includes(this.searchQuery.toLowerCase()),a=!this.selectedClient||e.sale.client.id===this.selectedClient,i=!this.selectedEquipment||e.sale.equipment.id===this.selectedEquipment,l=!this.selectedCity||e.sale.client.city.id===this.selectedCity;return t&&a&&i&&l})):(console.warn("preventiveList is not an array:",this.preventiveList),[])},range0to30(){return this.filteredList.filter((e=>{const t=this.getDaysNumeric(e.maintenancePeriod.split("T")[0]);return Math.abs(t)<=30}))},range30to60(){return this.filteredList.filter((e=>{const t=this.getDaysNumeric(e.maintenancePeriod.split("T")[0]);return t>30&&t<=60}))},range60to90(){return this.filteredList.filter((e=>{const t=this.getDaysNumeric(e.maintenancePeriod.split("T")[0]);return t>60&&t<=90}))},range90plus(){return this.filteredList.filter((e=>{const t=this.getDaysNumeric(e.maintenancePeriod.split("T")[0]);return t>90}))}},methods:{...(0,$.nv)("PreventiveReminders",["GET_PREVENTIVE_LIST","UPDATE_SERVICE_PREVENTIVE"]),...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("equipments",["GET_ALL_EQUIPMENT"]),...(0,$.nv)("clients",["GET_CLIENT_LIST"]),getDaysNumeric(e){const t=Ac()(e),a=Ac()();return t.diff(a,"days")},getDaysDisplay(e){const t=this.getDaysNumeric(e);return t>=0?`in ${t} days`:`${Math.abs(t)} days ago`},getDaysRemaining(e){const t=this.getDaysNumeric(e);return`${t} days remaining`},searchByName(e){this.searchQuery=e||""},applyFilters(){this.searchByName(this.searchQuery)},resetFilters(){this.searchQuery="",this.selectedClient=null,this.selectedEquipment=null,this.selectedCity=null,this.applyFilters()},updateService(e){this.delete_dialog=!0,this.deleteValue=e},async update(e){await this.UPDATE_SERVICE_PREVENTIVE(e),this.delete_dialog=!1,await this.GET_PREVENTIVE_LIST()},chanegePage(e){const t={page:e,size:15};this.GET_PREVENTIVE_LIST(t)},openAddService(){console.log("Open Add Service")},logPreventiveListStructure(){console.log("Preventive List Structure:",{type:typeof this.preventiveList,isArray:Array.isArray(this.preventiveList),value:this.preventiveList})}},mounted(){this.GET_PREVENTIVE_LIST(),this.GET_CITY_LIST(),this.GET_ALL_EQUIPMENT(),this.GET_CLIENT_LIST(),this.$nextTick((()=>{this.logPreventiveListStructure()}))}};const Wc=(0,d.Z)(Lc,[["render",Dc],["__scopeId","data-v-2aad5d1a"]]);var Vc=Wc;const Nc=e=>((0,l.dD)("data-v-35c13748"),e=e(),(0,l.Cn)(),e),qc=Nc((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," Calibration Reminder ",-1))),Uc=Nc((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"}," # "),(0,l._)("th",{class:"text-left"}," Equipment "),(0,l._)("th",{class:"text-left"}," Due Date (days remaining) "),(0,l._)("th",{class:"text-left"}," Client "),(0,l._)("th",{class:"text-left"}," City "),(0,l._)("th",{class:"text-left"}," Actions ")])],-1))),xc=(0,l.Uk)(" mdi-pencil-outline ");function Rc(e,t,a,i,s,n){const o=(0,l.up)("paginationVue"),r=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"rgb(247 248 249)"}},{default:(0,l.w5)((()=>[qc,(0,l.Wm)(ee.Y,{class:"rounded-lg mt-4"},{default:(0,l.w5)((()=>[Uc,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.calibrationList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.name},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.callibrationPeriod.split("T")[0])+"("+(0,g.zw)(n.getDays(e.callibrationPeriod.split("T")[0]))+")",1),(0,l._)("td",null,(0,g.zw)(e.sale.client.name),1),(0,l._)("td",null,(0,g.zw)(e.sale.client.city.city),1),(0,l._)("td",null,[(0,l.Wm)(f.T,{color:"indigo","min-width":"0",class:"pa-3",dark:"",onClick:t=>n.updateService(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[xc])),_:1})])),_:2},1032,["onClick"])])])))),128))])])),_:1}),(0,l.Wm)(o,{length:e.calibrationTotalPage,onChanegePage:n.chanegePage},null,8,["length","onChanegePage"]),(0,l.Wm)(r,{visible:s.delete_dialog,onClose:t[0]||(t[0]=e=>s.delete_dialog=!1),item:s.deleteValue,log:!0,onDelete:n.update},null,8,["visible","item","onDelete"])])),_:1})}var Pc={name:"calibrationReminder",components:{deleteWarnVue:M,paginationVue:Ta},computed:{...(0,$.rn)("calibrationReminter",["calibrationList","calibrationTotalPage"])},methods:{...(0,$.nv)("calibrationReminter",["GET_CALIBRATION_LIST","UPDATE_SERVICE_CALIBRATION"]),getDays(e){const t=Ac()(e,"YYYYMMDD").fromNow();return t},updateService(e){this.delete_dialog=!0,this.deleteValue=e},async update(e){await this.UPDATE_SERVICE_CALIBRATION(e),this.delete_dialog=!1,await this.GET_CALIBRATION_LIST()},chanegePage(e){const t={page:e,size:15};this.GET_CALIBRATION_LIST(t)}},mounted(){this.GET_CALIBRATION_LIST()},data(){return{reminder_text:"",delete_dialog:!1,deleteValue:{}}}};const Mc=(0,d.Z)(Pc,[["render",Rc],["__scopeId","data-v-35c13748"]]);var zc=Mc;const Gc=e=>((0,l.dD)("data-v-6ee77960"),e=e(),(0,l.Cn)(),e),Oc=(0,l.Uk)("mdi-chevron-right"),$c=Gc((()=>(0,l._)("br",null,null,-1))),jc=Gc((()=>(0,l._)("br",null,null,-1))),Bc=Gc((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," CITY ",-1)));function Yc(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar"),r=(0,l.up)("paginationVue"),d=(0,l.up)("addCityVue"),c=(0,l.up)("editCity"),m=(0,l.up)("deleteWarnVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:s.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[Oc])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),$c,jc,Bc,(0,l.Wm)(o,{btn_text:s.cl_text,onBtn_action:t[0]||(t[0]=e=>s.dialog=!0)},null,8,["btn_text"]),(0,l.Wm)(Z.o,{class:"mt-4"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.cityList,((e,t)=>((0,l.wg)(),(0,l.j4)(J.D,{key:e.id,cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"pa-4",elevation:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"text-h6"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.city),1)])),_:2},1024),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openEditDialog(e),color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openDeleteDialog(e),color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(r,{length:e.totalPages,onChanegePage:n.chanegePage},null,8,["length","onChanegePage"]),(0,l.Wm)(d,{visible:s.dialog,onClose:t[1]||(t[1]=e=>s.dialog=!1),onSave:n.AddCity,title:s.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(c,{visible:s.edit_dialog,onClose:t[2]||(t[2]=e=>s.edit_dialog=!1),onSave:n.editCityValue,title:s.edit_dialog_title,name:s.edit_value},null,8,["visible","onSave","title","name"]),(0,l.Wm)(m,{visible:s.delete_dialog,onClose:t[3]||(t[3]=e=>s.delete_dialog=!1),item:s.deleteValue,onDelete:n.deleteCity},null,8,["visible","item","onDelete"])])),_:1})}const Fc={class:"text-center"},Hc={class:"text-h6",style:{"font-family":"Montserrat, sans-serif !important"}},Qc=(0,l.Uk)(" cancel "),Kc=(0,l.Uk)(" save ");function Zc(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",Fc,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[3]||(t[3]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{width:"400"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[(0,l._)("div",Hc,(0,g.zw)(a.title),1)])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#9c27b0",label:"name",density:"comfortable",modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),variant:"underlined"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[1]||(t[1]=e=>n.show=!1)},{default:(0,l.w5)((()=>[Qc])),_:1}),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[2]||(t[2]=e=>n.addCat())},{default:(0,l.w5)((()=>[Kc])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var Jc={name:"AddCity",data(){return{dialog:!1,name:""}},props:{visible:{type:Boolean},title:{type:String}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{addCat(){const e={name:this.name};this.$emit("save",e),this.name=""}},created(){this.name=""}};const Xc=(0,d.Z)(Jc,[["render",Zc],["__scopeId","data-v-54491445"]]);var em=Xc;const tm={class:"text-center"},am={class:"text-h6",style:{"font-family":"Montserrat, sans-serif !important"}},im=(0,l.Uk)(" cancel "),lm=(0,l.Uk)(" save ");function sm(e,t,a,i,s,n){return(0,l.wg)(),(0,l.iD)("div",tm,[(0,l.Wm)(A.B,{modelValue:n.show,"onUpdate:modelValue":t[3]||(t[3]=e=>n.show=e),transition:"dialog-top-transition",activator:"parent"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{width:"400"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,null,{default:(0,l.w5)((()=>[(0,l._)("div",am,(0,g.zw)(a.title),1)])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{color:"#9c27b0",label:"name",density:"comfortable",modelValue:a.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),variant:"underlined"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[1]||(t[1]=e=>n.show=!1)},{default:(0,l.w5)((()=>[im])),_:1}),(0,l.Wm)(f.T,{color:"white",style:{background:"rgb(4 43 76)"},onClick:t[2]||(t[2]=e=>n.edit())},{default:(0,l.w5)((()=>[lm])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var nm={name:"editCity",data(){return{dialog:!1}},props:{visible:{type:Boolean},title:{type:String},name:{type:String}},computed:{show:{get(){return this.visible},set(e){e||this.$emit("close")}}},methods:{edit(){const e={name:this.name};this.$emit("save",e)}},created(){}};const om=(0,d.Z)(nm,[["render",sm],["__scopeId","data-v-099db481"]]);var rm=om,dm={name:"city",components:{searchAndFilterToolbar:At,addCityVue:em,deleteWarnVue:M,editCity:rm,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"City",disabled:!0,href:"/city"}],cl_text:"Add City",dialog:!1,edit_dialog:!1,edit_value:"",edit_id:"",edit_dialog_title:"Edit City",dialog_title:"Add City",delete_dialog:!1,deleteValue:{}}},computed:{...(0,$.rn)("city",["cityList","totalPages"])},methods:{...(0,$.nv)("city",["GET_CITY_LIST","ADD_CITY","DELETE_CITY","EDIT_CITY"]),async AddCity(e){try{await this.ADD_CITY(e),this.dialog=!1,await this.GET_CITY_LIST()}catch(t){console.error("Error adding city:",t)}},openDeleteDialog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteCity(){try{await this.DELETE_CITY(this.deleteValue.id),await this.GET_CITY_LIST(),this.delete_dialog=!1,this.deleteValue={}}catch(e){console.error("Error deleting city:",e)}},openEditDialog(e){this.edit_value=e.city,this.edit_id=e.id,this.edit_dialog=!0},async editCityValue(e){const t={id:this.edit_id,name:e.name};try{await this.EDIT_CITY(t),await this.GET_CITY_LIST(),this.edit_dialog=!1,this.edit_value="",this.edit_id=""}catch(a){console.error("Error editing city:",a)}},chanegePage(e){const t={page:e,size:15};this.GET_CITY_LIST(t)}},mounted(){this.GET_CITY_LIST({size:15})}};const cm=(0,d.Z)(dm,[["render",Yc],["__scopeId","data-v-6ee77960"]]);var mm=cm;const um=e=>((0,l.dD)("data-v-010e395d"),e=e(),(0,l.Cn)(),e),hm=(0,l.Uk)("mdi-chevron-right"),pm=um((()=>(0,l._)("br",null,null,-1))),_m=um((()=>(0,l._)("br",null,null,-1))),gm=um((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," CARE OF ",-1))),fm=(0,l.Uk)("mdi-account-circle");function wm(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar"),r=(0,l.up)("addCityVue"),d=(0,l.up)("deleteWarnVue"),c=(0,l.up)("editCity");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:s.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[hm])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),pm,_m,gm,(0,l.Wm)(o,{btn_text:s.cl_text,onBtn_action:t[0]||(t[0]=e=>s.dialog=!0)},null,8,["btn_text"]),(0,l.Wm)(Z.o,{class:"mt-4"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.careofList,((e,t)=>((0,l.wg)(),(0,l.j4)(J.D,{key:e.id,cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"pa-4 card-hover",elevation:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"text-h6 d-flex align-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{class:"mr-2",color:"blue-darken-2"},{default:(0,l.w5)((()=>[fm])),_:1}),(0,l.Uk)(" "+(0,g.zw)(e.careof),1)])),_:2},1024),(0,l.Wm)(k.h,{class:"justify-end"},{default:(0,l.w5)((()=>[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openEditDialog(e),color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openDeleteDialog(e),color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(r,{visible:s.dialog,onClose:t[1]||(t[1]=e=>s.dialog=!1),onSave:n.addCareof,title:s.dialog_title},null,8,["visible","onSave","title"]),(0,l.Wm)(d,{visible:s.delete_dialog,onClose:t[2]||(t[2]=e=>s.delete_dialog=!1),item:s.deleteValue,onDelete:n.deleteCareof},null,8,["visible","item","onDelete"]),(0,l.Wm)(c,{visible:s.edit_dialog,onClose:t[3]||(t[3]=e=>s.edit_dialog=!1),onSave:n.editCareOfValue,title:s.edit_dialog_title,name:s.edit_value},null,8,["visible","onSave","title","name"])])),_:1})}var Em={name:"careOf",components:{searchAndFilterToolbar:At,addCityVue:em,deleteWarnVue:M,editCity:rm},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Care Of",disabled:!0,href:"/care-of"}],edit_dialog:!1,edit_value:"",edit_id:"",edit_dialog_title:"Edit Care of",delete_dialog:!1,cl_text:"Add Care Of",dialog:!1,deleteValue:{},dialog_title:"Add Care Of"}},computed:{...(0,$.rn)("careof",["careofList"])},methods:{...(0,$.nv)("careof",["GET_CAREOF_LIST","ADD_CAREOF","DELET_CAREOF","EDIT_CAREOF"]),async addCareof(e){try{await this.ADD_CAREOF(e),await this.GET_CAREOF_LIST(),this.dialog=!1}catch(t){console.error("Error adding care of:",t)}},openDeleteDialog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteCareof(){try{await this.DELET_CAREOF(this.deleteValue.id),await this.GET_CAREOF_LIST(),this.delete_dialog=!1,this.deleteValue={}}catch(e){console.error("Error deleting care of:",e)}},openEditDialog(e){this.edit_value=e.careof,this.edit_id=e.id,this.edit_dialog=!0},async editCareOfValue(e){const t={id:this.edit_id,name:e.name};try{await this.EDIT_CAREOF(t),await this.GET_CAREOF_LIST(),this.edit_dialog=!1,this.edit_value="",this.edit_id=""}catch(a){console.error("Error editing care of:",a)}}},mounted(){this.GET_CAREOF_LIST()}};const ym=(0,d.Z)(Em,[["render",wm],["__scopeId","data-v-010e395d"]]);var bm=ym,Tm=a(1222),vm=a(6422);const Sm=e=>((0,l.dD)("data-v-5ecd0bce"),e=e(),(0,l.Cn)(),e),Cm={class:"login-card-wrapper"},Im=Sm((()=>(0,l._)("div",{class:"logo-container"},[(0,l._)("div",{class:"animated-circles"},[(0,l._)("div",{class:"circle"}),(0,l._)("div",{class:"circle"}),(0,l._)("div",{class:"circle"})])],-1))),Dm=Sm((()=>(0,l._)("div",{class:"text-center mb-8"},[(0,l._)("h2",{class:"text-h4 font-weight-bold title-gradient"}," Global Quality Trading CO. "),(0,l._)("p",{class:"text-subtitle-1 subtitle-text"}," Welcome back! Please sign in to continue ")],-1))),km={class:"d-flex align-center justify-space-between mb-6 options-container"},Am=Sm((()=>(0,l._)("a",{href:"#",class:"forgot-link animate-fade-in"},"Forgot Password?",-1))),Lm=(0,l.Uk)(" Sign In ");function Wm(e,t,a,s,n,o){return(0,l.wg)(),(0,l.j4)(E.K,{fluid:"",class:"login-container"},{default:(0,l.w5)((()=>[(0,l._)("div",Cm,[Im,(0,l.Wm)(I._,{class:"login-card",elevation:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[Dm,(0,l.Wm)(vm.O,{ref:"form",onSubmit:(0,i.iM)(o.login,["prevent"]),class:"login-form"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),label:"Username",rules:[e=>!!e||"Username is required"],"prepend-inner-icon":"mdi-account",variant:"outlined",class:"input-field animate-slide-up",dense:""},null,8,["modelValue","rules"]),(0,l.Wm)(je.h,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),label:"Password",rules:[e=>!!e||"Password is required"],"prepend-inner-icon":"mdi-lock","append-inner-icon":n.show1?"mdi-eye":"mdi-eye-off",type:n.show1?"text":"password","onClick:appendInner":t[2]||(t[2]=e=>n.show1=!n.show1),variant:"outlined",class:"input-field animate-slide-up",dense:""},null,8,["modelValue","rules","append-inner-icon","type"]),(0,l._)("div",km,[(0,l.Wm)(Tm.x,{modelValue:n.rememberMe,"onUpdate:modelValue":t[3]||(t[3]=e=>n.rememberMe=e),label:"Remember me",class:"animate-fade-in","hide-details":"",color:"primary"},null,8,["modelValue"]),Am]),(0,l.Wm)(f.T,{color:"primary",block:"",height:"48",loading:n.loading,type:"submit",class:"login-btn animate-slide-up"},{default:(0,l.w5)((()=>[Lm])),_:1},8,["loading"]),n.error?((0,l.wg)(),(0,l.j4)(rc.w,{key:0,type:"error",class:"mt-4 animate-shake",dense:"",outlined:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(n.error),1)])),_:1})):(0,l.kq)("",!0)])),_:1},8,["onSubmit"])])),_:1})])),_:1})])])),_:1})}var Vm={name:"Login",data(){return{username:"",password:"",error:null,show1:!1,loading:!1,rememberMe:!1}},methods:{...(0,$.nv)("user",["USER_LOGIN"]),async login(){if(this.$refs.form.validate()){this.loading=!0,this.error=null;try{const e={username:this.username,password:this.password};await this.USER_LOGIN(e),this.$router.push({name:"dash"})}catch(e){this.error=e.response?.data?.message||"Login failed"}finally{this.loading=!1}}}}};const Nm=(0,d.Z)(Vm,[["render",Wm],["__scopeId","data-v-5ecd0bce"]]);var qm=Nm;const Um=e=>((0,l.dD)("data-v-2800f354"),e=e(),(0,l.Cn)(),e),xm=(0,l.Uk)("mdi-chevron-right"),Rm=Um((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," CLIENT REPORT ",-1))),Pm={class:"mt-4 mb-2"},Mm={class:"d-flex justify-end"},zm=Um((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),Gm=Um((()=>(0,l._)("span",{style:{color:"white"}},"Export",-1))),Om=(0,l.Uk)("CSV"),$m=(0,l.Uk)("PDF"),jm=Um((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"NAME"),(0,l._)("th",{class:"text-left"},"EMAIL"),(0,l._)("th",{class:"text-left"},"PHONE"),(0,l._)("th",{class:"text-left"},"CITY"),(0,l._)("th",{class:"text-left"},"CARE OF"),(0,l._)("th",{class:"text-left"},"TYPE"),(0,l._)("th",{class:"text-left"},"CREATED DATE")])],-1)));function Bm(e,t,a,s,n,o){const r=(0,l.up)("JsonCSV"),d=(0,l.up)("paginationVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[xm])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),Rm,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",Pm,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[e.cityList.length>0?((0,l.wg)(),(0,l.j4)(Ia.f,{key:0,modelValue:n.city,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.city=e),o.filterClient],"hide-details":"",variant:"outlined",density:"comfortable",items:e.cityList,"item-title":"city",clearable:"","item-value":"id",label:"City"},null,8,["modelValue","items","onUpdate:modelValue"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[e.careofList.length>0?((0,l.wg)(),(0,l.j4)(Ia.f,{key:0,modelValue:n.care,"onUpdate:modelValue":[t[1]||(t[1]=e=>n.care=e),o.filterClient],"hide-details":"",variant:"outlined",density:"comfortable",items:e.careofList,"item-title":"careof",clearable:"","item-value":"id",label:"Care of"},null,8,["modelValue","items","onUpdate:modelValue"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.type,"onUpdate:modelValue":[t[2]||(t[2]=e=>n.type=e),o.filterClient],"hide-details":"",variant:"outlined",density:"comfortable",items:n.typeList,"item-title":"title","item-value":"id",clearable:"",label:"Type"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.startDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.startDate=e),label:"Start Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.endDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.endDate=e),label:"End Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",Mm,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:t[5]||(t[5]=e=>o.filterClient())},{default:(0,l.w5)((()=>[zm])),_:1}),(0,l.Wm)(qe.T,{"open-on-hover":""},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)(e,{style:{background:"rgb(4 43 76)"},class:"ml-2"}),{default:(0,l.w5)((()=>[Gm])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{data:n.json_data,name:"clientReport.csv"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[Om])),_:1})])),_:1},8,["data"])])),_:1}),(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{onClick:t[6]||(t[6]=e=>o.toPdf())},{default:(0,l.w5)((()=>[$m])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[jm,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.clientList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.name,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.name),1),(0,l._)("td",null,(0,g.zw)(e.email),1),(0,l._)("td",null,(0,g.zw)(e.contact1),1),(0,l._)("td",null,(0,g.zw)(e.city.city),1),(0,l._)("td",null,(0,g.zw)(e.careof.careof),1),(0,l._)("td",null,(0,g.zw)(e.clienttype.client_type),1),(0,l._)("td",null,(0,g.zw)(e.createdAt?e.createdAt.split("T")[0]:"N/A"),1)])))),128))])])),_:1}),(0,l.Wm)(d,{length:e.clientTotalPage,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"])])),_:1})}var Ym=a(1164),Fm=a(3579),Hm=a.n(Fm),Qm={name:"clientReport",components:{paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Client Report",disabled:!0,href:"/client-report"}],city:"",care:"",type:"",startDate:"",endDate:"",json_data:[],typeList:[{id:1,title:"GOV"},{id:2,title:"NON-GOV"}]}},computed:{...(0,$.rn)("clients",["clientList","clientTotalPage","clientListReport"]),...(0,$.rn)("city",["cityList"]),...(0,$.rn)("careof",["careofList"])},methods:{...(0,$.nv)("city",["GET_CITY_LIST"]),...(0,$.nv)("careof",["GET_CAREOF_LIST"]),...(0,$.nv)("clients",["GET_CLIENT_LIST","GET_CLIENT_LIST_REPORT"]),toCSV(){this.json_data=this.clientList.map((e=>({NAME:e.name,EMAIL:e.email,PHONE:e.contact1,CITY:e.city.city,"CARE OF":e.careof.careof,TYPE:e.clienttype.client_type,"CREATED DATE":e.createdAt?e.createdAt.split("T")[0]:"N/A"})));const e=["NAME","EMAIL","PHONE","CITY","CARE OF","TYPE","CREATED DATE"],t=[e.join(","),...this.json_data.map((t=>e.map((e=>`"${t[e]}"`)).join(",")))].join("\n"),a=new Blob([t],{type:"text/csv"}),i=document.createElement("a");i.href=URL.createObjectURL(a),i.download="clientReport.csv",i.click()},async toPdf(){try{const e={cty:this.city||"",typ:this.type||"",creof:this.care||"",startDate:this.startDate||"",endDate:this.endDate||"",size:9999999};await this.GET_CLIENT_LIST_REPORT(e);const t=new Ym["default"],a=[{header:"Client Name",dataKey:"cName"},{header:"Email",dataKey:"email"},{header:"Phone",dataKey:"phone"},{header:"Created Date",dataKey:"createdAt"}],i=this.clientListReport.map((e=>({cName:e.name,email:e.email,phone:e.contact1,createdAt:e.createdAt?e.createdAt.split("T")[0]:"N/A"})));if(this.city||(a.splice(3,0,{header:"City",dataKey:"city"}),i.forEach(((e,t)=>{i[t].city=this.clientListReport[t].city.city}))),this.care||(a.splice(this.city?4:3,0,{header:"Care Of",dataKey:"careof"}),i.forEach(((e,t)=>{i[t].careof=this.clientListReport[t].careof.careof}))),!this.type){const e=this.city&&this.care?5:this.city||this.care?4:3;a.splice(e,0,{header:"Type",dataKey:"type"}),i.forEach(((e,t)=>{i[t].type=this.clientListReport[t].clienttype.client_type}))}t.setFontSize(20),t.text("CLIENT REPORT",105,20,{align:"center"}),t.setLineWidth(.5),t.line(15,25,195,25),t.setFontSize(10);let l=35;t.text(`City: ${this.city&&this.cityList.find((e=>e.id===this.city))?.city||"All"}`,15,l),l+=7,t.text(`Care of: ${this.care&&this.careofList.find((e=>e.id===this.care))?.careof||"All"}`,15,l),l+=7,t.text(`Type: ${this.type&&this.typeList.find((e=>e.id===this.type))?.title||"All"}`,15,l),l+=7,t.text("Date Range: "+(this.startDate&&this.endDate?`${this.startDate} ~ ${this.endDate}`:"All"),15,l),Hm()(t,{startY:l+10,head:[a.map((e=>e.header))],body:i.map((e=>a.map((t=>e[t.dataKey])))),styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[4,43,76],textColor:[255,255,255]},margin:{left:15,right:15}}),t.save("ClientReport.pdf")}catch(e){console.error("PDF generation failed:",e)}},filterClient(){const e={cty:this.city||"",typ:this.type||"",creof:this.care||"",startDate:this.startDate||"",endDate:this.endDate||"",size:15,page:1};this.GET_CLIENT_LIST(e)},chanegePage(e){const t={page:e,size:15,cty:this.city||"",typ:this.type||"",creof:this.care||"",startDate:this.startDate||"",endDate:this.endDate||""};this.GET_CLIENT_LIST(t)}},mounted(){const e={size:1e3};Promise.all([this.GET_CITY_LIST(e),this.GET_CAREOF_LIST(),this.GET_CLIENT_LIST({size:15})]).catch((e=>{console.error("Error during initialization:",e)}))}};const Km=(0,d.Z)(Qm,[["render",Bm],["__scopeId","data-v-2800f354"]]);var Zm=Km;const Jm=e=>((0,l.dD)("data-v-2d497a7e"),e=e(),(0,l.Cn)(),e),Xm=(0,l.Uk)("mdi-chevron-right"),eu=Jm((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," EQUIPMENTS REPORT ",-1))),tu={class:"mt-4 mb-2"},au={class:"d-flex justify-end"},iu=Jm((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),lu=Jm((()=>(0,l._)("span",{style:{color:"white"}},"Export",-1))),su=(0,l.Uk)("CSV"),nu=(0,l.Uk)("PDF"),ou=Jm((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Equipment Name"),(0,l._)("th",{class:"text-left"},"Client Name"),(0,l._)("th",{class:"text-left"},"Serial No"),(0,l._)("th",{class:"text-left"},"Model"),(0,l._)("th",{class:"text-left"},"Categories"),(0,l._)("th",{class:"text-left"},"Installation Date"),(0,l._)("th",{class:"text-left"},"Warranty Date"),(0,l._)("th",{class:"text-left"},"Created At"),(0,l._)("th",{class:"text-left"},"Warranty Status")])],-1))),ru={key:0};function du(e,t,a,s,n,o){const r=(0,l.up)("JsonCSV"),d=(0,l.up)("paginationVue"),c=(0,l.up)("snackbarVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[Xm])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),eu,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",tu,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.clientName,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.clientName=e),o.filterEquipment],"hide-details":"",variant:"outlined",density:"comfortable",items:n.clien,"item-title":"name","item-value":"id",clearable:"",label:"Clients"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.deviceType,"onUpdate:modelValue":[t[1]||(t[1]=e=>n.deviceType=e),o.filterEquipment],"hide-details":"",variant:"outlined",density:"comfortable",items:n.deviceTypes,"item-title":"name","item-value":"id",clearable:"",label:"Device Type"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.warrantyStatus,"onUpdate:modelValue":[t[2]||(t[2]=e=>n.warrantyStatus=e),o.filterEquipment],"hide-details":"",variant:"outlined",density:"comfortable",items:n.warrantyStatuses,"item-title":"name","item-value":"value",clearable:"",label:"Warranty Status"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.startDate,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.startDate=e),o.filterEquipment],label:"Start Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.endDate,"onUpdate:modelValue":[t[4]||(t[4]=e=>n.endDate=e),o.filterEquipment],label:"End Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",au,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:o.filterEquipment},{default:(0,l.w5)((()=>[iu])),_:1},8,["onClick"]),(0,l.Wm)(qe.T,{"open-on-hover":""},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)(e,{style:{background:"rgb(4 43 76)"},class:"ml-2"}),{default:(0,l.w5)((()=>[lu])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{data:n.json_data,name:"equipmentReport.csv"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[su])),_:1})])),_:1},8,["data"])])),_:1}),(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{onClick:t[5]||(t[5]=e=>o.toPdf())},{default:(0,l.w5)((()=>[nu])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[ou,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.saleEquipmentList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.equipment.equipmentName),1),(0,l._)("td",null,(0,g.zw)(e.client.name),1),(0,l._)("td",null,(0,g.zw)(e.serialNo),1),(0,l._)("td",null,(0,g.zw)(e.equipment.model),1),(0,l._)("td",null,(0,g.zw)(e.equipment.subcategory.category.categoryName),1),(0,l._)("td",null,(0,g.zw)(e.installationDate?e.installationDate.split("T")[0]:"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.warrantyDate?e.warrantyDate.split("T")[0]:"N/A"),1),(0,l._)("td",null,(0,g.zw)(o.formatDate(e.createdAt)),1),(0,l._)("td",null,(0,g.zw)(o.getWarrantyStatus(e.warrantyDate)),1)])))),128))])])),_:1}),e.saleEquipmentList.length>=1?((0,l.wg)(),(0,l.iD)("div",ru,[(0,l.Wm)(d,{length:e.saleTotalPage,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"])])):(0,l.kq)("",!0),(0,l.Wm)(c,{visible:n.snackbar,onClose:t[6]||(t[6]=e=>n.snackbar=!1),text:n.snacKtext,color:n.snackColor},null,8,["visible","text","color"])])),_:1})}var cu=a(5781),mu=a.n(cu),uu={name:"equipmentReport",components:{paginationVue:Ta,snackbarVue:xt,JsonCSV:mu()},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Equipment Report",disabled:!0,href:"/equipment-report"}],clientName:"",deviceType:"",warrantyStatus:"",startDate:"",endDate:"",json_data:[],deviceTypes:[{id:1,name:"Type A"},{id:2,name:"Type B"}],warrantyStatuses:[{name:"Warranty Under",value:"under"},{name:"Warranty Out",value:"out"},{name:"All",value:""}],clien:[],snackbar:!1,snacKtext:"",snackColor:""}},computed:{...(0,$.rn)("salesEquipment",["saleEquipmentList","saleTotalPage","saleEquipmentReport"]),...(0,$.rn)("clients",["clientList"])},methods:{...(0,$.OI)("salesEquipment",["REMOVE_SALE_EQUIPMENTS"]),...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("equipments",["GET_ALL_EQUIPMENT"]),...(0,$.nv)("salesEquipment",["GET_ALL_SALE_EQUIPMENT","GET_ALL_SALE_EQUIPMENT_FOR_REPORT"]),formatDate(e){return e?new Date(e).toISOString().split("T")[0]:"N/A"},getWarrantyStatus(e){const t=new Date,a=new Date(e);return a>t?"Warranty Under":"Warranty Out"},toCSV(){this.json_data=this.saleEquipmentList.map((e=>({"EQUIPMENT NAME":e.equipment.equipmentName,"CLIENT NAME":e.client.name,"SERIAL NO":e.serialNo,MODEL:e.equipment.model,CATEGORY:e.equipment.subcategory.category.categoryName,"INSTALLATION DATE":e.installationDate?e.installationDate.split("T")[0]:"N/A","WARRANTY DATE":e.warrantyDate?e.warrantyDate.split("T")[0]:"N/A","CREATED AT":this.formatDate(e.createdAt),"WARRANTY STATUS":this.getWarrantyStatus(e.warrantyDate)})))},async toPdf(){try{const e={cid:this.clientName||"",deviceType:this.deviceType||"",warrantyStatus:this.warrantyStatus||"",startDate:this.startDate||"",endDate:this.endDate||"",size:99999};await this.GET_ALL_SALE_EQUIPMENT_FOR_REPORT(e);const t=new Ym["default"],a=[{header:"Equipment Name",dataKey:"equiName"},{header:"Serial No",dataKey:"serialNo"},{header:"Model",dataKey:"model"},{header:"Installation Date",dataKey:"instaDate"},{header:"Warranty Date",dataKey:"warDate"},{header:"Created At",dataKey:"createdAt"}],i=this.saleEquipmentReport.map((e=>({equiName:e.equipment.equipmentName,clientName:e.client.name,serialNo:e.serialNo,model:e.equipment.model,category:e.equipment.subcategory.category.categoryName,instaDate:e.installationDate?e.installationDate.split("T")[0]:"N/A",warDate:e.warrantyDate?e.warrantyDate.split("T")[0]:"N/A",createdAt:this.formatDate(e.createdAt),warStatus:this.getWarrantyStatus(e.warrantyDate)})));this.clientName||a.splice(1,0,{header:"Client Name",dataKey:"clientName"}),this.deviceType||a.splice(this.clientName?3:2,0,{header:"Category",dataKey:"category"}),this.warrantyStatus||a.push({header:"Warranty Status",dataKey:"warStatus"}),t.setFontSize(20),t.text("EQUIPMENTS REPORT",105,20,{align:"center"}),t.setLineWidth(.5),t.line(15,25,195,25),t.setFontSize(10);let l=35;t.text(`Client: ${this.clientName&&this.clien.find((e=>e.id===this.clientName))?.name||"All"}`,15,l),l+=7,t.text(`Device Type: ${this.deviceType&&this.deviceTypes.find((e=>e.id===this.deviceType))?.name||"All"}`,15,l),l+=7,t.text(`Warranty Status: ${this.warrantyStatus&&this.warrantyStatuses.find((e=>e.value===this.warrantyStatus))?.name||"All"}`,15,l),l+=7,t.text("Date Range: "+(this.startDate&&this.endDate?`${this.startDate} ~ ${this.endDate}`:"All"),15,l),Hm()(t,{startY:l+10,head:[a.map((e=>e.header))],body:i.map((e=>a.map((t=>e[t.dataKey])))),styles:{fontSize:10,cellPadding:3},headStyles:{fillColor:[4,43,76],textColor:[255,255,255]},margin:{left:15,right:15}}),t.save("EquipmentReport.pdf")}catch(e){console.error("PDF generation failed:",e),this.snackColor="error",this.snacKtext="Failed to generate PDF",this.snackbar=!0}},filterEquipment(){const e={cid:this.clientName||"",deviceType:this.deviceType||"",warrantyStatus:this.warrantyStatus||"",startDate:this.startDate||"",endDate:this.endDate||"",size:15,page:1};this.GET_ALL_SALE_EQUIPMENT(e).catch((e=>{console.error("Error filtering equipment:",e),this.snackColor="error",this.snacKtext="Failed to fetch equipment data",this.snackbar=!0}))},chanegePage(e){const t={page:e,size:15,cid:this.clientName||"",deviceType:this.deviceType||"",warrantyStatus:this.warrantyStatus||"",startDate:this.startDate||"",endDate:this.endDate||""};this.GET_ALL_SALE_EQUIPMENT(t).catch((e=>{console.error("Error changing page:",e),this.snackColor="error",this.snacKtext="Failed to fetch equipment data",this.snackbar=!0}))}},mounted(){this.REMOVE_SALE_EQUIPMENTS();const e={size:1e3};Promise.all([this.GET_CLIENT_LIST(e).then((()=>{this.clien=this.clientList})),this.GET_ALL_EQUIPMENT(),this.GET_ALL_SALE_EQUIPMENT({size:15})]).catch((e=>{console.error("Error during initialization:",e),this.snackColor="error",this.snacKtext="Failed to initialize data",this.snackbar=!0}))}};const hu=(0,d.Z)(uu,[["render",du],["__scopeId","data-v-2d497a7e"]]);var pu=hu;const _u=e=>((0,l.dD)("data-v-79e516b8"),e=e(),(0,l.Cn)(),e),gu=(0,l.Uk)("mdi-chevron-right"),fu=_u((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," SERVICE REPORT ",-1))),wu={class:"mt-4 mb-2"},Eu={class:"d-flex justify-end"},yu=_u((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),bu=_u((()=>(0,l._)("span",{style:{color:"white"}},"Export",-1))),Tu=(0,l.Uk)("CSV"),vu=(0,l.Uk)("PDF"),Su=_u((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Equipment Name"),(0,l._)("th",{class:"text-left"},"Client"),(0,l._)("th",{class:"text-left"},"City"),(0,l._)("th",{class:"text-left"},"Call Handle"),(0,l._)("th",{class:"text-left"},"Working Status"),(0,l._)("th",{class:"text-left"},"Serial Number"),(0,l._)("th",{class:"text-left"},"Call Registration Date"),(0,l._)("th",{class:"text-left"},"Priority"),(0,l._)("th",{class:"text-left"},"Assigned to"),(0,l._)("th",{class:"text-left"},"Status"),(0,l._)("th",{class:"text-left"},"Created At")])],-1))),Cu={key:0},Iu={key:1},Du={class:"ma-auto"},ku={key:0};function Au(e,t,a,s,n,o){const r=(0,l.up)("JsonCSV"),d=(0,l.up)("paginationVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[gu])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),fu,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",wu,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.clientName,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.clientName=e),o.filterService],onClick:o.resetMachineId,"hide-details":"",variant:"outlined",density:"comfortable",items:n.clien||[],"item-title":"name","item-value":"id",clearable:"",label:"Clients"},null,8,["modelValue","onClick","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.cityId,"onUpdate:modelValue":[t[1]||(t[1]=e=>n.cityId=e),o.filterService],"hide-details":"",variant:"outlined",density:"comfortable",items:n.availableCities,"item-title":"city","item-value":"id",clearable:"",label:"City",onClick:o.loadCities},null,8,["modelValue","items","onClick","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.machineId,"onUpdate:modelValue":[t[2]||(t[2]=e=>n.machineId=e),o.filterService],"hide-details":"",variant:"outlined",density:"comfortable",items:n.mechine||[],"item-title":o.test,"item-value":"id",clearable:"",label:"Machine (Serial No)",onClick:t[3]||(t[3]=e=>o.getClientMechines())},null,8,["modelValue","items","item-title","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.workingStatusId,"onUpdate:modelValue":[t[4]||(t[4]=e=>n.workingStatusId=e),o.filterService],"hide-details":"",variant:"outlined",density:"comfortable",items:n.statuses,"item-title":"name","item-value":"id",clearable:"",label:"Status"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.startDate,"onUpdate:modelValue":[t[5]||(t[5]=e=>n.startDate=e),o.filterService],label:"Start Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.endDate,"onUpdate:modelValue":[t[6]||(t[6]=e=>n.endDate=e),o.filterService],label:"End Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",Eu,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:o.filterService},{default:(0,l.w5)((()=>[yu])),_:1},8,["onClick"]),(0,l.Wm)(qe.T,{"open-on-hover":""},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)(e,{style:{background:"rgb(4 43 76)"},class:"ml-2"}),{default:(0,l.w5)((()=>[bu])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{data:n.json_data,name:`Service_Report_${(new Date).toISOString().split("T")[0]}.csv`},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[Tu])),_:1})])),_:1},8,["data","name"])])),_:1}),(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{onClick:t[7]||(t[7]=e=>o.toPdf())},{default:(0,l.w5)((()=>[vu])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[Su,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.serviceList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,(0,g.zw)(e.sale?.equipment?.equipmentName||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.sale?.client?.name||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.sale?.client?.city?.city||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.call_handle?.callHandle||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.workingcondition?.workingCondition||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.sale?.serialNo||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.callRegisterDate?.split("T")[0]||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.priority?.priority||"N/A"),1),(0,l._)("td",null,[e.user?((0,l.wg)(),(0,l.iD)("span",Cu,(0,g.zw)(e.user.username),1)):((0,l.wg)(),(0,l.iD)("span",Iu,"N/A"))]),(0,l._)("td",null,[(0,l.Wm)(K.v,{class:(0,g.C_)({Open:1==e.workingStatusId,Accepted:2==e.workingStatusId,Completed:3==e.workingStatusId,Verified:4==e.workingStatusId,Cancel:5==e.workingStatusId}),style:{"min-width":"100px",cursor:"pointer",color:"white"}},{default:(0,l.w5)((()=>[(0,l._)("span",Du,(0,g.zw)(e.working_status?.workingStatus||"N/A"),1)])),_:2},1032,["class"])]),(0,l._)("td",null,(0,g.zw)(o.formatDate(e.createdAt)),1)])))),128))])])),_:1}),e.serviceTotalPages>0?((0,l.wg)(),(0,l.iD)("div",ku,[(0,l.Wm)(d,{length:e.serviceTotalPages,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"])])):(0,l.kq)("",!0)])),_:1})}var Lu={name:"serviceRequest",components:{paginationVue:Ta,JsonCSV:mu()},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Service Report",disabled:!0,href:"/service-report"}],clien:[],mechine:[],availableCities:[],machineId:"",clientName:"",cityId:"",workingStatusId:"",startDate:"",endDate:"",json_data:[],statuses:[{id:1,name:"Open"},{id:2,name:"In Progress"},{id:3,name:"Completed"},{id:4,name:"Verified"},{id:5,name:"Cancel"}],heading:"Service Report",allCitiesLoaded:!1,isInitialLoad:!0}},computed:{...(0,$.rn)("service",["serviceList","serviceTotalPages","serviceReportList"]),...(0,$.rn)("clients",["clientList"]),...(0,$.rn)("salesEquipment",["saleEquipmentList"]),...(0,$.rn)("city",["cityList"])},methods:{...(0,$.OI)("service",["REMOVE_ALL_SERVICE_LIST"]),...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("service",["GET_SERVICE_LIST","GET_SERVICE_REPORT_LIST"]),...(0,$.nv)("salesEquipment",["GET_ALL_SALE_EQUIPMENT"]),...(0,$.nv)("city",["GET_CITY_LIST"]),formatDate(e){return e?new Date(e).toISOString().split("T")[0]:"N/A"},test(e){return` ${e.equipment?e.equipment.equipmentName:""} (${e.serialNo}) `},resetMachineId(){this.machineId=""},async extractCitiesFromServiceData(){if(this.serviceList&&this.serviceList.length>0){const e=new Map;return this.serviceList.forEach((t=>{if(t.sale?.client?.city){const a=t.sale.client.city;a.id&&a.city&&e.set(a.id,a)}})),Array.from(e.values())}return[]},async loadCities(){try{if(!this.allCitiesLoaded&&(await this.GET_CITY_LIST({size:1e3}),Array.isArray(this.cityList)&&this.cityList.length>0))return this.availableCities=this.cityList,void(this.allCitiesLoaded=!0);const e=await this.extractCitiesFromServiceData();e.length>0&&(this.availableCities=e)}catch(e){console.error("Error loading cities:",e);const t=await this.extractCitiesFromServiceData();t.length>0&&(this.availableCities=t)}},async getClientMechines(){let e={size:1e3};this.clientName&&(e.cid=this.clientName);try{await this.GET_ALL_SALE_EQUIPMENT(e),this.mechine=Array.isArray(this.saleEquipmentList)?this.saleEquipmentList:[]}catch(t){console.error("Error fetching machines:",t),this.mechine=[]}},async loadInitialData(){const e={size:10,page:1};try{await this.GET_SERVICE_LIST(e),await this.loadCities()}catch(t){console.error("Error loading initial data:",t)}},async filterService(){const e={clientid:this.clientName||"",sid:this.machineId||"",statid:this.workingStatusId||"",cityid:this.cityId||"",startdte:this.startDate||"",enddte:this.endDate||"",size:10,page:1};try{await this.GET_SERVICE_LIST(e),this.isInitialLoad||await this.loadCities(),this.isInitialLoad=!1}catch(t){console.error("Error filtering services:",t)}},async chanegePage(e){const t={clientid:this.clientName||"",sid:this.machineId||"",statid:this.workingStatusId||"",cityid:this.cityId||"",startdte:this.startDate||"",enddte:this.endDate||"",page:e,size:10};try{await this.GET_SERVICE_LIST(t)}catch(a){console.error("Error changing page:",a)}},toCSV(){this.json_data=this.serviceList.map((e=>({"EQUIPMENT NAME":e.sale?.equipment?.equipmentName||"N/A","CLIENT NAME":e.sale?.client?.name||"N/A",CITY:e.sale?.client?.city?.city||"N/A","CALL HANDLE":e.call_handle?.callHandle||"N/A","WORKING STATUS":e.workingcondition?.workingCondition||"N/A","SERIAL NUMBER":e.sale?.serialNo||"N/A","CALL REGISTRATION DATE":e.callRegisterDate?.split("T")[0]||"N/A",PRIORITY:e.priority?.priority||"N/A",TECHNICIAN:e.user?e.user.username:"N/A",STATUS:e.working_status?.workingStatus||"N/A","CREATED AT":this.formatDate(e.createdAt)})))},async toPdf(){const e={clientid:this.clientName||"",sid:this.machineId||"",statid:this.workingStatusId||"",cityid:this.cityId||"",startdte:this.startDate||"",enddte:this.endDate||"",size:1e6};try{await this.GET_SERVICE_REPORT_LIST(e);const t=new Ym["default"]("p","mm","a4"),a=[{header:"Equipment Name",dataKey:"equipName"},{header:"Call Handle",dataKey:"callHandle"},{header:"Working Status",dataKey:"workingCondition"},{header:"Serial Number",dataKey:"serialNo"},{header:"Reg Date",dataKey:"regDate"},{header:"Priority",dataKey:"priority"},{header:"Assigned To",dataKey:"assgndTo"},{header:"Created At",dataKey:"createdAt"}],i=Array.isArray(this.serviceReportList)?this.serviceReportList.map((e=>({equipName:e.sale?.equipment?.equipmentName||"N/A",client:e.sale?.client?.name||"N/A",city:e.sale?.client?.city?.city||"N/A",callHandle:e.call_handle?.callHandle||"N/A",workingCondition:e.workingcondition?.workingCondition||"N/A",serialNo:e.sale?.serialNo||"N/A",regDate:e.callRegisterDate?.split("T")[0]||"N/A",priority:e.priority?.priority||"N/A",assgndTo:e.user?e.user.username:"N/A",status:e.working_status?.workingStatus||"N/A",createdAt:this.formatDate(e.createdAt)}))):[];this.clientName||a.splice(1,0,{header:"Client",dataKey:"client"}),this.cityId||a.splice(this.clientName?2:1,0,{header:"City",dataKey:"city"}),this.workingStatusId||a.splice(a.length-1,0,{header:"Status",dataKey:"status"}),t.setFontSize(20),t.text("SERVICE REPORT",105,20,{align:"center"}),t.setLineWidth(.5),t.line(15,25,195,25),t.setFontSize(10);let l=35;t.text(`Client: ${this.clientName&&this.clien.find((e=>e.id===this.clientName))?.name||"All"}`,15,l),l+=7,t.text(`City: ${this.cityId&&this.availableCities.find((e=>e.id===this.cityId))?.city||"All"}`,15,l),l+=7,t.text(`Machine: ${this.machineId&&this.mechine.find((e=>e.id===this.machineId))?.equipment?.equipmentName||"All"}`,15,l),l+=7,t.text(`Serial No: ${this.machineId&&this.mechine.find((e=>e.id===this.machineId))?.serialNo||"All"}`,15,l),l+=7,t.text(`Status: ${this.workingStatusId&&this.statuses.find((e=>e.id===this.workingStatusId))?.name||"All"}`,15,l),l+=7,t.text("Date Range: "+(this.startDate&&this.endDate?`${this.startDate} ~ ${this.endDate}`:"All"),15,l),Hm()(t,{startY:l+10,head:[a.map((e=>e.header))],body:i.map((e=>a.map((t=>e[t.dataKey])))),styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[4,43,76],textColor:[255,255,255]},margin:{left:15,right:15}}),t.save(`Service_Report_${(new Date).toISOString().split("T")[0]}.pdf`)}catch(t){console.error("Error generating PDF:",t)}}},async mounted(){this.REMOVE_ALL_SERVICE_LIST();try{await Promise.all([this.GET_CLIENT_LIST({size:1e3}).then((()=>{this.clien=Array.isArray(this.clientList)?this.clientList:[]})),this.GET_ALL_SALE_EQUIPMENT({size:1e3}).then((()=>{this.mechine=Array.isArray(this.saleEquipmentList)?this.saleEquipmentList:[]})),this.loadInitialData()])}catch(e){console.error("Error during initialization:",e),this.clien=[],this.mechine=[],this.availableCities=[]}}};const Wu=(0,d.Z)(Lu,[["render",Au],["__scopeId","data-v-79e516b8"]]);var Vu=Wu;const Nu=e=>((0,l.dD)("data-v-7b6e3023"),e=e(),(0,l.Cn)(),e),qu=(0,l.Uk)("mdi-chevron-right"),Uu=Nu((()=>(0,l._)("div",{class:"text-h6 mb-4 mt-6 dashboard-title"}," TECHNICIAN REPORT ",-1))),xu={class:"mt-4 mb-2"},Ru={class:"d-flex justify-end"},Pu=Nu((()=>(0,l._)("span",{style:{color:"white"}},"Filter",-1))),Mu=Nu((()=>(0,l._)("span",{style:{color:"white"}},"Export",-1))),zu=(0,l.Uk)("CSV"),Gu=(0,l.Uk)("PDF"),Ou=Nu((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"#"),(0,l._)("th",{class:"text-left"},"Technician"),(0,l._)("th",{class:"text-left"},"Equipment Name"),(0,l._)("th",{class:"text-left"},"Client Name"),(0,l._)("th",{class:"text-left"},"Serial Number"),(0,l._)("th",{class:"text-left"},"Call Registration Date"),(0,l._)("th",{class:"text-left"},"Priority"),(0,l._)("th",{class:"text-left"},"Created At"),(0,l._)("th",{class:"text-left"},"Status")])],-1))),$u={key:0},ju={key:1},Bu={key:0},Yu={class:"ma-auto"},Fu={key:0};function Hu(e,t,a,s,n,o){const r=(0,l.up)("JsonCSV"),d=(0,l.up)("paginationVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10 hmmsdashboard",fluid:"",style:{height:"100vh"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:n.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[qu])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),Uu,(0,l.Wm)(i.uT,{name:"slide-fade"},{default:(0,l.w5)((()=>[(0,l._)("div",xu,[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.workingStatusId,"onUpdate:modelValue":[t[0]||(t[0]=e=>n.workingStatusId=e),o.filterService],"hide-details":"",variant:"outlined",density:"comfortable",items:n.statuses,"item-title":"name","item-value":"id",clearable:"",label:"Status"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ia.f,{modelValue:n.techId,"onUpdate:modelValue":[t[1]||(t[1]=e=>n.techId=e),o.filterService],"hide-details":"",variant:"outlined",density:"comfortable",items:n.tech,"item-title":"username","item-value":"id",clearable:"",label:"Technician"},null,8,["modelValue","items","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.startDate,"onUpdate:modelValue":[t[2]||(t[2]=e=>n.startDate=e),o.filterService],label:"Start Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:n.endDate,"onUpdate:modelValue":[t[3]||(t[3]=e=>n.endDate=e),o.filterService],label:"End Date",type:"date",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12",md:"2",style:{"align-self":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",Ru,[(0,l.Wm)(f.T,{style:{background:"rgb(4 43 76)"},onClick:o.filterService},{default:(0,l.w5)((()=>[Pu])),_:1},8,["onClick"]),(0,l.Wm)(qe.T,{"open-on-hover":""},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)(e,{style:{background:"rgb(4 43 76)"},class:"ml-2"}),{default:(0,l.w5)((()=>[Mu])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{data:n.json_data,name:`Technician_Report_${(new Date).toISOString().split("T")[0]}.csv`},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[zu])),_:1})])),_:1},8,["data","name"])])),_:1}),(0,l.Wm)(b.l,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,{onClick:t[4]||(t[4]=e=>o.toPdf())},{default:(0,l.w5)((()=>[Gu])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-6 modern-table"},{default:(0,l.w5)((()=>[Ou,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.serviceList,((e,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id,class:"table-row-hover"},[(0,l._)("td",null,(0,g.zw)(t+1),1),(0,l._)("td",null,[e.user?((0,l.wg)(),(0,l.iD)("span",$u,(0,g.zw)(e.user.username),1)):((0,l.wg)(),(0,l.iD)("span",ju,"N/A"))]),(0,l._)("td",null,(0,g.zw)(e.sale?.equipment?.equipmentName||"N/A"),1),(0,l._)("td",null,[(0,l.Uk)((0,g.zw)(e.sale?.client?.name||"N/A")+" ",1),e.sale?.equipment?.arabicname?((0,l.wg)(),(0,l.iD)("span",Bu,(0,g.zw)(" "+e.sale.equipment.arabicname),1)):(0,l.kq)("",!0)]),(0,l._)("td",null,(0,g.zw)(e.sale?.serialNo||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.callRegisterDate?.split("T")[0]||"N/A"),1),(0,l._)("td",null,(0,g.zw)(e.priority?.priority||"N/A"),1),(0,l._)("td",null,(0,g.zw)(o.formatDate(e.createdAt)),1),(0,l._)("td",null,[(0,l.Wm)(K.v,{class:(0,g.C_)({Open:1==e.workingStatusId,Accepted:2==e.workingStatusId,Completed:3==e.workingStatusId,Verified:4==e.workingStatusId,Cancel:5==e.workingStatusId}),style:{"min-width":"100px",cursor:"pointer",color:"white"}},{default:(0,l.w5)((()=>[(0,l._)("span",Yu,(0,g.zw)(e.working_status?.workingStatus||"N/A"),1)])),_:2},1032,["class"])])])))),128))])])),_:1}),e.serviceTotalPages>0?((0,l.wg)(),(0,l.iD)("div",Fu,[(0,l.Wm)(d,{length:e.serviceTotalPages,onChanegePage:o.chanegePage},null,8,["length","onChanegePage"])])):(0,l.kq)("",!0)])),_:1})}var Qu={name:"TechnicianReport",components:{paginationVue:Ta,JsonCSV:mu()},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Technician Report",disabled:!0,href:"/technician-report"}],clien:[],mechine:[],tech:[],machineId:"",clientName:"",techId:"",workingStatusId:"",startDate:"",endDate:"",json_data:[],statuses:[{id:1,name:"Open"},{id:2,name:"In Progress"},{id:3,name:"Completed"},{id:4,name:"Verified"},{id:5,name:"Cancel"}]}},computed:{...(0,$.rn)("service",["serviceList","serviceTotalPages","serviceReportList"]),...(0,$.rn)("clients",["clientList"]),...(0,$.rn)("salesEquipment",["saleEquipmentList"]),...(0,$.rn)("technician",["techList"])},methods:{...(0,$.nv)("clients",["GET_CLIENT_LIST"]),...(0,$.nv)("technician",["GET_TECH_LIST"]),...(0,$.nv)("service",["GET_SERVICE_LIST","GET_SERVICE_REPORT_LIST"]),...(0,$.nv)("salesEquipment",["GET_ALL_SALE_EQUIPMENT"]),formatDate(e){return e?new Date(e).toISOString().split("T")[0]:"N/A"},test(e){return` ${e.equipment?e.equipment.equipmentName:""} (${e.serialNo}) `},getClientMechines(){if(this.clientName){const e={cid:this.clientName,size:1e3};this.GET_ALL_SALE_EQUIPMENT(e).then((()=>{this.mechine=this.saleEquipmentList||[]})).catch((e=>{console.error("Error fetching machines:",e),this.mechine=[]}))}else this.mechine=[]},filterService(){const e={statid:this.workingStatusId||"",startdte:this.startDate||"",enddte:this.endDate||"",tech:this.techId||"",size:10,page:1};this.GET_SERVICE_LIST(e).catch((e=>{console.error("Error filtering services:",e)}))},chanegePage(e){const t={statid:this.workingStatusId||"",startdte:this.startDate||"",enddte:this.endDate||"",tech:this.techId||"",page:e,size:10};this.GET_SERVICE_LIST(t).catch((e=>{console.error("Error changing page:",e)}))},toCSV(){this.json_data=this.serviceList.map((e=>({TECHNICIAN:e.user?.username||"N/A","EQUIPMENT NAME":e.sale?.equipment?.equipmentName||"N/A","CLIENT NAME":e.sale?.client?.name||"N/A","SERIAL NUMBER":e.sale?.serialNo||"N/A","CALL REGISTRATION DATE":e.callRegisterDate?.split("T")[0]||"N/A",PRIORITY:e.priority?.priority||"N/A","CREATED AT":this.formatDate(e.createdAt),STATUS:e.working_status?.workingStatus||"N/A"})))},async toPdf(){const e={statid:this.workingStatusId||"",startdte:this.startDate||"",enddte:this.endDate||"",tech:this.techId||"",size:999999};try{await this.GET_SERVICE_REPORT_LIST(e);const t=new Ym["default"]("p","mm","a4"),a=[{header:"Equipment Name",dataKey:"Eqname"},{header:"Client Name",dataKey:"Clname"},{header:"Serial No",dataKey:"serialNo"},{header:"Call Reg Date",dataKey:"regDate"},{header:"Priority",dataKey:"priority"},{header:"Created At",dataKey:"createdAt"}],i=this.serviceReportList.map((e=>({tech:e.user?.username||"N/A",Eqname:e.sale?.equipment?.equipmentName||"N/A",Clname:e.sale?.client?.name||"N/A",serialNo:e.sale?.serialNo||"N/A",regDate:e.callRegisterDate?.split("T")[0]||"N/A",priority:e.priority?.priority||"N/A",createdAt:this.formatDate(e.createdAt),status:e.working_status?.workingStatus||"N/A"})));this.techId||a.splice(0,0,{header:"Technician",dataKey:"tech"}),this.workingStatusId||a.push({header:"Status",dataKey:"status"}),t.setFontSize(20),t.text("TECHNICIAN REPORT",105,20,{align:"center"}),t.setLineWidth(.5),t.line(15,25,195,25),t.setFontSize(10);let l=35;t.text(`Technician: ${this.techId&&this.tech.find((e=>e.id===this.techId))?.username||"All"}`,15,l),l+=7,t.text(`Status: ${this.workingStatusId&&this.statuses.find((e=>e.id===this.workingStatusId))?.name||"All"}`,15,l),l+=7,t.text("Date Range: "+(this.startDate&&this.endDate?`${this.startDate} ~ ${this.endDate}`:"All"),15,l),Hm()(t,{startY:l+10,head:[a.map((e=>e.header))],body:i.map((e=>a.map((t=>e[t.dataKey])))),styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[4,43,76],textColor:[255,255,255]},margin:{left:15,right:15}}),t.save(`Technician_Report_${(new Date).toISOString().split("T")[0]}.pdf`)}catch(t){console.error("Error generating PDF:",t)}}},mounted(){const e={size:10};Promise.all([this.GET_SERVICE_LIST(e),this.GET_TECH_LIST({size:1e3}).then((()=>{this.tech=this.techList||[]})),this.GET_CLIENT_LIST({size:1e3}).then((()=>{this.clien=this.clientList||[]})),this.GET_ALL_SALE_EQUIPMENT({size:1e3}).then((()=>{this.mechine=this.saleEquipmentList||[]}))]).catch((e=>{console.error("Error during initialization:",e)}))}};const Ku=(0,d.Z)(Qu,[["render",Hu],["__scopeId","data-v-7b6e3023"]]);var Zu=Ku;const Ju=e=>((0,l.dD)("data-v-c2e09a6c"),e=e(),(0,l.Cn)(),e),Xu=(0,l.Uk)("mdi-chevron-right"),eh=Ju((()=>(0,l._)("br",null,null,-1))),th=Ju((()=>(0,l._)("br",null,null,-1))),ah=Ju((()=>(0,l._)("div",{class:"text-h6 mb-2",style:{"font-family":"'Montserrat', sans-serif !important"}}," SERVICE TYPE ",-1))),ih=(0,l.Uk)("Cancel"),lh=(0,l.Uk)("Save"),sh=(0,l.Uk)("Cancel"),nh=(0,l.Uk)("Save"),oh=(0,l.Uk)("Are you sure you want to delete this service type?"),rh=(0,l.Uk)("Cancel"),dh=(0,l.Uk)("Delete");function ch(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:s.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[Xu])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),eh,th,ah,(0,l.Wm)(o,{btn_text:s.cl_text,onBtn_action:n.openAddDialog},null,8,["btn_text","onBtn_action"]),(0,l.Wm)(Z.o,{class:"mt-4"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.ServiceTypeList,((e,t)=>((0,l.wg)(),(0,l.j4)(J.D,{key:e.id,cols:"12",sm:"6",md:"3"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,{class:"pa-4 card-hover",elevation:"2"},{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"text-h6 d-flex align-center"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.type),1)])),_:2},1024),(0,l.Wm)(k.h,{class:"justify-end"},{default:(0,l.w5)((()=>[(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openEditDialog(e),color:"blue-darken-2",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",icon:"mdi-pencil-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024),(0,l.Wm)(Qt.V,null,{default:(0,l.w5)((({isHovering:t,props:a})=>[(0,l.Wm)(Ht.V,(0,l.dG)({rounded:"",size:"small"},a,{class:["mr-1",t?"elevation-12":"elevation-2"],onClick:t=>n.openDeleteDialog(e),color:"#e9bc10",style:{cursor:"pointer"}}),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{size:"18",color:"white",icon:"mdi-trash-can-outline"})])),_:2},1040,["onClick","class"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),(0,l.Wm)(A.B,{modelValue:s.addDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>s.addDialog=e),"max-width":"500px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"text-h6"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(s.dialog_title),1)])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.type,"onUpdate:modelValue":t[0]||(t[0]=e=>s.type=e),label:"Service Type",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue-darken-1",variant:"text",onClick:t[1]||(t[1]=e=>s.addDialog=!1)},{default:(0,l.w5)((()=>[ih])),_:1}),(0,l.Wm)(f.T,{color:"blue-darken-1",variant:"text",onClick:n.addServiceType},{default:(0,l.w5)((()=>[lh])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(A.B,{modelValue:s.editDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.editDialog=e),"max-width":"500px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"text-h6"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(s.edit_dialog_title),1)])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.type,"onUpdate:modelValue":t[3]||(t[3]=e=>s.type=e),label:"Service Type",outlined:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue-darken-1",variant:"text",onClick:t[4]||(t[4]=e=>s.editDialog=!1)},{default:(0,l.w5)((()=>[sh])),_:1}),(0,l.Wm)(f.T,{color:"blue-darken-1",variant:"text",onClick:n.updateServiceType},{default:(0,l.w5)((()=>[nh])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(A.B,{modelValue:s.deleteDialog,"onUpdate:modelValue":t[7]||(t[7]=e=>s.deleteDialog=e),"max-width":"500px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"text-h6"},{default:(0,l.w5)((()=>[oh])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue-darken-1",variant:"text",onClick:t[6]||(t[6]=e=>s.deleteDialog=!1)},{default:(0,l.w5)((()=>[rh])),_:1}),(0,l.Wm)(f.T,{color:"blue-darken-1",variant:"text",onClick:n.deleteServiceType},{default:(0,l.w5)((()=>[dh])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var mh={name:"serviceType",components:{searchAndFilterToolbar:At},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Service Type",disabled:!0,href:"/serviceType"}],addDialog:!1,editDialog:!1,deleteDialog:!1,type:"",type:"",editId:null,deleteId:null,dialog_title:"Add Service Type",edit_dialog_title:"Edit Service Type",cl_text:"Add Service Type"}},computed:{...(0,$.rn)("servicetype",["ServiceTypeList"])},methods:{...(0,$.nv)("servicetype",["GET_SERVICETYPE_LIST","ADD_SERVICETYPE","DELET_SERVICETYPE","EDIT_SERVICETYPE"]),openAddDialog(){this.type="",this.addDialog=!0},async addServiceType(){if(this.type.trim())try{await this.ADD_SERVICETYPE({type:this.type}),await this.GET_SERVICETYPE_LIST(),this.addDialog=!1}catch(e){console.error("Error adding service type:",e)}},openEditDialog(e){this.type=e.type,this.editId=e.id,this.editDialog=!0},async updateServiceType(){if(this.type.trim())try{await this.EDIT_SERVICETYPE({id:this.editId,type:this.type}),await this.GET_SERVICETYPE_LIST(),this.editDialog=!1}catch(e){console.error("Error updating service type:",e)}},openDeleteDialog(e){this.deleteId=e.id,this.deleteDialog=!0},async deleteServiceType(){try{await this.DELET_SERVICETYPE(this.deleteId),await this.GET_SERVICETYPE_LIST(),this.deleteDialog=!1}catch(e){console.error("Error deleting service type:",e)}}},mounted(){this.GET_SERVICETYPE_LIST()}};const uh=(0,d.Z)(mh,[["render",ch],["__scopeId","data-v-c2e09a6c"]]);var hh=uh;const ph=(0,l.Uk)("mdi-chevron-right"),_h=(0,l._)("br",null,null,-1),gh=(0,l._)("br",null,null,-1),fh=(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",{class:"text-left"},"SUBJECT"),(0,l._)("th",{class:"text-left"},"MESSAGE"),(0,l._)("th",{class:"text-left"},"COMMENT"),(0,l._)("th",{class:"text-left"},"ACTIONS")])],-1),wh=(0,l.Uk)("mdi-dots-vertical"),Eh=(0,l.Uk)("mdi-pencil-outline"),yh=(0,l.Uk)(" Edit "),bh=(0,l.Uk)("mdi-trash-can-outline"),Th=(0,l.Uk)(" Delete "),vh=(0,l.Uk)("Confirm Delete"),Sh=(0,l.Uk)(" Are you sure you want to delete this message? "),Ch=(0,l.Uk)("Cancel"),Ih=(0,l.Uk)("Delete"),Dh=(0,l.Uk)("Edit Message"),kh=(0,l.Uk)("Cancel"),Ah=(0,l.Uk)("Save"),Lh=(0,l.Uk)("Add New Message"),Wh=(0,l.Uk)("Cancel"),Vh=(0,l.Uk)("Save");function Nh(e,t,a,i,s,n){const o=(0,l.up)("searchAndFilterToolbar"),r=(0,l.up)("paginationVue");return(0,l.wg)(),(0,l.j4)(E.K,{class:"px-4 px-md-10",fluid:"",style:{height:"100vh",background:"#e7f0f7"}},{default:(0,l.w5)((()=>[(0,l.Wm)(F.c,{items:s.breadcrumbs,class:"breadcrumbs-container"},{divider:(0,l.w5)((()=>[(0,l.Wm)(X.t,{color:"white"},{default:(0,l.w5)((()=>[ph])),_:1})])),item:(0,l.w5)((({item:e})=>[(0,l.Wm)(H.k,{href:e.href,disabled:e.disabled,class:"custom-breadcrumb-item"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,g.zw)(e.text),1)])),_:2},1032,["href","disabled"])])),_:1},8,["items"]),_h,gh,(0,l.Wm)(o,{placeholder:s.placeholder,onSearch:n.filterByName,onAddItem:t[0]||(t[0]=e=>s.dialog=!0)},null,8,["placeholder","onSearch"]),(0,l.Wm)(ee.Y,{class:"rounded-lg mt-4"},{default:(0,l.w5)((()=>[fh,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.filteredMessageList,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",null,(0,g.zw)(e.subject),1),(0,l._)("td",null,(0,g.zw)(e.message),1),(0,l._)("td",null,(0,g.zw)(e.comment),1),(0,l._)("td",null,[(0,l.Wm)(qe.T,{transition:"scale-transition"},{activator:(0,l.w5)((({props:e})=>[(0,l.Wm)(f.T,(0,l.dG)({icon:""},e),{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,null,{default:(0,l.w5)((()=>[wh])),_:1})])),_:2},1040)])),default:(0,l.w5)((()=>[(0,l.Wm)(T.i,{dense:""},{default:(0,l.w5)((()=>[s.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:0,onClick:t=>n.openEditDialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:""},{default:(0,l.w5)((()=>[Eh])),_:1}),yh])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0),s.showToolbar?((0,l.wg)(),(0,l.j4)(b.l,{key:1,onClick:t=>n.openDeleteDialog(e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne.V,null,{default:(0,l.w5)((()=>[(0,l.Wm)(X.t,{left:"",color:"red"},{default:(0,l.w5)((()=>[bh])),_:1}),Th])),_:1})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1024)])),_:2},1024)])])))),128))])])),_:1}),(0,l.Wm)(r,{length:s.totalPages,onChanegePage:n.changePage},null,8,["length","onChanegePage"]),(0,l.Wm)(A.B,{modelValue:s.delete_dialog,"onUpdate:modelValue":t[2]||(t[2]=e=>s.delete_dialog=e),"max-width":"400px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"headline"},{default:(0,l.w5)((()=>[vh])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[Sh])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:t[1]||(t[1]=e=>s.delete_dialog=!1)},{default:(0,l.w5)((()=>[Ch])),_:1}),(0,l.Wm)(f.T,{color:"red darken-1",text:"",onClick:n.deleteMessage},{default:(0,l.w5)((()=>[Ih])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(A.B,{modelValue:s.edit_dialog,"onUpdate:modelValue":t[7]||(t[7]=e=>s.edit_dialog=e),"max-width":"600px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"headline"},{default:(0,l.w5)((()=>[Dh])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.editValue.subject,"onUpdate:modelValue":t[3]||(t[3]=e=>s.editValue.subject=e),label:"Subject",required:"",maxlength:"25"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(Jo.z,{modelValue:s.editValue.message,"onUpdate:modelValue":t[4]||(t[4]=e=>s.editValue.message=e),label:"Message",required:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(Jo.z,{modelValue:s.editValue.comment,"onUpdate:modelValue":t[5]||(t[5]=e=>s.editValue.comment=e),label:"Comment"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:t[6]||(t[6]=e=>s.edit_dialog=!1)},{default:(0,l.w5)((()=>[kh])),_:1}),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:n.updateMessage},{default:(0,l.w5)((()=>[Ah])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(A.B,{modelValue:s.dialog,"onUpdate:modelValue":t[12]||(t[12]=e=>s.dialog=e),"max-width":"600px"},{default:(0,l.w5)((()=>[(0,l.Wm)(I._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D.E,{class:"headline"},{default:(0,l.w5)((()=>[Lh])),_:1}),(0,l.Wm)(Q.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(E.K,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(je.h,{modelValue:s.newMessage.subject,"onUpdate:modelValue":t[8]||(t[8]=e=>s.newMessage.subject=e),label:"Subject",required:"",maxlength:"25"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(Jo.z,{modelValue:s.newMessage.messages,"onUpdate:modelValue":t[9]||(t[9]=e=>s.newMessage.messages=e),label:"Message",required:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(J.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(Jo.z,{modelValue:s.newMessage.comment,"onUpdate:modelValue":t[10]||(t[10]=e=>s.newMessage.comment=e),label:"Comment"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w.C),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:t[11]||(t[11]=e=>s.dialog=!1)},{default:(0,l.w5)((()=>[Wh])),_:1}),(0,l.Wm)(f.T,{color:"blue darken-1",text:"",onClick:n.addMessage},{default:(0,l.w5)((()=>[Vh])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var qh={name:"MESSAGELIST",components:{searchAndFilterToolbar:At,paginationVue:Ta},data(){return{breadcrumbs:[{text:"Home",disabled:!1,href:"/"},{text:"Messages",disabled:!0,href:"/messages"}],placeholder:"Search by subject",dialog:!1,delete_dialog:!1,edit_dialog:!1,deleteValue:{},editValue:{},newMessage:{subject:"",message:"",comment:""},showToolbar:!1,showMessage:!0,totalPages:1,currentPage:1,serviceRequestId:null}},computed:{...(0,$.rn)("message",["MessageList","loading","error"]),...(0,$.Se)("message",["isLoading","hasError","getError"]),filteredMessageList(){return this.serviceRequestId?this.MessageList.filter((e=>e.serviceRequestId===parseInt(this.serviceRequestId))):this.MessageList}},methods:{isAdmin(){const e=JSON.parse(localStorage.getItem("user"));if(e&&e.role){const t=e.role[0];this.showToolbar="admin"===t,this.showMessage="admin"!==t}else this.showToolbar=!1,this.showMessage=!0},...(0,$.nv)("message",["GET_MESSAGE_LIST","ADD_MESSAGE","UPDATE_MESSAGE","DELETE_MESSAGE"]),async addMessage(){try{this.serviceRequestId&&(this.newMessage.serviceRequestId=parseInt(this.serviceRequestId)),await this.ADD_MESSAGE(this.newMessage),await this.fetchMessageList(),this.dialog=!1,this.newMessage={subject:"",messages:"",comment:""}}catch(e){console.error("Error adding message:",e)}},openDeleteDialog(e){this.deleteValue=e,this.delete_dialog=!0},async deleteMessage(){try{await this.DELETE_MESSAGE(this.deleteValue.id),await this.fetchMessageList(),this.delete_dialog=!1,this.deleteValue={}}catch(e){console.error("Error deleting message:",e)}},openEditDialog(e){this.editValue={...e},this.edit_dialog=!0},async updateMessage(){try{await this.UPDATE_MESSAGE(this.editValue),await this.fetchMessageList(),this.edit_dialog=!1,this.editValue={}}catch(e){console.error("Error updating message:",e)}},viewMessage(e){console.log("View message:",e)},filterByName(e){const t={name:e||"",size:15,page:1,serviceRequestId:this.serviceRequestId||void 0};this.GET_MESSAGE_LIST(t)},changePage(e){this.currentPage=e,this.fetchMessageList(e)},async fetchMessageList(e=1){const t={page:e,size:15,serviceRequestId:this.serviceRequestId||void 0};try{await this.GET_MESSAGE_LIST(t),this.totalPages=this.$store.state.message.totalPages||1}catch(a){console.error("Error fetching message list:",a)}}},mounted(){this.isAdmin(),this.serviceRequestId=this.$route.params.serviceRequestId||null,this.fetchMessageList()},watch:{"$route.params.serviceRequestId"(e){this.serviceRequestId=e||null,this.fetchMessageList()}}};const Uh=(0,d.Z)(qh,[["render",Nh]]);var xh=Uh;const Rh=[{path:"/",name:"home",component:Y,redirect:"service",children:[{path:"dashboard",name:"dash",component:De},{path:"category",name:"category",component:Mt},{path:"category/:cat_name",name:"subCat",component:Ft},{path:"category/:cat_name/:sub_name/:id",name:"subEquipment",component:Ca},{path:"equipments",name:"equipment",component:Qi},{path:"equipments/:id",name:"saleEquip",component:kl},{path:"client",name:"client",component:xs},{path:"client/:id",name:"clientInnerPage",component:Vn},{path:"admin",name:"admin",component:no},{path:"subAdmin",name:"subAdmin",component:xo},{path:"technician",name:"technician",component:Zo},{path:"service",name:"serviceRequest",component:_d},{path:"service/:id",name:"serviceInner",component:Kd},{path:"service/calibrations",name:"calibration",component:oc},{path:"reminder/Preventive_reminder",name:"preventiveReminders",component:Vc},{path:"reminder/calibration_reminders",name:"calibrationReminders",component:zc},{path:"reports/client",name:"clientReport",component:Zm},{path:"reports/equipment",name:"equipmentReport",component:pu},{path:"reports/service",name:"servicetReport",component:Vu},{path:"reports/technician",name:"technicianReport",component:Zu},{path:"city",name:"cityPage",component:mm},{path:"careOf",name:"careOfPage",component:bm},{path:"serviceType",name:"serviceType",component:hh},{path:"MessageList",name:"MessageList",component:xh}],beforeEnter:(e,t,a)=>{const i=JSON.parse(localStorage.getItem("user"));i?p()({method:"get",url:"http://147.93.20.187/api/users/all_users/1",headers:{Authorization:"Bearer "+i.access_token}}).then((()=>{a()})).catch((e=>{a({name:"signIn"})})):a({name:"signIn"})}},{path:"/signIn",name:"signIn",component:qm}],Ph=(0,u.PO)(),Mh=(0,u.p7)({scrollBehavior(){return{top:0}},history:Ph,routes:Rh});var zh=Mh,Gh={namespaced:!0,state:{userData:{}},mutations:{SET_USER(e,t){localStorage.setItem("user",JSON.stringify(t)),e.userData=t}},actions:{async USER_LOGIN({commit:e,state:t},a){const i=await p()({method:"post",url:"http://147.93.20.187/api/auth/sign_in",data:{username:a.username,password:a.password}});e("SET_USER",i.data)}},getters:{}},Oh={namespaced:!0,state:{categoryList:{},result:{},delResp:{}},mutations:{SET_CATEGORY_LIST(e,t){e.categoryList=t},SET_ADD_CAT_RESULT(e,t){e.result=t},SET_CAT_DELETE_RESPONSE(e,t){e.delResp=t}},actions:{async GET_ALL_CATEGORY({commit:e,state:t},a){try{const t=JSON.parse(localStorage.getItem("user")),i={method:"get",url:"http://147.93.20.187/api/category/list_of_category",headers:{Authorization:"Bearer "+t.access_token}};a&&(i.params=a);const l=await p()(i);e("SET_CATEGORY_LIST",l.data.data)}catch(i){if(console.log(i),"Unauthorized"==i.response.data.message)return zh.push({name:"signIn"})}},async ADD_CATEGORY({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l=new FormData;l.append("categoryName",a.name),l.append("categoryImage",a.image[0]),await p()({method:"post",url:"http://147.93.20.187/api/category/add_category",data:l,headers:{Authorization:"Bearer "+i.access_token}}).then((t=>{console.log(t),e("SET_ADD_CAT_RESULT",t.data)})).catch((e=>{console.log(e)}))},async UPDATE_CATEGORY({commit:e},t){const a=JSON.parse(localStorage.getItem("user")),i=new FormData;i.append("categoryName",t.item.name),i.append("categoryImage",t.item.image[0]);await p()({method:"post",url:`http://147.93.20.187/api/category/update_category/${t.id}`,data:i,headers:{Authorization:"Bearer "+a.access_token}})},async DELETE_CATEGORY({commit:e},t){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:`http://147.93.20.187/api/category/delete_category/${t.id}`,headers:{Authorization:"Bearer "+a.access_token}});e("SET_CAT_DELETE_RESPONSE",i.data),console.log(i)}},getters:{}},$h={namespaced:!0,state:{subCategoryListAll:{},subCategoryList:{},subcatList:{}},mutations:{SET_SUBCAT_ALL(e,t){e.subCategoryListAll=t},SET_SUBCAT(e,t){e.subCategoryList=t},SET_ALL_SUB_CATEGORY(e,t){e.subcatList=t}},actions:{async GET_SUB_CATEGORY({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:`http://147.93.20.187/api/category/subcategory_with_category/${a.cat_name}`,headers:{Authorization:"Bearer "+i.access_token}},s=await p()(l);e("SET_SUBCAT_ALL",s.data.data[0]),e("SET_SUBCAT",s.data.data[0].subcategories)},async ADD_SUB_CATEGORY({commit:e,state:t},a){try{const e=JSON.parse(localStorage.getItem("user")),i=new FormData;i.append("subcategoryName",a.name),i.append("subcategoryImage",a.image[0]),i.append("categoryId",t.subCategoryListAll.id);await p()({method:"post",url:"http://147.93.20.187/api/category/add_subcategory",data:i,headers:{Authorization:"Bearer "+e.access_token}})}catch(i){console.log(i)}},async DELETE_SUBCATEGORY({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/category/delete_subcategory/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async UPDATE_SUBCATEGORY({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("subcategoryName",t.item.name),a.append("subcategoryImage",t.item.image[0]);await p()({method:"post",url:`http://147.93.20.187/api/category/update_subcategory/${t.id}`,data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async GET_ALL_SUBCATEGORY({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:"http://147.93.20.187/api/category/list_of_subcategory",headers:{Authorization:"Bearer "+a.access_token}}).then((t=>{e("SET_ALL_SUB_CATEGORY",t.data.data)})).catch((e=>{console.log(e)}))}},getters:{get_all_sub_cat_with_cat_id:e=>t=>e.subcatList.filter((e=>e.categoryId===t))}},jh={namespaced:!0,state:{cityList:{},totalPages:""},mutations:{SET_CITY_LIST(e,t){e.cityList=t},SET_CITY_TOTAL_PAGE(e,t){e.totalPages=t}},actions:{async GET_CITY_LIST({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/citys/list_of_citys",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);e("SET_CITY_LIST",s.data.data),e("SET_CITY_TOTAL_PAGE",s.data.totalPages)},async ADD_CITY({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"post",url:"http://147.93.20.187/api/citys/add_city",data:t,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async DELETE_CITY({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/citys/delete_city/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async EDIT_CITY({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"post",url:"http://147.93.20.187/api/citys/update_city",data:{id:t.id,name:t.name},headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}}},getters:{}},Bh={namespaced:!0,state:{careofList:{}},mutations:{SET_CAREOF_LIST(e,t){e.careofList=t}},actions:{async GET_CAREOF_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/clients/list_of_careofs",headers:{Authorization:"Bearer "+a.access_token}});e("SET_CAREOF_LIST",i.data.data)},async ADD_CAREOF({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"post",url:"http://147.93.20.187/api/clients/add_careof",data:{careof:t.name},headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async DELET_CAREOF({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/clients/delete_careof/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async EDIT_CAREOF({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:"http://147.93.20.187/api/clients/update_careof",data:{id:t.id,careof:t.name},headers:{Authorization:"Bearer "+e.access_token}});console.log(a)}catch(a){console.log(a)}}},getters:{}};const Yh=e=>e.replace(/\/+/g,"/").replace(/:\//,"://");var Fh={namespaced:!0,state:{adminList:{},adminTotalPages:"",RoleList:{},UserList:{}},mutations:{SET_ADMIN_LIST(e,t){e.adminList=t},SET_ADMIN_TOTAL_PAGES(e,t){e.adminTotalPages=t},SET_ROLES_LIST(e,t){e.RoleList=t},SET_USER_LIST(e,t){e.UserList=t}},actions:{async GET_ADMIN_LIST({commit:e},t){const a=JSON.parse(localStorage.getItem("user")),i={method:"get",url:Yh("http://147.93.20.187/api//users/all_users/1"),headers:{Authorization:"Bearer "+a.access_token}};t&&(i.params=t);const l=await p()(i);e("SET_ADMIN_TOTAL_PAGES",l.data.totalPages),e("SET_ADMIN_LIST",l.data.data)},async GET_ROLES_LIST({commit:e},t){const a=JSON.parse(localStorage.getItem("user")),i={method:"get",url:Yh("http://147.93.20.187/api//Role/AllRoles"),headers:{Authorization:"Bearer "+a.access_token}};t&&(i.params=t);const l=await p()(i);e("SET_ROLES_LIST",l.data.data)},async GET_USERS_LIST({commit:e},t){const a=JSON.parse(localStorage.getItem("user")),i={method:"get",url:Yh("http://147.93.20.187/api//users"),headers:{Authorization:"Bearer "+a.access_token}};t&&(i.params=t);const l=await p()(i);e("SET_USER_LIST",l.data.data)},async ADD_ADMIN({commit:e},t){if(!t.username||!t.email||!t.password||!t.mobile)throw new Error("Missing required fields: username, email, password, and mobile are required");if(!/\S+@\S+\.\S+/.test(t.email))throw new Error("Invalid email format");if(t.password.length<6)throw new Error("Password must be at least 6 characters long");console.log("ADD_ADMIN Payload:",t);try{t.role=1;const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:Yh("http://147.93.20.187/api//auth/sign_up"),data:t,headers:{Authorization:"Bearer "+e.access_token}});if(console.log("ADD_ADMIN Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to add admin")}catch(a){console.error("ADD_ADMIN Error:",a.response?.data,a.message);a.response?.status;const e=a.response?.data?.message||a.message||"An error occurred while adding admin";throw new Error(e)}},async UPDATE_ADMIN({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:Yh("http://147.93.20.187/api//users/update_users"),data:t,headers:{Authorization:"Bearer "+e.access_token}});if("success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to update admin")}catch(a){throw console.error("UPDATE_ADMIN Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while updating admin")}},async DELETE_ADMIN({commit:e},t){if(!t)throw new Error("User ID is required to delete an admin");console.log("DELETE_ADMIN User ID:",t);try{const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"get",url:Yh(`http://147.93.20.187/api//users/delete_user/${t}`),headers:{Authorization:"Bearer "+e.access_token}});if(console.log("DELETE_ADMIN Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to delete admin")}catch(a){console.error("DELETE_ADMIN Error:",a.response?.data,a.message);const e=a.response?.data?.message||a.message||"An error occurred while deleting admin";throw new Error(e)}}},getters:{}};const Hh=e=>e.replace(/\/+/g,"/").replace(/:\//,"://");var Qh={namespaced:!0,state:{subAdminList:{},editUserValue:{},subAdminTotalPage:""},mutations:{SET_SUBADMIN_LIST(e,t){e.subAdminList=t},SET_EDIT_USER_VALUE(e,t){e.editUserValue=t},SET_SUBADMIN_TOTAL_PAGE(e,t){e.subAdminTotalPage=t}},actions:{async GET_SABADMIN_LIST({commit:e},t){const a=JSON.parse(localStorage.getItem("user")),i={method:"get",url:Hh("http://147.93.20.187/api//users/all_users/2"),headers:{Authorization:"Bearer "+a.access_token}};t&&(i.params=t);const l=await p()(i);e("SET_SUBADMIN_LIST",l.data.data),e("SET_SUBADMIN_TOTAL_PAGE",l.data.totalPages)},async ADD_SUBADMIN({commit:e},t){if(!t.username||!t.email||!t.password||!t.mobile)throw new Error("Missing required fields: username, email, password, and mobile are required");if(!/\S+@\S+\.\S+/.test(t.email))throw new Error("Invalid email format");if(t.password.length<6)throw new Error("Password must be at least 6 characters long");console.log("ADD_SUBADMIN Payload:",t);try{t.role=2;const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:Hh("http://147.93.20.187/api//auth/sign_up"),data:t,headers:{Authorization:"Bearer "+e.access_token}});if(console.log("ADD_SUBADMIN Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to add sub-admin")}catch(a){console.error("ADD_SUBADMIN Error:",a.response?.data,a.message);a.response?.status;const e=a.response?.data?.message||a.message||"An error occurred while adding sub-admin";throw new Error(e)}},async DELETE_SUBADMIN({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:Hh(`http://147.93.20.187/api//users/delete_user/${t.id}`),headers:{Authorization:"Bearer "+e.access_token}})}catch(a){throw new Error(a.response?.data?.message||"Failed to delete sub-admin")}},async GET_USER_WITH_ID({commit:e},t){try{const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:Hh(`http://147.93.20.187/api//users/get_user/${t.id}`),headers:{Authorization:"Bearer "+a.access_token}}),l=i.data.rows&&i.data.rows.length>0?i.data.rows[0]:i.data;if(!l.id)throw new Error("No valid user data found in response");return e("SET_EDIT_USER_VALUE",l),l}catch(a){throw new Error(a.response?.data?.message||"Failed to fetch user data")}},async UPDATE_SUBADMIN({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:Hh("http://147.93.20.187/api//users/update_users"),data:t,headers:{Authorization:"Bearer "+e.access_token}});if("success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to update sub-admin")}catch(a){throw new Error(a.response?.data?.message||"An error occurred while updating sub-admin")}}},getters:{}};const Kh=e=>e.replace(/\/+/g,"/").replace(/:\//,"://");var Zh={namespaced:!0,state:{techList:{},editTechValue:{},techListTotalPage:""},mutations:{SET_TECH_LIST(e,t){e.techList=t},SET_EDIT_TECH_VALUE(e,t){e.editTechValue=t},SET_TECH_TOTAL_PAGE(e,t){e.techListTotalPage=t}},actions:{async GET_TECH_LIST({commit:e},t){try{const a=JSON.parse(localStorage.getItem("user")),i={method:"get",url:Kh("http://147.93.20.187/api//users/all_users/3"),headers:{Authorization:"Bearer "+a.access_token}};t&&(i.params=t);const l=await p()(i);return e("SET_TECH_LIST",l.data.data),e("SET_TECH_TOTAL_PAGE",l.data.totalPages),l.data}catch(a){throw console.error("GET_TECH_LIST Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"Failed to fetch technician list")}},async ADD_TECH({commit:e},t){if(!t.username||!t.email||!t.password||!t.mobile)throw new Error("Missing required fields: username, email, password, and mobile are required");if(!/\S+@\S+\.\S+/.test(t.email))throw new Error("Invalid email format");if(t.password.length<6)throw new Error("Password must be at least 6 characters long");try{t.role=3;const e=JSON.parse(localStorage.getItem("user"));console.log("ADD_TECH Payload:",t);const a=await p()({method:"post",url:Kh("http://147.93.20.187/api//auth/sign_up"),data:t,headers:{Authorization:"Bearer "+e.access_token}});if(console.log("ADD_TECH Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to add technician")}catch(a){throw console.error("ADD_TECH Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while adding technician")}},async DELETE_TECH({commit:e},t){if(!t)throw new Error("User ID is required to delete a technician");try{console.log("DELETE_TECH User ID:",t);const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"get",url:Kh(`http://147.93.20.187/api//users/delete_user/${t}`),headers:{Authorization:"Bearer "+e.access_token}});if(console.log("DELETE_TECH Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to delete technician")}catch(a){throw console.error("DELETE_TECH Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while deleting technician")}},async DELETE_SUBADMIN({commit:e},t){if(!t.id)throw new Error("User ID is required to delete a subadmin");try{console.log("DELETE_SUBADMIN User ID:",t.id);const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"get",url:Kh(`http://147.93.20.187/api//users/delete_user/${t.id}`),headers:{Authorization:"Bearer "+e.access_token}});if(console.log("DELETE_SUBADMIN Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to delete subadmin")}catch(a){throw console.error("DELETE_SUBADMIN Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while deleting subadmin")}},async GET_USER_WITH_ID({commit:e},t){if(!t.id)throw new Error("User ID is required to fetch user data");try{console.log("GET_USER_WITH_ID User ID:",t.id);const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:Kh(`http://147.93.20.187/api//users/get_user/${t.id}`),headers:{Authorization:"Bearer "+a.access_token}});return e("SET_EDIT_TECH_VALUE",i.data.data),console.log("GET_USER_WITH_ID Response:",i.data),i.data}catch(a){throw console.error("GET_USER_WITH_ID Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while fetching user data")}},async UPDATE_TECH({commit:e},t){if(!t.id)throw new Error("User ID is required to update technician");try{console.log("UPDATE_TECH Payload:",t);const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:Kh("http://147.93.20.187/api//users/update_users"),data:t,headers:{Authorization:"Bearer "+e.access_token}});if(console.log("UPDATE_TECH Response:",a.data),"success"===a.data.response)return a.data;throw new Error(a.data.message||"Failed to update technician")}catch(a){throw console.error("UPDATE_TECH Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while updating technician")}},async GET_TECNICIAN_REPORT({commit:e},t){try{console.log("GET_TECNICIAN_REPORT Payload:",t);const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"get",url:Kh("http://147.93.20.187/api//users/list_of_service"),params:t,headers:{Authorization:"Bearer "+e.access_token}});return console.log("GET_TECNICIAN_REPORT Response:",a.data),a.data}catch(a){throw console.error("GET_TECNICIAN_REPORT Error:",a.response?.data,a.message),new Error(a.response?.data?.message||"An error occurred while fetching technician report")}}},getters:{}},Jh={namespaced:!0,state:{clientList:[],clientListReport:{},editClientValue:{},clientTotalPage:""},mutations:{SET_CLIENT_LIST(e,t){e.clientList=t},SET_CLIENT_REPORT_LIST(e,t){e.clientListReport=t},SET_EDIT_CLIENT_VALUE(e,t){e.editClientValue=t},SET_CLIENT_TOTAL_PAGE(e,t){e.clientTotalPage=t}},actions:{async GET_CLIENT_LIST({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/clients/list_of_clients",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);e("SET_CLIENT_LIST",s.data.data),e("SET_CLIENT_TOTAL_PAGE",s.data.totalPages)},async GET_CLIENT_LIST_REPORT({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/clients/list_of_clients",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);e("SET_CLIENT_REPORT_LIST",s.data.data)},async ADD_CLIENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"post",url:"http://147.93.20.187/api/clients/add_client",data:t,headers:{Authorization:"Bearer "+e.access_token}});if(console.log("API Response:",a),a&&a.data)return a.data;throw new Error("Invalid response from the server")}catch(a){throw console.error("Error in ADD_CLIENT:",a),a}},async DELETE_CLIENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/clients/delete_client/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async GET_CLIENT_BY_ID({commit:e,state:t},a){console.log(a);try{const t=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:`http://147.93.20.187/api/clients/list_of_clients/${a.id}`,headers:{Authorization:"Bearer "+t.access_token}});e("SET_EDIT_CLIENT_VALUE",i.data.data[0])}catch(i){console.log(i)}},async UPDATE_CLIENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"post",url:"http://147.93.20.187/api/clients/update_client",data:t,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async FILTER_CLIENT({commit:e},t){try{const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/clients/list_of_clients",params:t,headers:{Authorization:"Bearer "+a.access_token}});e("SET_CLIENT_LIST",i.data.data)}catch(a){console.log(a)}}},getters:{getClientById:e=>t=>e.clientList.find((e=>e.id===t))}},Xh={namespaced:!0,state:{equipmentListAll:{},editValue:{},allEquipments:{},statusList:{},equipmentTotalPage:""},mutations:{SET_EQUIPMENTS_ALL(e,t){e.equipmentListAll=t},SET_EDIT_EQUIPMET_VALUE(e,t){e.editValue=t},SET_ALL_EQUIPMENTS(e,t){e.allEquipments=t},SET_EQUIPMETS_TOTAL_PAGE(e,t){e.equipmentTotalPage=t},SET_STATUS_LIST(e,t){e.statusList=t}},actions:{async GET_EQUIPMENT({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/equipment/equipment_by_subcategory",params:{cat:a.cat_name,sub:a.sub_name},headers:{Authorization:"Bearer "+i.access_token}};a.query&&(l.params.cat=a.params.cat_name,l.params.sub=a.params.sub_name,l.params.page=a.query.page,l.params.size=a.query.size);const s=await p()(l);e("SET_EQUIPMENTS_ALL",s.data.data),e("SET_EQUIPMETS_TOTAL_PAGE",s.data.totalPages)},async ADD_EQUIPMENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("equipmentName",t.name),a.append("equipmentImage",t.image[0]),a.append("subcategoryId",t.id),a.append("model",t.model),a.append("warrantyStatusId",t.warrantyStatus);await p()({method:"post",url:"http://147.93.20.187/api//equipment/add_equipment",data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async DELETE_EQUIPMENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/equipment/delete_equipment/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async GET_EQUIPMENT_BY_ID({commit:e,state:t},a){try{const t=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:`http://147.93.20.187/api/equipment/equipment_by_id/${a.id}`,headers:{Authorization:"Bearer "+t.access_token}});e("SET_EDIT_EQUIPMET_VALUE",i.data)}catch(i){console.log(i)}},async UPDATE_EQUIPMENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("equipmentName",t.name),a.append("equipmentImage",t.image[0]),a.append("model",t.model),a.append("warrantyStatusId",t.warrantyStatusId);await p()({method:"post",url:`http://147.93.20.187/api/equipment/update_equipment/ ${t.id}`,data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async GET_ALL_EQUIPMENT({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i={method:"get",url:"http://147.93.20.187/api/equipment/all_equipments",headers:{Authorization:"Bearer "+a.access_token},params:{size:1e3}};await p()(i).then((a=>{e("SET_ALL_EQUIPMENTS",a.data.data),console.log(t.allEquipments)})).catch((e=>{console.log(e)}))},async GET_STATUS_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/equipment/list_of_warrantystatus",headers:{Authorization:"Bearer "+a.access_token}});e("SET_STATUS_LIST",i.data)}},getters:{get_all_equipment_with_sub_catId:e=>t=>e.allEquipments.filter((e=>e.subcategoryId===t))}},ep={namespaced:!0,state:{saleEquipmentList:[],saleEquipmentReport:{},editValue:{},serialList:{},saleTotalPage:""},mutations:{SET_SALE_EQUIPMENTS(e,t){e.saleEquipmentList=t},SET_SALE_EQUIPMENTS_REPORT_DATA(e,t){e.saleEquipmentReport=t},REMOVE_SALE_EQUIPMENTS(e){e.saleEquipmentList={}},SET_EDIT_SALE_EQUIPMET_VALUE(e,t){e.editValue=t},SET_SALE_EQUIMENT_TOTAL_PAGE(e,t){e.saleTotalPage=t},SET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID(e,t){e.serialList=t}},actions:{async GET_ALL_SALE_EQUIPMENT({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/sales/list_of_sales",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);console.log(s.data.data),e("SET_SALE_EQUIPMENTS",s.data.data),e("SET_SALE_EQUIMENT_TOTAL_PAGE",s.data.totalPages)},async GET_ALL_SALE_EQUIPMENT_FOR_REPORT({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/sales/list_of_sales",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);e("SET_SALE_EQUIPMENTS_REPORT_DATA",s.data.data)},async ADD_SALE_EQUIPMENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("serialNo",t.serialNo),a.append("equipmentId",t.equipmentId),a.append("clientId",t.clientId),a.append("maintenancePeriod",t.maintenancePeriod),a.append("purchaseDate",t.purchaseDate),a.append("installationDate",t.installationDate),a.append("LastMaintenanceDate",t.LastMaintenanceDate),a.append("warrantyDate",t.warrantyDate),a.append("invoice",t.invoice[0]),a.append("installationReport",t.installationReport[0]),a.append("warrantyDocument",t.warrantyDocument[0]),a.append("maintenanceContract",t.maintenanceContract[0]),a.append("annualMaintenanceContract",t.annualMaintenanceContract[0]);await p()({method:"post",url:"http://147.93.20.187/api/sales/add_sales",data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async DELETE_SALE_EQUIPMENT({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/sales/delete_sales/${t}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async GET_SALE_EQUIPMENT_BY_ID({commit:e,state:t},a){try{const i=JSON.parse(localStorage.getItem("user")),l=await p()({method:"get",url:"http://147.93.20.187/api/sales/list_of_sales",params:{sid:a.id},headers:{Authorization:"Bearer "+i.access_token}});e("SET_EDIT_SALE_EQUIPMET_VALUE",l.data.data[0]),console.log(t.editValue)}catch(i){console.log(i)}},async UPDATE_SALE_EQUIPMET({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("serialNo",t.serialNo),a.append("equipmentId",t.equipmentId),a.append("clientId",t.clientId),t.maintenancePeriod&&a.append("maintenancePeriod",t.maintenancePeriod),a.append("purchaseDate",t.purchaseDate),a.append("installationDate",t.installationDate),a.append("LastMaintenanceDate",t.LastMaintenanceDate),a.append("warrantyDate",t.warrantyDate),t.invoice&&a.append("invoice",t.invoice[0]),t.installationReport&&a.append("installationReport",t.installationReport[0]),t.warrantyDocument&&a.append("warrantyDocument",t.warrantyDocument[0]),t.maintenanceContract&&a.append("maintenanceContract",t.maintenanceContract[0]),t.annualMaintenanceContract&&a.append("annualMaintenanceContract",t.annualMaintenanceContract[0]);await p()({method:"post",url:`http://147.93.20.187/api/sales/update_sales/ ${t.id}`,data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async EQUIPMENT_FILTER({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:"http://147.93.20.187/api/sales/all_sales",headers:{Authorization:"Bearer "+i.access_token},params:a}).then((t=>{e("SET_SALE_EQUIPMENTS",t.data.data)})).catch((e=>{console.log(e)}))},async GET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:"http://147.93.20.187/api/sales/list_of_sales",headers:{Authorization:"Bearer "+i.access_token},params:a}).then((t=>{e("SET_SALE_EQUIPMENT_BY_EQUIPMENT_ID_AND_CLIENT_ID",t.data.data)})).catch((e=>{console.log(e)}))}},getters:{get_all_equipment_with_clientId_and_equiId:e=>(t,a)=>e.saleEquipmentList.filter((e=>e.equipmentId===a&&e.clientId===t)),get_sale_by_serialNo:e=>t=>e.saleEquipmentList.find((e=>e.serialNo===t))}},tp={namespaced:!0,state:{serviceList:[],serviceReportList:{},editServicetValue:{},serviceTotalPages:""},mutations:{SET_SERVICE_LIST(e,t){e.serviceList=t},SET_SERVICE_REPORT_LIST(e,t){e.serviceReportList=t},REMOVE_ALL_SERVICE_LIST(e){e.serviceList={}},SET_EDIT_SERVICE_VALUE(e,t){e.editServicetValue=t},SET_SERVIEC_TOTAL_PAGES(e,t){e.serviceTotalPages=t}},actions:{async GET_SERVICE_LIST({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/service/list_of_servicereq",headers:{Authorization:"Bearer "+i.access_token},params:a||{}};try{const t=await p()(l);console.log("API Response:",t.data),e("SET_SERVICE_LIST",t.data.data),e("SET_SERVIEC_TOTAL_PAGES",t.data.totalPages)}catch(s){console.error("API Error:",s)}},async GET_SERVICE_REPORT_LIST({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/service/list_of_servicereq",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);e("SET_SERVICE_REPORT_LIST",s.data.data),console.log(s)},async ADD_SERVICE({commit:e},t){try{console.log(t);const e=JSON.parse(localStorage.getItem("user"));console.log(t);const a=await p()({method:"post",url:"http://147.93.20.187/api/service/add_servicereq",data:t,headers:{Authorization:"Bearer "+e.access_token}});console.log(a)}catch(a){console.log(a)}},async CHENGE_SERVICE_STATUS({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("workingStatusId",t.workingStatusId),a.append("saleId",t.saleId);await p()({method:"post",url:`http://147.93.20.187/api/service/update_servicereq/${t.id}`,data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async DELETE_SERVICE_REQUEST({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/service/delete_servicereq/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async GET_SERVICE_WITH_ID({commit:e,state:t},a){try{const t=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/service/list_of_servicereq",params:{id:a.id},headers:{Authorization:"Bearer "+t.access_token}});e("SET_EDIT_SERVICE_VALUE",i.data.data[0])}catch(i){console.log(i)}},async UPDATE_SERVICE({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=new FormData;a.append("saleId",t.saleId),a.append("description",t.description),a.append("staffId",t.staffId),a.append("callHandleId",t.callHandleId),a.append("workingConditionId",t.workingConditionId),a.append("priorityId",t.priorityId),a.append("document1",t.doc1[0]),a.append("document2",t.doc2[0]),a.append("document3",t.doc3[0]);await p()({method:"post",url:`http://147.93.20.187/api/service/update_servicereq/${t.id}`,data:a,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}}},getters:{getClientById:e=>t=>e.clientList.find((e=>e.id===t))}},ap={namespaced:!0,state:{preventiveList:{},preventiveTotalPage:""},mutations:{SET_PREVENTIVE_LIST(e,t){e.preventiveList=t},SET_PREVENTIVE_TOTAL_PAGE(e,t){e.preventiveTotalPage=t}},actions:{async GET_PREVENTIVE_LIST({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/remainder/preventive_remainder?sort=desc",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);console.log(s.data.data),e("SET_PREVENTIVE_LIST",s.data.data),e("SET_PREVENTIVE_TOTAL_PAGE",s.data.totalPages),console.log(s.data)},async UPDATE_SERVICE_PREVENTIVE({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user"));await p()({method:"post",url:"http://147.93.20.187/api/service/add_servicereq_frompreventive",data:{saleId:a.saleId,description:"Preventive Reminder",statusId:1,callHandleId:2,workingConditionId:1,priorityId:1,callRegisterDate:Date.now()},headers:{Authorization:"Bearer "+i.access_token}})}},getters:{}},ip={namespaced:!0,state:{calibrationList:{},calibrationTotalPage:""},mutations:{SET_CALIBRATION_LIST(e,t){e.calibrationList=t},SET_CALIBRATION_TOTAL_PAGE(e,t){e.calibrationTotalPage=t}},actions:{async GET_CALIBRATION_LIST({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l={method:"get",url:"http://147.93.20.187/api/remainder/calibration_remainder",headers:{Authorization:"Bearer "+i.access_token}};a&&(l.params=a);const s=await p()(l);console.log(s.data.data),e("SET_CALIBRATION_LIST",s.data.data),e("SET_CALIBRATION_TOTAL_PAGE",s.data.totalPages)},async UPDATE_SERVICE_CALIBRATION({commit:e,state:t},a){const i=JSON.parse(localStorage.getItem("user")),l=await p()({method:"post",url:"http://147.93.20.187/api/service/add_servicereq_fromcalibrative",data:{saleId:a.saleId,description:"Calibration Reminder",statusId:1,callHandleId:2,workingConditionId:1,priorityId:1,callRegisterDate:Date.now()},headers:{Authorization:"Bearer "+i.access_token}});console.log(l)}},getters:{}},lp={namespaced:!0,state:{dashboardValue:{}},mutations:{SET_DASHBOARD(e,t){e.dashboardValue=t}},actions:{async GET_DASHBOARD({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/users/get_dashboard",headers:{Authorization:"Bearer "+a.access_token}});e("SET_DASHBOARD",i.data),console.log(i.data)}},getters:{}},sp={namespaced:!0,state:{conditionList:{}},mutations:{SET_CONDITION_LIST(e,t){e.conditionList=t}},actions:{async GET_CONDITION_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/service/list_of_working_condition",headers:{Authorization:"Bearer "+a.access_token}});e("SET_CONDITION_LIST",i.data)}},getters:{getworkingConditoinWithId:e=>t=>e.conditionList.find((e=>e.id===t))}},np={namespaced:!0,state:{callhandelList:{}},mutations:{SET_CALL_HANDLE_LIST(e,t){e.callhandelList=t}},actions:{async GET_CALL_HANDLE_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/service/list_of_callhandle",headers:{Authorization:"Bearer "+a.access_token}});e("SET_CALL_HANDLE_LIST",i.data)}},getters:{}},op={namespaced:!0,state:{priorityList:{}},mutations:{SET_PRIORITY_LIST(e,t){e.priorityList=t}},actions:{async GET_PRIORITY_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/service/list_of_priority",headers:{Authorization:"Bearer "+a.access_token}});e("SET_PRIORITY_LIST",i.data)}},getters:{getworkingConditoinWithId:e=>t=>e.conditionList.find((e=>e.id===t))}},rp={namespaced:!0,state:{statusList:{}},mutations:{SET_STATUS_LIST(e,t){e.statusList=t}},actions:{async GET_STATUS_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/service/list_of_working_status",headers:{Authorization:"Bearer "+a.access_token}});e("SET_STATUS_LIST",i.data.data)}},getters:{}},dp={namespaced:!0,state:{ServiceTypeList:{}},mutations:{SET_SERVICETYPE_LIST(e,t){e.ServiceTypeList=t}},actions:{async GET_SERVICETYPE_LIST({commit:e,state:t}){const a=JSON.parse(localStorage.getItem("user")),i=await p()({method:"get",url:"http://147.93.20.187/api/service/list_of_serviceType",headers:{Authorization:"Bearer "+a.access_token}});e("SET_SERVICETYPE_LIST",i.data)},async ADD_SERVICETYPE({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"post",url:"http://147.93.20.187/api/service/add_serviceType",data:{careof:t.name},headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async DELET_SERVICETYPE({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user"));await p()({method:"get",url:`http://147.93.20.187/api/service/delete_serviceType/${t.id}`,headers:{Authorization:"Bearer "+e.access_token}})}catch(a){console.log(a)}},async EDIT_SERVICETYPE({commit:e},t){try{const e=JSON.parse(localStorage.getItem("user")),a=await p()({method:"put",url:"http://147.93.20.187/api/service/update_serviceType",data:{id:t.id,careof:t.name},headers:{Authorization:"Bearer "+e.access_token}});console.log(a)}catch(a){console.log(a)}}},getters:{}},cp={namespaced:!0,state:{MessageList:{},loading:!1,error:null},mutations:{SET_MESSAGE_LIST(e,t){e.MessageList=t},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},ADD_MESSAGE(e,t){Array.isArray(e.MessageList)?e.MessageList.push(t):e.MessageList=[t]},UPDATE_MESSAGE_IN_LIST(e,t){if(Array.isArray(e.MessageList)){const a=e.MessageList.findIndex((e=>e.id===t.id));-1!==a&&e.MessageList.splice(a,1,t)}},REMOVE_MESSAGE_FROM_LIST(e,t){Array.isArray(e.MessageList)&&(e.MessageList=e.MessageList.filter((e=>e.id!==t)))}},actions:{async GET_MESSAGE_LIST({commit:e}){e("SET_LOADING",!0),e("SET_ERROR",null);try{console.log("Step 1: Retrieving auth from localStorage");const t=JSON.parse(localStorage.getItem("user"));if(console.log("Auth data:",t),!t||!t.access_token)throw console.log("Step 1 Error: No auth or access_token found"),new Error("No authentication token found");console.log("Step 2: Preparing Axios request");const a={method:"get",url:"http://147.93.20.187/api/message/list",headers:{Authorization:"Bearer "+t.access_token}};console.log("Request config:",a),console.log("Step 3: Sending GET request to",a.url);const i=await p()(a);console.log("Step 3 Response:",i),console.log("Response data:",i.data),console.log("Step 4: Extracting data from response");const l=i.data.data;return console.log("Message data to commit:",l),l||console.log('Step 4 Warning: No "data" field in response.data'),console.log("Step 5: Committing data to SET_MESSAGE_LIST"),e("SET_MESSAGE_LIST",l),console.log("Step 6: GET_MESSAGE_LIST completed successfully"),l}catch(t){throw console.log("Step 7: Error occurred in GET_MESSAGE_LIST"),console.log("Error details:",t),t.response?(console.log("Server response error:",t.response.data),console.log("Status code:",t.response.status)):t.request?console.log("No response received:",t.request):console.log("Error setting up request:",t.message),e("SET_ERROR",t.message||"Failed to fetch messages"),t}finally{e("SET_LOADING",!1)}},async ADD_CEOMESSAGE({commit:e},t){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=JSON.parse(localStorage.getItem("user"));if(!a||!a.access_token)throw new Error("No authentication token found");const i=await p()({method:"post",url:"http://147.93.20.187/api/message/create",data:{subject:t.subject,serviceRequestId:t.serviceRequestId,messages:t.message,comment:t.comment},headers:{Authorization:"Bearer "+a.access_token}});if(console.log("CEO Message Response:",i.data),i.data&&"success"===i.data.response)return i.data.data&&e("ADD_MESSAGE",i.data.data),i.data;throw new Error(i.data.message||"Failed to create CEO message")}catch(a){throw console.error("Error in ADD_CEOMESSAGE:",a),e("SET_ERROR",a.message||"Failed to add message"),a}finally{e("SET_LOADING",!1)}},async UPDATE_MESSAGE({commit:e},t){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=JSON.parse(localStorage.getItem("user"));if(!a||!a.access_token)throw new Error("No authentication token found");const i=await p()({method:"put",url:`http://147.93.20.187/api/message/update/${t.id}`,data:{subject:t.subject,requested_type:t.requested_type,serviceRequestId:t.serviceRequestId,message:t.message,comment:t.comment},headers:{Authorization:"Bearer "+a.access_token}});if(console.log("Update Message Response:",i.data),i.data&&"success"===i.data.response)return i.data.data&&e("UPDATE_MESSAGE_IN_LIST",i.data.data),i.data;throw new Error(i.data.message||"Failed to update message")}catch(a){throw console.error("Error in UPDATE_MESSAGE:",a),e("SET_ERROR",a.message||"Failed to update message"),a}finally{e("SET_LOADING",!1)}},async DELETE_MESSAGE({commit:e},t){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=JSON.parse(localStorage.getItem("user"));if(!a||!a.access_token)throw new Error("No authentication token found");const i=await p()({method:"delete",url:`http://147.93.20.187/api/message/delete/${t}`,headers:{Authorization:"Bearer "+a.access_token}});if(console.log("Delete Message Response:",i.data),i.data&&"success"===i.data.response)return e("REMOVE_MESSAGE_FROM_LIST",t),i.data;throw new Error(i.data.message||"Failed to delete message")}catch(a){throw console.error("Error in DELETE_MESSAGE:",a),e("SET_ERROR",a.message||"Failed to delete message"),a}finally{e("SET_LOADING",!1)}},async GET_MESSAGE_BY_ID({commit:e},t){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=JSON.parse(localStorage.getItem("user"));if(!a||!a.access_token)throw new Error("No authentication token found");const i=await p()({method:"get",url:`http://147.93.20.187/api/message/${t}`,headers:{Authorization:"Bearer "+a.access_token}});if(console.log("Get Message By ID Response:",i.data),i.data&&"success"===i.data.response)return i.data.data;throw new Error(i.data.message||"Failed to get message")}catch(a){throw console.error("Error in GET_MESSAGE_BY_ID:",a),e("SET_ERROR",a.message||"Failed to get message details"),a}finally{e("SET_LOADING",!1)}}},getters:{getAllMessages:e=>e.MessageList,getMessageById:e=>t=>Array.isArray(e.MessageList)?e.MessageList.find((e=>e.id===t)):null,isLoading:e=>e.loading,hasError:e=>!!e.error,getError:e=>e.error}},mp=(0,$.MT)({namespaced:!0,state:{},getters:{},mutations:{},actions:{},modules:{user:Gh,category:Oh,subCategory:$h,city:jh,careof:Bh,admin:Fh,subAdmin:Qh,technician:Zh,clients:Jh,equipments:Xh,salesEquipment:ep,service:tp,PreventiveReminders:ap,dashboard:lp,calibrationReminter:ip,workingCondition:sp,callHandle:np,priority:op,status:rp,servicetype:dp,message:cp}}),up=(a(9773),a(8957)),hp=(0,up.Rd)();async function pp(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}pp(),(0,i.ri)(m).use(zh).use(mp).use(hp).mount("#app")},9428:function(e,t,a){"use strict";e.exports=a.p+"img/LogoGQTC.4050bd79.png"},9690:function(e,t,a){"use strict";e.exports=a.p+"img/98288-loading.960502fd.gif"}},t={};function a(i){var l=t[i];if(void 0!==l)return l.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,i,l,s){if(!i){var n=1/0;for(c=0;c<e.length;c++){i=e[c][0],l=e[c][1],s=e[c][2];for(var o=!0,r=0;r<i.length;r++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(o=!1,s<n&&(n=s));if(o){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,l,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(i,l){if(1&l&&(i=this(i)),8&l)return i;if("object"===typeof i&&i){if(4&l&&i.__esModule)return i;if(16&l&&"function"===typeof i.then)return i}var s=Object.create(null);a.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&l&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){n[e]=function(){return i[e]}}));return n["default"]=function(){return i},a.d(s,n),s}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+(461===e?"webfontloader":e)+"."+{269:"6748ec78",461:"184eb380",617:"be4fc336",902:"2f938f66"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="hospital_app:";a.l=function(i,l,s,n){if(e[i])e[i].push(l);else{var o,r;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var m=d[c];if(m.getAttribute("src")==i||m.getAttribute("data-webpack")==t+s){o=m;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+s),o.src=i),e[i]=[l];var u=function(t,a){o.onerror=o.onload=null,clearTimeout(h);var l=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),l&&l.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),r&&document.head.appendChild(o)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,i){var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)i.push(l[2]);else{var s=new Promise((function(a,i){l=e[t]=[a,i]}));i.push(l[2]=s);var n=a.p+a.u(t),o=new Error,r=function(i){if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",o.name="ChunkLoadError",o.type=s,o.request=n,l[1](o)}};a.l(n,r,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var l,s,n=i[0],o=i[1],r=i[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(r)var c=r(a)}for(t&&t(i);d<n.length;d++)s=n[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},i=self["webpackChunkhospital_app"]=self["webpackChunkhospital_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(7959)}));i=a.O(i)})();
//# sourceMappingURL=app.67a43759.js.map